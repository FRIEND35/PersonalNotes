
###### Что это такое?

Графический (дисплейный, сервер отображения ) — это программа, которая отвечает за координацию ввода и вывода своих клиентов с остальной частью операционной системы, а также между оборудованием и операционной системой. По сути, благодаря серверу отображения вы можете использовать свой компьютер в графическом режиме (GUI). Без сервера отображения вы были бы ограничены только интерфейсом командной строки (TTY).

Сервер отображения обеспечивает основу для графической среды, так что вы можете использовать мышь и клавиатуру для взаимодействия с приложениями.

Сервер дисплея взаимодействует со своими клиентами по протоколу сервера дисплея, например X11. Сервер отображения является ключевым компонентом любого графического пользовательского интерфейса, особенно оконной системы.

Не путайте сервер дисплея с окружением рабочего стола. В окружении рабочего стола под ним используется дисплейный сервер.

Звучит знакомо, но не совсем понятно? Позволь мне объяснить.

###### Отображение протоколов связи с сервером в Linux

В Linux доступны три протокола отображения: X11, Wayland и Mir. Я дам вам краткое описание этих серверов отображения.
###### X11

X11 (также называемый X) — это устаревший дисплей-сервер, который существует уже много лет. Это наиболее распространенный дисплей-сервер, используемый в дистрибутивах Linux.

Протокол связи X11 использует сервер отображения [X.org Server](https://en.wikipedia.org/wiki/X.Org_Server) . Он получает события ввода от [драйверов устройств](https://en.wikipedia.org/wiki/Device_driver) и делает их доступными для одного из своих клиентов.

Сервер отображения также получает данные от своих клиентов, он обрабатывает данные и выполняет композицию, а в Linux он передает данные одному из трех компонентов ядра — [DRM](https://en.wikipedia.org/wiki/Direct_Rendering_Manager) , [gem](https://en.wikipedia.org/wiki/Graphics_Execution_Manager) или [драйверу KMS](https://en.wikipedia.org/wiki/KMS_driver) .

X.Org.Server — это сервер отображения, который использует вторую программу, [оконный менеджер композитинга](https://en.wikipedia.org/wiki/Compositing_window_manager), для выполнения композитинга. Примеры: [Mutter](https://en.wikipedia.org/wiki/Mutter_(window_manager)) или [KWin](https://en.wikipedia.org/wiki/KWin) . GNOME использует Mutter.

###### Wayland

Согласно его веб-сайту, Wayland «задумана как более простая замена X, более простая в разработке и обслуживании».

И действительно, [Wayland](https://wayland.freedesktop.org/) — это современный дисплей-сервер, который должен заменить устаревший X-дисплей.

Его принятие все еще продолжается. Ubuntu попыталась переключиться на Wayland в качестве сервера отображения по умолчанию с версией 17.10, но эксперимент встретил отрицательные отзывы.

Многие приложения с графическим интерфейсом и их фреймворки зависят от X-сервера. Эти приложения не работали должным образом на Wayland.

Это заставило Ubuntu оставаться на X в качестве сервера отображения по умолчанию. Он по-прежнему предоставляет возможность использовать Wayland, но больше не используется по умолчанию.

Подавляющее большинство дистрибутивов даже сегодня по умолчанию используют сервер отображения X.


Серверы отображения, которые применяют протокол сервера отображения Wayland, называются [композиторами Wayland](https://en.wikipedia.org/wiki/Wayland_compositor) . Как и любой X11, композитор Wayland отвечает за обработку ввода и вывода для своих клиентов, но также выполняет [композитинг](https://en.wikipedia.org/wiki/Compositing) — в отличие от X11.

Некоторые композиторы Wayland — это [Weston](https://en.wikipedia.org/wiki/Weston_(software)) , [Mutter](https://en.wikipedia.org/wiki/Mutter_(software)) , [KWin](https://en.wikipedia.org/wiki/KWin) или [Enlightenment](https://en.wikipedia.org/wiki/Enlightenment_(software)) .

Выбор между Wayland и Xorg зависит от ваших конкретных потребностей и предпочтений. Вот некоторые основные различия их функций:

1. Wayland: 
   - Новее из двух протоколов и разрабатывался с учетом современных требований и технологий.
   - Нацелен на более безопасный и эффективный дизайн, предотвращающий многие типичные проблемы безопасности и освобождает пользователя от необходимости использовать подкладки, такие как X11.
   - Обеспечивает лучшую поддержку аппаратного ускорения, что может привести к более плавному и отзывчивому пользовательскому интерфейсу.
   - В настоящее время имеет меньше широкой поддержки некоторых старших приложений, особенно при работе с играми и некоторыми специализированными программами. Однако эта ситуация постепенно изменяется.

2. Xorg:
   - Достаточно старый протокол, хорошо известный и имеющий большую базу пользователей и поддержку.
   - Более широкая совместимость со старыми и сторонними программами, включая старые игры и другие проекты с поддержкой X11.
   - Поддерживает большее количество функций на данный момент, включая некоторые расширенные функции рабочего стола.
   - Однако он имеет некоторые наследственные проблемы, такие как уязвимости безопасности и некоторые ограничения в области масштабируемости и производительности.

В целом, если вам важна безопасность и эффективность, а также используются современные приложения и программы, то Wayland может быть хорошим выбором. Однако, если у вас есть необходимость в поддержке старых программ или игр, или если вам просто не хочется менять привычную среду работы, то остаться с Xorg также может быть разумным выбором.

###### Mir

Сервер [отображения Mir](https://mir-server.io/) поставляется с собственным протоколом сервера отображения Mir, который отличается от протокола, используемого в X11 и Wayland. Он был разработан [Canonical](https://canonical.com/) в рамках разработки Unity и должен был стать предпочтительным сервером отображения для [Ubuntu](https://itsfoss.com/install-ubuntu/) .

С 2017 года он был заменен сервером отображения Wayland для настольных версий Ubuntu, хотя разработка Mir продолжалась для приложений Интернета вещей (IoT).

###### Почему мы все еще используем Xorg?

Wayland, поскольку он относительно новый, еще не очень стабилен по сравнению с Xorg. Программы, которые действуют как клиенты, чтобы взаимодействовать с сервером отображения, должны знать, как это делать.

По этой причине многие программы могут не работать при использовании Wayland. Эксперимент Ubuntu по переключению на Wayland по умолчанию подтвердил это.

###### Вывод

Надеюсь, вы немного лучше понимаете концепцию сервера отображения в Linux. Я старался не вдаваться в технические детали, но мне не удалось полностью их избежать.