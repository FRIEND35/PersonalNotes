## Что это такое?

Иногда называемый login manager – менеджер входа – дисплей-менеджер несет ответственность за запуск графического сервера и загрузки рабочего стола Linux после того, как вы введете свое имя пользователя и пароль. Проще говоря, он управляет сессиями пользователей и контролирует аутентификацию пользователей. По большей части, менеджер дисплеев делает всю работу незаметно для пользователя, и обычно единственным видимым вам элементом будет экран входа, также известный как «greeter».

Важно помнить, что дисплей-менеджер – не то же самое, что оконный менеджер или сервер дисплеев. Все эти три компонента взаимодействуют друг с другом, но все они отличаются возложенными на них ролями, поэтому эти термины нельзя путать. Примером оконных менеджеров могут служить KWin, Openbox и dwm, а некоторые известные серверы дисплеев для Linux — Wayland, Mir и X.Org.

## Зачем изменять используемый менеджер дисплеев?

Вы можете спросить – зачем кому-либо изменять используемый дисплей-менеджер? Вот несколько возможных сценариев:

• Вы пытаетесь воскресить старый компьютер, и вам нужен легковесный менеджер входа  
• Ваш текущий дисплей-менеджер не работает после обновления, поэтому намного быстрее установить другой, чем мигрировать на другой дистрибутив или переустанавливать текущий  
• Вы хотите установить красивую тему на экран входа, но ваш текущий дисплей-менеджер ограничивает вас в этом

Есть несколько различных популярных дисплей-менеджеров для Linux. Вы можете заметить, что они достаточно похожи в плане внешнего вида – главные различия заключаются в их размере, сложности и способах, какими они управляют пользователями и сессиями.

## KDM

Как и все в KDE, KDM предоставляет вам большое количество возможностей и опций для тонкой настройки. Вы можете легко настраивать его через модуль управления в системных настройках. Там вы можете выбрать, какую тему в KDM использовать, или переключиться на простой экран привествия, где вы можете настроить фоновое изображение, приветственное сообщение и используемые шрифты.  
Вы можете включить быстрое переключение пользователей, отображать список пользователей, позволить выключать систему через root, поэтому только вошедшие пользователи смогут выключать компьютер. Если ваше оборудование поддерживает различные методы авторизации, такие как сканирование отпечатков пальцев, KDM может определить и управлять этой возможностью. Он автоматически определяет установленные окружения рабочего стола и менеджеры окон и предлагает их в виде списка сессий, поэтому вы можете выбрать, какую из них запустить, когда вы вводите свое имя пользователя и пароль.


KDM поддерживает и x.org, и Wayland, но в KDE Plasma 5 он заменен на SDDM, поэтому вы найдете его как стандартный менеджер дисплеев только в более старых версиях KDE. Конечно, вы можете установить его везде, но знайте о том, что у него достаточно много зависимостей, связанных с KDE (например, kde-runtime, который сам по себе запрашивает достаточно много зависимостей).  
Хотя некоторые его возможности могут ввести новичка в смятение, на самом деле KDM достаточно просто настраивается благодаря понятному графическому диалогу. Вам не нужно редактировать какие-либо конфигурационные файлы и понимать, за что отвечает каждая их строчка. Если вам не нравятся KDM-темы на KDE-Look.org, создать новую с нуля на самом деле достаточно просто – вам лишь необходимо следовать официальной документации.

## GDM (Gnome Display Manager)

GDM для GNOME – то же самое, что KDM для KDE – это стандартный дисплей-менеджер для большого и популярного окружения рабочего стола для Linux. Как и KDM, он поддерживает X и Wayland, автоматический вход в систему, скрытие списка пользователей, вход без пароля, кастомные сессии и темы. Также возможна ситуация, когда несколько пользователей вошли в систему – тогда вы сможете быстро переключаться между их сессиями.  
Настроить GDM можно либо с помощью соответствующего диалога в системных настройках или через редактирование конфигурационных файлов (это зависит от используемого вами дистрибутива, это может быть файл по адресу /etc/X11/gdm/gdm.conf или /etc/gdm/gdm.conf). GDM также хранит некоторые ключи настроек в базе данных dconf, поэтому, если вам нравится расширенная настройка системы, или вам необходимые дополнительные опции вроде сканирования отпечатков пальцев или аутентификации с помощью смарт-карт, вы можете изучить файлы в /etc/dconf/db/gdm.d.

Важно заметить, что внешний вид GDM потерпел серьезные изменения в Gnome 3/Gnome Shell, поэтому новая версия GDM (обычно называемая как GDM3) достаточно сильно отличается от старого – «legacy» GDM-версии, хотя изменения могут не лежать на поверхности. В новой версии отсутствует обратная совместимость со старыми темами GDM и у нее меньше возможностей. Большинство опций скрыты из конфигурационных файлов и недоступны через диалог настройки.  
Управлять списком пользователей также менее удобно, потому что вы не можете просто отредактировать соответствующий файл – GDM3 полагается на AccountsServiсe, когда дело касается информации о пользователях. Вы все еще можете настраивать его внешний вид с помощью редактирования файла /etc/gdm3/greeter.gconf или попробовав настроить его с помощью сторонних утилит вроде GDM3setup.

## MDM (Mint Display Manager)


Созданный разработчиками дистрибутива Linux Mint и окружения рабочего стола Cinnamon, MDM впервые появился в Linux Mint 13 (Maya) как стандартный дисплей-менеджер. Изначально он основывался на старом GDM 2.20 и предлагался как альтернатива новому, переработанному GDM3 для тех пользователей, которые хотели вернуть старый менеджер сессий в свою операционную систему.  
Впрочем, уже в сентябре 2013 года его дизайн был сильно изменен и упрощен, в процессе этого он потерял несколько важных возможностей, включая удаленный вход в систему и исполнение произвольных команд. Некоторые возможности были удалены из диалога настройки, но их все еще можно найти и настроить в файле /etc/mdm/mdm.conf.  
Несмотря на свою легковесность и основанность на старом дисплей-менеджере, в MDM в любом случае не отсутствуют важные возможности или ощущение современности. Он поддерживает автоматический вход в систему, вход по времени, собственные сообщения для входа, опцию для включения NumLock. Автоматически определяет доступные сессии и поддерживает три типа экрана входа, то есть темы: простой GTK-экран, старые GDM 2.x-темы. Это стандартный дисплей-менеджер во всех версиях Linux Mint, но разработчики некоторых других дистрибутивов также признали его значение и предлагают его как стандартную опцию (например, Manjaro Linux XFCE).

## SLiM (Simple Login Manager)

Ключ к понимаю этой утилиты лежит в ее названии – Slim стремится быть, как вы уже поняли, легким дисплей-менеджером с минимальными зависимостями, который автоматически определяет доступные окружения рабочего стола. Его легко настроить с помощью файла /etc/slim.conf. У Slim не очень много опций (например, он поддерживает удаленный вход в систему), но у него есть все необходимое – автоматический вход, включение Num Lock, собственное приветственное сообщение и поддержка тем. К сожалению, Slim больше не обновляется, поэтому если вы столкнулись с критическим багом, не ожидайте, что его исправят когда-либо в ближайшее время.

## SDDM (Simple Desktop Display Manager)

SDDM – это новый герой на сцене дисплей-менеджеров – он вышел в 2013 году, поддерживает X и Wayland, поддерживает QML-темы, и он уже показал свои возможности, заменив старый и надежный KDM как стандартный менеджер сессий в Plasma 5.  
Как и другие простые менеджеры дисплеев, вы можете настраивать SDDM, редактируя файл под названием /etc/sddm.conf. Там вы сможете включить автоматический вход в систему, опцию Num Lock, определить, какие пользователи отображаются на экране приветствия (входа). Есть и другой способ: если вы используете SSDM на KDE, у него есть конфигурационный модуль в системных настройках, а также доступна удобная утилита под названием sddm-config-editor.

## LXDM

LXDM – это часть окружения рабочего стола LXDE, котоырый когда-то был стандартным дисплей-менеджером в Lubuntu до версии 12.04. Вы можете настроить его с помощью его собственной утилиты настройки или отредактировать конфигурационные файлы в /etc/lxdm (или, если вы используете дистрибутив Lubuntu, /etc/xdg/lubuntu/lxdm).  
Так или иначе, вы сможете отключить список пользователей, включить автоматический вход в систему, изменить иконки для каждого пользователя и включить переключение пользователей. Он также поддерживает установку произвольных фоновых изображений на экран входа.  
Официальная документация и пользователи окружения рабочего стола на различных онлайн-формулах отмечают, что LXDM не завершает пользовательские процессы при выходе из системы, поэтому вам придется модифицировать файл /etc/lxdm/PostLogout, если вы хотите, чтобы это работало так же, как в других дисплей-менеджерах. Возможно, LXDM несколько причудлив, но он работает достаточно быстро, поэтому вы вполне можете попробовать его.

## LightDM

Когда он был впервые представлен как стандартный менеджер дисплеев для Ubuntu 11.10, LightDM предлагался как более легковесная альтернатива менеджеру GDM. Помимо X.org, он также поддерживает сервер дисплеев Mir от Canonical, поэтому понятно, почему его выбрали разработчики Ubuntu. LightDM полон возможностей и опций для настройки, но он не заставляет вас устанавливать большое количество зависимых пакетов.  
Чтобы хорошо сочетаться с различными окружениями рабочего стола, LightDM предлагает вам установить отдельные пакеты для экранов входа: есть пакет для GTK, пакет для Qt/KDE, специальный экран входа для Unity и некоторые другие. В зависимости от того, какой экран входа вы используете, вы можете применять к LightDM различные темы и далее настраивать внешний вид вашего экрана входа.  
В случае, если вы хотите отключить гостевой аккаунт, отображать список пользователей на экране входа, изменить фоновый цвет и положение окна, вы можете отредактировать конфигурационные файлы LightDM, которые должны находиться в директории /etc/lightdm, а отдельные файлы для каждого установленного экрана входа — в /etc/lightdm/lightdm.conf.d/. Пользователи дистрибутива Ubuntu и его производных, которым нравятся графические приложения, могут установить удобную утилиту под названием LightDM GTK Greeter Settings, а также доступен для установки модуль управления для системных настроек KDE.

## Как заменить менеджер дисплеев на Linux?

Процесс замены вашего текущего менеджера дисплеев на Linux состоит из двух шагов: установки нового и установки его как менеджера по-умолчанию. Первая часть процесса очень проста, вам просто нужно найти подходящий пакет для вашего дистрибутива и установить его. Вы можете установить старый менеджер дисплеев, если хотите, но в большинстве случаев это не является необходимостью (тем более, если ваш менеджер пакетов захочет удалить все окружение GNOME вместе с GDM, это точно не стоит делать).  
Процесс установки менеджера дисплеев в качестве используемого по-умолчанию отличается во всех дистрибутивах, но обычно это сводится к некоторым изменениям в файлах конфигурации или выполнению одной простой команды в терминале. Это короткое руководство предполагает, что у вас уже установлен желаемый менеджер дисплеев, и сейчас вам нужно лишь сделать так, чтобы он запускался при старте системы.

### Для Ubuntu, Linux Mint и большинства производных Ubuntu

Выполните sudo dpkg-reconfigure gdm и выберите новый стандартный менеджер дисплеев в появившемся диалоге. Вы можете заменить gdm на любой другой менеджер дисплеев, который установлен в вашей системе. Если это не работает, вы можете отредактировать файл /etc/X11/default-display/manager с root-привилегиями.

### Для Arch Linux и Manjaro

Включите сервис systemd для вашего нового менеджера дисплеев, используя команду systemctl enable displaymanager.service –f.  
Если это не работает, пользователи могут попробовать сначала отключить предыдущий дисплей-менеджер с помощью следующих команд:

```
sudo systemctl stop gdm  
sudo systemctl disable gdm  
sudo systemctl enable lightdm.service  
sudo systemctl start lightdm
```

в то время, как на Arch Linux вам может потребоваться удаление файла /etc/systemd/system/default.target и создание файла под названием display-manager.service в директории /etc/systemd/system. Этот новый файл должен быть символьной ссылкой на сервисный файл вашего нового менеджера дисплеев из директории /usr/lib/systemd/system/.  
Этот совет также применим к недавним версиям дистрибутива Fedora. Вы также можете изменить ваш менеджер дисплеев в Fedora с помощью удобной утилиты под названием system-switch-displaymanager.

### Пользователям Debian

Процедура похожа на аналогичную в Ubuntu: вы должны заменить путь к вашему старому менеджеру дисплеев в /etc/X11/default-display-manager. Вам нужно будет отредактировать этот файл, обладая привилегиями root-пользователя. Вы также можете выполнить команду sudo dpkg-reconfigure yourdisplaymanager и выбрать новый дисплей-менеджер.

### Для PCLinuxOS

Вы должны иметь возможность выбрать новый дисплей-менеджер из диалога в Control Center > Boot > Set up display manager. Если система не реагирует на изменения, попытайтесь отредактировать файл /etc/sysconfig/desktop, где вы можете установить предпочитаемый менеджер сессий.

### Для пользователей openSUSE

Вы можете отредактировать файл /etc/sysconfig/displaymanager или использовать модуль Sysconfig Editor в YaST, чтобы получить доступ к настройкам для Desktop > Display Manager. Ваш новый дисплей-менеджер должен будет активироваться при следующей загрузке системы.

Действия для других дистрибутивов не должны сильно отличаться от тех, что мы описали здесь, особенно, если они основаны на дистрибутивах, упомянутых в нашей инструкции. Если дистрибутив использует systemd, скорее всего, для него будут применимы инструкции для Arch, Manjaro и Fedora.  
В зависимости от дисплей-менеджера, который вы установили, теперь вы можете попробовать установить для него какие-нибудь темы. MDM – это лучший выбор, если вам нравится кастомизация, поскольку этот дисплей-менеджер поддерживает и старые GDM, и новые HTML-темы. Вы можете найти их на веб-сайтах LinuxMint-Art и Gnome-Look.org. DeviantART предлагает хорошую коллекцию тем для различных менеджеров, а если вы используете SDDM, вы можете найти пакеты тем для него в репозиториях.  
Как вы увидели, заменить менеджер дисплеев не так сложно, как это звучит.

## Заключение

**Экранный менеджер** (также дисплейный менеджер, менеджер входа, менеджер сеансов) - графический экран ввода имени пользователя и пароля для входа в систему. Экранный менеджер отображается в конце процесса загрузки. Большинство экранных менеджеров можно настраивать и изменять их внешний вид и поведение.

Для того, чтобы узнать, какой используется экранный менеджер, можно ввести команду:

```
# systemctl status display-manager
```

В результате будет выведена информация об активном дисплейном менеджере:

```
● lightdm.service - Light Display Manager
Loaded: loaded (/lib/systemd/system/lightdm.service; enabled; vendor preset: enabled)
Active: active (running) since Sat 2023-07-08 22:20:57 +04; 29min ago
Docs: man:lightdm(1)
```

###### SDDM

**Simple Desktop Display Manager** (SDDM) — это экранный менеджер (графический менеджер сеансов) для X Window System X11 и Wayland. SDDM в системах Альт может использоваться, например, в Рабочей станции K со средой рабочего стола KDE Plasma.

###### LightDM

**LightDM** — это экранный менеджер для X Window System X11, Wayland и др. В качестве его ключевых особенностей указывается поддержка множества сред рабочего стола, небольшое использование памяти и высокое быстродействие. LightDM может использоваться, например, в Simply Linux со средой рабочего стола Xfce.