# Что такое MBR и GPT

Когда мы нажимаем кнопку питания компьютера, запускается автоматический процесс, который приводит к загрузке системы. Порядок зависит от того, какая структура разделов действует на диске. Всего их две — MBR и GPT. Обе аббревиатуры относятся к стилям таблицы разделов жёстких дисков. GPT расшифровывается как GUID Partition Table, или Globally Unique Identifier Partition Table (таблица разделов со статистически уникальным идентификатором), а MBR — как Master Boot Record (главная загрузочная запись). Они отвечают за структуру дискового пространства и загрузку операционной системы.

### Зачем они нужны

И GPT, и MBR выполняют одну и ту же функцию: хранят информацию о разделах накопителя, подсказывая системе, какой из них является загрузочным и к какому разделу относится конкретный сектор диска. Однако разница между вариантами всё же есть.

Мы без проблем можем разделить диск на несколько частей — для одной системы, второй системы, пользовательских файлов. Основной вопрос — как ОС понимает, какая у накопителя структура?

Фактически диск — это огромное адресное пространство, доступное для записи данных. Чтобы хранить сведения о том, на сколько частей разделено это пространство, какой объем они занимают, в какой ячейке начинается и в какой заканчивается том, используется специальная системная таблица.

Таблица разделов бывает двух типов — GPT и MBR. У них разная архитектура, они совместимы с разными системами, но выполняют одинаковую работу, помогая организовать нормальное хранение данных.


## Что такое MBR

MBR (Master Boot Record) — устаревший стиль таблицы разделов. Он разработан в 1983 году, когда в ходу были системы DOS, но до сих пор работает. Правда, с ограничениями, поэтому подружить его получается не со всеми современными компьютерами и операционными системами.

MBR находится в начале дискового пространства, где занимает 512 байт. В ней зафиксировано, какие логические и расширенные разделы есть на устройстве.

В MBR также находится исполняемый код (Boot Loader), который сканирует диск в поисках установленной операционной системы. Для Windows MBR ищет загрузчик Windows, для Linux —[[CC. GRUB | GRUB]]   или другой загрузчик. Поскольку в самом разделе MBR места мало, код просто находит и инициализирует загрузчик, основное тело которого располагается в произвольном месте диска.


![[Pasted image 20221018042215.png]]

![[Pasted image 20221101075242.png]]


MBR позволяет создать только четыре основных раздела. Это очень неудобное ограничение, связанное с тем, что на хранение таблицы выделено мало места. Разработчики нашли решение, которое позволяет увеличить количество разделов. Обычные разделы стали называть первичными, а на их основе уже начали создавать расширенные и логические тома.

Один расширенный раздел может содержать несколько логических разделов. Он заметно отличается от разделов другого типа. Фактически он описывает некое пространство, в котором находятся логические тома. При этом у логических разделов есть ограничения. Например, их нельзя сделать активными.

## Что такое GPT

GPT (GUID Partition Table) — современный стандарт разделов диска.Он является частью стандарта EFI, который разработал компания Intel на замену устаревшему [[II. BIOS и UEFI | BIOS]]. При его создании учитывались в том числе недостатки предыдущего решения, которые постарались исправить.

В [[II. BIOS и UEFI | UEFI]] нет такой процедуры хранения первой стадии загрузчика, как у MBR. Это более современный и продвинутый интерфейс [[II. BIOS и UEFI | BIOS]], который может самостоятельно анализировать файловую систему и загружать файлы.

После включения питания [[II. BIOS и UEFI | UEFI]] конфигурирует систему: управляет потреблением энергии, устанавливает дату и другие компоненты. Затем он считывает таблицу разделов GUID (Globally Unique Identifier, Глобальный уникальный идентификатор). Таблица располагается в начале диска, сразу после первого сектора, в котором хранится MBR (это нужно для совместимости с Legacy [[II. BIOS и UEFI | BIOS]]).


![[Pasted image 20221018042324.png]]

GPT определяет, какой будет таблица разделов на диске, который загрузчик EFI распознает в качестве системного. Системный раздел хранит загрузчики всех операционных систем, которые установлены на другие разделы диска. Именно загрузчики инициализируют запуск операционных систем.

### Чем отличается GPT от MBR

Главный нюанс состоит в том, что GPT является частью интерфейса для управления оборудованием [[II. BIOS и UEFI | UEFI]], а MBR относится к [[II. BIOS и UEFI | BIOS]]. Если не вдаваться в ненужные подробности, то можно сказать, что GPT — более новый и улучшенный стандарт, который пришёл на смену MBR, так же как [[II. BIOS и UEFI | UEFI]] заменил [BIOS](https://lifehacker.ru/kak-obnovit-bios/ "4 причины обновить BIOS на ПК и 2 причины этого не делать").

> Всё просто: в современных компьютерах с [[II. BIOS и UEFI | UEFI]] используется GPT; в старых с [[II. BIOS и UEFI | BIOS]] — MBR.

### Что лучше: GPT или MBR

Как таковой вопрос качества не стоит. Сказать, что GPT‑диски работают лучше или быстрее, нельзя, дело лишь в совместимости оборудования и возможностях. Если компьютер и операционная система способны принять GPT, то следует использовать его, если нет — выбирайте MBR.

Из преимуществ последнего можно назвать только более широкую совместимость: MBR работает с [[II. BIOS и UEFI | UEFI]] и [[II. BIOS и UEFI | BIOS]], а также поддерживает [больше ОС](https://lifehacker.ru/operacionnye-sistemy/ "10 операционных систем для ПК, о которых знают далеко не все"). Однако он не распознаёт диски объёмом свыше 2 ТБ и не позволяет создавать более четырёх разделов.

GPT гораздо функциональнее: он практически не имеет ограничений по количеству разделов и их величине. Максимальный размер равен 9,4 ЗБ (зеттабайта), а это просто невероятно много: такой объём суммарно дадут 940 миллионов 10‑террабайтных накопителей.

