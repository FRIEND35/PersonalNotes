# /dev  (Специальный файл устройства)

## Wiki

Специальный файл устройства, или просто файл устройства (англ. special device file) — это один из типов файлов в UNIX-подобной операционной системе[1]. Специальные файлы устройств содержат данные, необходимые операционной системе для взаимодействия с физическими устройствами, такими как диски и дисководы, принтеры и факсы и т. п. Фактически, специальные файлы устройств являются указателями на драйверы устройств, и когда процесс обращается к файлу устройств, он по сути работает с драйвером этого устройства. 

### Характеристика файлов устройств

Поскольку в операционной системе есть разные типы устройств, то и файлы устройств бывают разными. Есть два типа файлов устройств: блочные (англ. block special files) и символьные (англ. character special files). Блочные файлы устройств используются для передачи данных, разделённых на пакеты фиксированной длины — блоки. А символьные файлы устройств используются для небуферизованного обмена данными[1]. Большинство устройств способно принимать и отправлять данные либо блоками (блочные устройства), либо сплошным потоком байтов (символьные устройства), но некоторые (такие как жёсткий диск) сочетают в себе обе эти возможности. Работа с первым типом устройств возможна либо через блочные, либо через символьные файлы, а вот с последним типом — подходят и те, и другие.

Для того, чтобы операционная система могла определить файл устройства и получить некоторые характеристики о самом устройстве, в файле содержатся 3 специальных поля: класс устройства, старший номер устройства и младший номер устройства. Класс устройства сообщает символьное устройство или блочное. В некоторых операционных системах (например, в Linux) есть и дополнительный класс устройств — небуферизованное символьное устройство. Кроме класса, есть ещё и тип устройства, который можно узнать по старшему номеру, например в Linux системе 1 означает оперативную память, 2 — дисковод гибких дисков, 3 — первый контроллер для жестких IDE-дисков, и т. д.. В разных операционных системах один и тот же старший номер может указывать на разные типы устройств. Для того, чтобы отличить два устройства одного класса и типа предусмотрели младший номер. Он используется для нумерации устройств с одинаковыми старшими номерами. Например, если в компьютере 2 одинаковых дисковода, то специальные файлы устройств для них будут содержать один и тот же класс устройства, один и тот же старший номер, но вот младший номер у одного из них будет 0, а у другого — 1. 

### Работа с файлами устройств

Файлы устройств размещаются в каталоге /dev или в его подкаталогах.

Узнать информацию о файле устройства можно с помощью команд [file](https://ru.wikipedia.org/wiki/File_(Unix) "File (Unix)") и [ls](https://ru.wikipedia.org/wiki/Ls "Ls").

**/dev** (от [англ.](https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA "Английский язык") devices — _устройства_) — [каталог](https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3_(%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0) "Каталог (файловая система)") в системах типа [UNIX](https://ru.wikipedia.org/wiki/UNIX "UNIX"), содержащий так называемые _специальные файлы_ — [интерфейсы](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81 "Интерфейс") работы с [драйверами](https://ru.wikipedia.org/wiki/%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80 "Драйвер") [ядра](https://ru.wikipedia.org/wiki/%D0%AF%D0%B4%D1%80%D0%BE_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B "Ядро операционной системы"). Как правило (хотя и не всегда), /dev является обычным каталогом в корневой файловой системе, куда можно (но не нужно) помещать и обычные файлы. Доступ на запись к /dev (то есть право добавлять и перемещать специальные файлы) имеет только [суперпользователь](https://ru.wikipedia.org/wiki/%D0%A1%D1%83%D0%BF%D0%B5%D1%80%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C "Суперпользователь"). Сами «специальные файлы» могут быть как доступны простому пользователю (терминал, псевдоустройства), так и недоступны (жёсткие диски).

### Примеры содержимого

-   /dev/sd _буква_ — [жёсткий диск](https://ru.wikipedia.org/wiki/%D0%96%D1%91%D1%81%D1%82%D0%BA%D0%B8%D0%B9_%D0%B4%D0%B8%D1%81%D0%BA "Жёсткий диск") (в системах на ядре Linux)
-   /dev/sd _буква_ _номер_ — [раздел диска](https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0 "Раздел диска") (в системах на ядре Linux)
-   /dev/sr _номер_ (/dev/scd _номер_) — [CD-ROM](https://ru.wikipedia.org/wiki/CD-ROM "CD-ROM")
-   /dev/eth _номер_ — сетевые интерфейсы [Ethernet](https://ru.wikipedia.org/wiki/Ethernet "Ethernet")
-   /dev/wlan _номер_ — сетевые интерфейсы [Wireless](https://ru.wikipedia.org/wiki/Wireless "Wireless")
-   /dev/lp _номер_ — [принтеры](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80 "Принтер")
-   /dev/video _номер_ — устройства изображений, камеры, фотоаппараты и т. д.
-   /dev/bus/usb/000/_номер_ — устройство _номер_ на шине [USB](https://ru.wikipedia.org/wiki/USB "USB") первого контроллера (000) (в системах на ядре Linux)
-   /dev/tty _номер_ — [текстовый терминал](https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB "Текстовый терминал")
-   [/dev/dsp](https://ru.wikipedia.org/wiki//dev/dsp "/dev/dsp") — звуковой вывод
-   [/dev/random](https://ru.wikipedia.org/wiki//dev/random "/dev/random") — случайные данные (псевдоустройство)
-   [/dev/null](https://ru.wikipedia.org/wiki//dev/null "/dev/null") — пусто (псевдоустройство)
-   [/dev/zero](https://ru.wikipedia.org/wiki//dev/zero "/dev/zero") — нулевые байты (псевдоустройство)


Если сократить содержимое:

**/dev** (от [англ.](https://wp.wiki-wiki.ru/wp/index.php/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA "Английский язык") _devices_ — _устройства_) — [директория](https://wp.wiki-wiki.ru/wp/index.php/%D0%94%D0%B8%D1%80%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D1%8F_(%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0) "Директория (файловая система)") в системах типа [UNIX](https://wp.wiki-wiki.ru/wp/index.php/UNIX "UNIX"), содержащая так называемые _специальные файлы_ — [интерфейсы](https://wp.wiki-wiki.ru/wp/index.php/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81 "Интерфейс") работы с [драйверами](https://wp.wiki-wiki.ru/wp/index.php/%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80 "Драйвер") [ядра](https://wp.wiki-wiki.ru/wp/index.php/%D0%AF%D0%B4%D1%80%D0%BE_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B "Ядро операционной системы"). Как правило (хотя и не всегда), /dev является обычной директорией в корневой файловой системе, куда можно (но не нужно) помещать и обычные файлы. Доступ на запись к /dev (то есть право добавлять и перемещать специальные файлы) имеет только [суперпользователь](https://wp.wiki-wiki.ru/wp/index.php/%D0%A1%D1%83%D0%BF%D0%B5%D1%80%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C "Суперпользователь"). Сами «специальные файлы» могут быть как доступны простому пользователю (терминал, псевдоустройства), так и недоступны (жёсткие диски).
## Для особо одаренных

В каталоге /dev находятся файлы устройства, как мы знаем в linux все подключенные устройства являются файлами которые находятся в каталоге  /dev. Например: жесткие диски, камера, клавиатура, USB и многое др. все они файлы в этом каталоге. И когда ОС нужно нужно провести операцию с устройтсвами, то он обращаетсья к этому каталогу. 

Файлы в каталоге /dev представляют собой специальные типы файлов, которые предоставляют интерфейс для взаимодействия с устройствами в системе. Когда вы обращаетесь к файлу в каталоге /dev, операционная система обрабатывает этот запрос и передает соответствующие команды ядру операционной системы, которое затем взаимодействует с соответствующим устройством.

Вот допустим что вы хотите прочитать данные с жесткого диска,  форматировать жесткий диск или что-то записать туда - вы это делаете с п.м. ОС, Ядро обращается к файлу /dev/ad[буква]. Это касается и USB, вы можете обратиться к файлу /dev/sdb (например), и операционная система передаст команду ядру, которое затем передаст эту команду соответствующему драйверу USB-устройства.

Файлы в каталоге /dev использется ОС для обеспечение пользоваетлю и программмам интерфейс доступа к устройствам подулюченным к компьютеру. Важно понимать что эти файлы не являются драйверами устройсва, их лучше рассматривать как интерфейс доступа к драйверам устройств. Когда в процессе вы обращаетесь к файлу устройств, то по сути он работает с драйверами устройств. И когда приложение отправляет данные в файл устройств, от туда они считываются драйвером устройства и отправляются на физическое устройства.

Ядро управялет драйвером, а драйвер управляет оборудованием. Так выходить что драйвер является интерфейсом между оборудованием и ядром. Когда мы проводим операцию в системе, ОС сообщает ядру что нужно делать, а ядро обращаеться к драйверу, а драйвер работает с оборудоваение чтобы ядро всё понимал и провадил нужную операцию. Всё слой за слоем, как в луке. Таким образом, файлы в каталоге /dev предоставляют удобный интерфейс для взаимодействия с устройствами в системе, скрывая сложности взаимодействия с драйверами и ядром операционной системы от пользователя.