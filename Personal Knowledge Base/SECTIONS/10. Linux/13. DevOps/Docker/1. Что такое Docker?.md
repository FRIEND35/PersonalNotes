Представь все твою коллега разработчик, обсмотрелся нашу видосу про самые странные языки и программирования. Писал на одном из них программу запустил все это дело в своем дистрибуте Linux с нескучными обоями и приправил все это дело миллионом дополнительных программ, необходимых для запуска. И как теперь тебе это все запускает связывать с другими частями вашего общего приложения, давать в продакшен клиентам, у которых не столь специфичные вкусы, получается, что нам нужно как-то скопировать все, что нужно для работы программы, чтобы ее можно было запускать везде и работала она одинаково. Но, первое, что приходит на умбиртуальные машины или, как еще называют виртуалки. Если ты не в курсе, что это такое, то вкратце это как будто бы ты попросил экзибито прокачать твой компьютер и он снаил компьютер в твой компьютер. 

Только не настоящая виртуальная, хотя он себя считает настоящим. Короче, в этой схеме у нас есть наш сервер, на нем установленная перцонка, а поверх нее работает то, зваймая гипервизор. Например:

- Hyper-V
- VMware ESX
- VirtualBox

Они эмулируют железо и управляют виртуальными машинами. Каждый экземпляр виртуалки имеет собственную операционную систему, которая называется гостевой, а приложение работают уже внутри нее. Таким образом ты можешь на сервере с виндой запускать линукс и куча других OS и наоборот. И вот для этой виртуальной машины мы сможем установить нужную операционку и зависимости и запустить наши прекрасные приложения. Все будет работать. Однако в современных реальных с учетом того, что теперь все любят распилить одну большую программу намного маленьких и называть это микро-сервис на архитектуре, такой подход будет не очень оптимальным. Ведь каждая виртуалка запускает у себя отдельную OS. В результате, все это может работать мягко говоря не быстро. Плюс к этому зачастую нам нужно запускать несколько копии одного и того же приложения, так что нагрузки будут только расти. Значит, настало время попробовать докер. Это такой инструмент, который упаковывает код приложения, системные инструменты, среду выполнения, библиотеки, зависимости и файлы конфигурации необходимы для его запуска. Какой-то виртуальный контейнер, который может работать на любом компьютере, где установлен докер.

Тогда можно удобно поместить все, что угодно, машину, банан и людей, шучу не бананы. А потом все это отправить в долгая путешествия по морю в едином оптимальном формфакторе. Все это схоже с работы виртуальных машин, есть одно ключевое отличие. С докером мы избавляемся от гипервизора, а вместо того, чтобы виртуализировать железо, мы виртуализируем только операционку. Значит, нам нет необходимости в отдельных гостейных OS, потому что контейнеры используют ядро OS того сервера, где мы работаем при помощи приложения докер Энджен.


Docker — это формат пакетирования, который позволяет упаковать весь код и зависимости приложения в стандартный формат, чтобы приложение могло быстро и надежно запускаться в разных вычислительных средах. Docker позволяет упоковывать код приложение, системные инструменты, среду выполнение, библиотеки, зависимости и файлы конфигурации необходимые для его запуска в виртуальный контейнер. Этот контейнер можно запускать в любой системе где установлен docker вне зависимости от инфраструктуры, ОС и тому поднобное.

Докер — это открытая платформа (площадка, песочница) для разработки, доставки и эксплуатации приложений. Docker разработан для более быстрого выкладывания ваших приложений. С помощью docker вы можете отделить ваше приложение от вашей инфраструктуры и обращаться с инфраструктурой как управляемым приложением. 

![[Pasted image 20231217162115.png]]
# Как работает docker?

Вот как работает Docker простыми словами:

1. Разработчик создает Dockerfile, который описывает, как создать образ Docker для приложения.
2. Docker Engine использует Dockerfile для создания образа Docker.
3. Вы создаете образ контейнера, который содержит все необходимое для запуска вашего приложения.
4. Вы запускаете контейнер из образа контейнера.
5. Контейнер запускается на вашем компьютере и устанавливает все необходимые компоненты.
6. Образ Docker можно загрузить в Docker Hub или в локальный реестр.
7. Системный администратор может запустить контейнер из образа Docker.

Docker - это мощная технология, которая может помочь вам развертывать приложения более эффективно и безопасно.

Докер - это технология, которая позволяет запускать приложения в изолированных контейнерах. Контейнер - это небольшой кусок программного обеспечения, который содержит все необходимое для запуска приложения, включая код, библиотеки, инструменты и системные зависимости.

Докер нужен для того, чтобы сделать приложения более переносимыми и масштабируемыми. Контейнеры можно запускать на любом сервере с установленным Docker, что упрощает процесс развертывания приложений в облаке или на физических серверах.

**Докер работает следующим образом:**

1. Разработчик создает образ контейнера, который содержит код, библиотеки и системные зависимости приложения.
2. Образ контейнера можно загрузить в реестр Docker, где его можно использовать другие разработчики.
3. Администратор сервера использует Docker для создания контейнера из образа контейнера.
4. Контейнер можно запустить, остановить, перезапустить или удалить с помощью команд Docker.

# Где исапользовать docker?

Докер нужен для упаковки приложений и их зависимостей в контейнеры, которые легко переносимы и масштабируемы. Он позволяет разработчикам создавать окружения разработки, которые работают на всех устройствах одинаково, а также автоматизировать процессы развертывания и управления приложениями.

Например, разработчики могут использовать докер для создания контейнера с веб-приложением и всеми его зависимостями, чтобы убедиться, что приложение работает одинаково на всех устройствах. DevOps-инженеры могут использовать докер для автоматического развертывания приложений на серверах. Крупные организации могут использовать докер для создания масштабируемых инфраструктур, которые могут легко масштабироваться по мере роста бизнеса.

1. Допустим ваш друг написал на каком-то языке программирование программу, запустил все это на совем дистрибутиве linux и добавил туда десятки библиотек и модулей и другие зависимости для его работы. И как теперь тебе всё это запускать, связать с другими частями ващего общего приложения чтобы всё совместно работал а? Получается что нам нужно скопировать всё что нужно для работы программы, чтобы его можно было запускать везде и вне зависимости от инфраструктуры и работало она везде одинаково. 

2. Представьте, что вы хотите запустить веб-сайт на своем компьютере. Вам нужно установить операционную систему, веб-сервер, базу данных и другие необходимые компоненты. Это может быть сложно и трудоемко, особенно если вы хотите запустить сайт на нескольких серверах.  Docker позволяет вам упаковать все необходимое для запуска приложения в один контейнер. Контейнер - это небольшой кусок программного обеспечения, который содержит все необходимое для запуска приложения, включая код, библиотеки, инструменты и системные зависимости.

Чтобы запустить веб-сайт с помощью Docker, вы сначала создаете образ контейнера. Образ контейнера - это описание того, что содержится в контейнере. Вы можете создать образ контейнера вручную или использовать Dockerfile, который является текстовым файлом, описывающим, как создать образ контейнера.

После того, как вы создали образ контейнера, вы можете запустить его с помощью Docker. Docker запустит контейнер на вашем компьютере и установит все необходимые компоненты.

Контейнеры изолированы друг от друга, что означает, что они не могут взаимодействовать друг с другом. Это помогает обеспечить безопасность и стабильность ваших приложений.

Вот несколько примеров того, как Docker можно использовать:

- Разработчики могут использовать Docker для создания и развертывания своих приложений.
- Системные администраторы могут использовать Docker для автоматизации управления серверами.
- Компании могут использовать Docker для создания и доставки своих облачных приложений.
- Docker - это мощная платформа, которая может помочь разработчикам и системным администраторам эффективно создавать, развертывать и управлять приложениями.

## Задачи, которые решает Docker

### Развертывание среды или приложения

Docker позволяет перенести приложение со всеми зависимостями на другую систему с помощью пары команд в терминале. Настройка зависимостей вручную занимает больше времени. Также с помощью Docker можно быстро развернуть рабочую среду с определенными настройками. Существуют «системные контейнеры», которые содержат дистрибутивы ОС.

### Изолированный запуск

Docker позволяет запустить приложение отдельно от всей системы без конфликтов с другими программами. Программа становится практически автономной и не вызывает ошибок зависимости.

### Контроль ресурсов

Еще одна возможность Docker — распределение ресурсов между разными приложениями. Неизолированные процессы могут конкурировать за память и вычислительные мощности процессора. ==Изолированные друг от друга программы не делают этого. Docker позволяет эффективнее использовать ресурсы и не допускать конфликтов.==

### Повышение безопасности

Если код контейнерного приложения окажется небезопасным, это не навредит серверу-хосту. При правильной настройке контейнера деятельность кода не затронет основную систему. Даже фатальная ошибка не повлияет на работоспособность остальных служб и программ.

### Работа с микросервисами

Микросервисная архитектура — такой тип организации ПО, при котором функции большого приложения разделяются на маленькие независимые программные модули. Они общаются друг с другом с помощью протоколов, но в целом работают автономно друг от друга. Docker подходит для реализации архитектуры этого типа: каждый микросервис упаковывается в отдельный контейнер, который можно настроить и протестировать, запустить или остановить отдельно от других.

### Ускорение цикла разработки

Технологии контейнеризации помогают программировать быстрее. На настройку среды, разворачивание приложений под разными платформами тратится меньше времени. В результате повышается производительность всей команды.

### Управление сложными системами

Для автоматизации большинства процессов со сложными контейнерными приложениями используются платформы оркестрации. Многие возможности специального ПО завязаны на контейнеризации и функциях Docker.

Например, платформы автоматизируют разворачивание контейнеров, их настройку и масштабирование. Это нужно, так как программная архитектура становится более сложной. Приложения могут состоять из сотен отдельных контейнеров, каждый из которых нужно развернуть и настроить. Поддержка таких приложений вручную занимает много времени.

### Масштабирование

Это еще одна задача для платформ оркестрации. Во многих из них поддерживается автоматическое масштабирование систем под разные площадки и условия. Пример такой платформы — [Kubernetes](https://blog.skillfactory.ru/glossary/kubernetes/), которая часто используется в связке с Docker.

Автомасштабирование помогает быстро оптимизировать сектор под повышенную нагрузку. Если сайт неожиданно получит больше трафика, чем обычно, система перераспределит ресурсы и сервисы адаптируются.

### Как начать работу с Docker

Docker доступен для Linux, Windows, Mac. Чтобы скачать установочный файл, нужно перейти по [ссылке](https://www.docker.com/products/docker-engine) и выбрать подходящую версию. Подробную инструкцию по установке можно найти в [официальной документации](https://docs.docker.com/desktop/).

Расскажем про работу с «первым контейнером». Это практически аналог “_Hello, World”_ для Docker: скачивание и разворачивание популярного образа из репозитория. Обычно используется какой-либо дистрибутив Linux:

```
docker run ubuntu echo “Hi, I'm Ubuntu”
```

Запись означает «Разверни образ Ubuntu в контейнер и выполни в нем команду `echo “Hi, I’m Ubuntu”`». Эта команда написана на bash — языке сценариев Linux.

1. Docker-клиент получит эту запись и отправит инструкции демону.
2. Тот проверит, есть ли образ Ubuntu на компьютере. Если его не найдется, программа скачает его из Docker Hub и сохранит.
3. Затем движок развернет образ в контейнер — внутри изолированно от основной системы запустится Ubuntu.
4. И уже внутри Ubuntu выполнится команда `echo “Hi, I’m Ubuntu”`. Она выведет в консоль надпись `“Hi, I’m Ubuntu”`.

Это наиболее простой пример — возможностей у Docker намного больше.

## Недостатки Docker 

**Высокая потребность в ресурсах**

Docker добавляет дополнительный слой абстракции и требует дополнительных вычислительных ресурсов. Это означает, что нужно балансировать между удобством и оптимальным использованием ресурсов.

**Оркестрация для крупных приложений**

Docker хорош для управления небольшим числом контейнеров. Однако при наличии 50–100 сервисов может потребоваться оркестратор, так как Docker не обладает достаточными инструментами для эффективного управления ресурсами и обеспечения надежности в случае разных сценариев обновления контейнеров.

Большие приложения с микросервисной архитектурой часто используют оркестраторы, такие как Kubernetes или OpenShift, чтобы обеспечить более высокий уровень управления и надежности. Docker в таких случаях часто оказывается недостаточным.

**Сложности на Windows и macOS**

Docker, изначально разработанный для Linux, может столкнуться с проблемами совместимости на других ОС. Кроме того, установка Docker на Windows иногда может конфликтовать с VirtualBox, что может вызвать трудности при настройке.