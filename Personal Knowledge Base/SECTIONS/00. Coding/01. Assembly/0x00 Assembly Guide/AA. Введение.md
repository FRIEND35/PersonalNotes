# Описание

Ассемблер — это собирательное название языков низкого уровня: код всё ещё пишет человек, но он уже гораздо ближе к принципам работы компьютера, чем к принципам мышления  человека. Вот например, если мы в языка высокого уровня говорим: if, elif, else, while, break, print и так далее. "Высокий уровень", означает что вы говорите с компьютером более-менее человеческим языком. Другой человек может не понять, что именно у вас написано в коде, но он хотя бы сможет прочитать слова. Но сам компьютер не понимает человеческий язык. Компьютер — это регистры памяти, простые логические операции, единицы и нули. Поэтому прежде чем ваша программа будет исполнена процессором, ей нужен переводчик — программа, которая превратит высокоуровневый язык программирования в низкоуровневый машинный код. Как правило компьютер не понимает слова и цифры кроме 0 и 1 это потому что процессор состоит и миллион регистров у которых 2 состояния: если ток есть то это 1, а если его нет или он слишком слабый то это 0. И именно так с помощью нулей и единиц компьютер делает разные операции там такие как сложение, деление, вычитание и т.д.

# Инструкции/команды

Ассемблер — это программа, принимающая на вход текст, содержащий условные обозначения машинных команд, удобные для человека, и переводящий эти обозначения в последовательность соответствующих кодов машинных команд, понятных процессору. Раньше люди в правду писали программы только в двоичном виде, знаю это Ад, но потом придумали компиляторы, которые переводят исходный код в язык который понимает процессор (двоичный). Язык ассемблер это мнемокоды. 

Мнемоника — это способы запомнить информацию путем смены типа информации. Вместо запоминания цифр запоминаете слова. Вместо слов можно запоминать места. Вместо ходов в шахматах — стихотворение. Например вместо номера телефона запомним имя в контактах. Поэтому ассемблер это мнемокоды т.е. он просто заминяет набор байтов (кодов) на простые слов, так например – что легче запомнить: 1011 или mov? 

Давайте рассмотрим команду «загрузить число 0x1234 в регистр АХ». На языке ассемблера она записывается очень просто — MOV АХ, 0x1234. К настоящему моменту вы уже знаете, что каждая команда представляется в виде двоичного числа (пункт 7 концепции фон Неймана). Ее числовое представление называется машинным кодом. Команда MOV АХ, 0x1234 на машинном языке может быть записана так:

```
0x11хх: предыдущая команда
0х1111:0хВ8, 0x34, 0x12
0x1114: следующие команды

```

0xB8, 0x34, 0x12 – это еще в 16-ом формате для того чтоб человеку была удобнее читать, а компьютер это видет так:

10111000 110100 10010

Мы поместили команду по адресу 0x1111. Следующая команда начинается тремя байтами дальше, значит, под команду с операндами отведено 3 байта. Второй и третий байты содержат операнды команды MOV. А что такое 0хВ8? После преобразования 0хВ8 в двоичную систему мы получим значение 10111000b.

Первая часть — 1011 — и есть код команды MOV. Встретив код 1011, контроллер «понимает», что перед ним — именно MOV. Следующий разряд (1) означает, что операнды будут 16-разрядными. Три последние цифры определяют регистр назначения. Три нуля соответствуют регистру АХ (или AL, если предыдущий бит был равен 0, указывая таким образом, что операнды будут 8-разрядными).
В отличие от самих машинных команд, их условные обозначения, называемые также мнемониками, запомнить сравнительно легко. Так, команда из вышеприведённого примера, код которой, как мы с некоторым трудом выяснили, равен 01 D8, в условных обозначениях выглядит так:

>add eax, ebx

Здесь нам уже не надо заучивать числовой код команды и вычислять в уме обозначения операндов, достаточно запомнить, что словом add обозначается сложение, причём в таких случаях всегда первым после обозначения команды стоит первое слагаемое (не обязательно регистр, это может быть и область памяти), вторым — второе слагаемое (это может быть и регистр, и область памяти, и просто число), а результат всегда, заносится на место первого слагаемого. Язык таких условных обозначений (мнемоник) называется языком ассемблера.

Отдельно необходимо пояснить выбор конкретного ассемблера. Как известно, для работы с процессорами семейства х86 используются два основных подхода к синтаксису языка ассемблера — это синтаксис АТ&Т и синтаксис Intel. Одна и та же команда процессора представляется в этих синтаксических системах совершенно по-разному; например, команда, в синтаксисе Intel выглядаядящая как :

>mov еах, [а+еах]

В синтаксисе АТ&Т будет записываться следующим образом:

>mov1 а(%еах), %еах


Поскольку ассемблер — это не более чем программа, написанная вполне обыкновенными программистами, никто не мешает другим программистам написать свою программу-ассемблер, что часто и происходит. Ассемблер МАSМ, упоминаемый в названии данного пособия — это один из ассемблеров, существующих для процессоров семейства, 80х86. Существуют и другие ассемблеры; возможно даже, что какой-нибудь из них покажется вам более удобным. На самом деле, не так уж важно, язык какого конкретного ассемблера изучать. Важно понять общий принцип работы на уровне команд процессора, и после этого вы сможете без труда освоить не только другой ассемблер, но и любой другой процессор с совсем другими командами. И даже любой Может создать свой ассемблер.

# Вступление


Каждый персональный компьютер имеет процессор, который управляет арифметической, логической и управляющей деятельностями компьютера.

Каждое семейство процессоров имеет свой собственный набор инструкций для выполнения различных операций, таких как получение ввода с клавиатуры, отображение информации на экране и т.д. Этот набор инструкций называется **инструкциями машинного языка**.

Процессор понимает только инструкции машинного языка, которые являются последовательностью бит: `1` или `0`. Однако машинный язык слишком сложен и непонятен для использования в разработке программного обеспечения. Поэтому для определенного семейства процессоров был разработан низкоуровневый язык, который представляет собой набор инструкций для написания программ в более понятной форме. Этот язык назвали **языком ассемблера** (или просто **_«ассемблер»_**).

**Ассемблер** — это транслятор (переводчик), который переводит код, написанный на языке ассемблера, в машинный язык.


## Преимущества языка ассемблера

Использование языка ассемблера позволяет понять:

   - как программы взаимодействуют с операционной системой, процессором и [[II. BIOS и UEFI | BIOS]]-м;

   - как данные представлены в памяти и на других устройствах;

   - как процессор получает доступ к инструкциям и как он их выполняет;

   - как инструкции получают доступ к данным и как эти данные обрабатываются;

   - как программа получает доступ к внешним устройствам.

Другие преимущества использования языка ассемблера:

   - для работы требует мало памяти;

   - его инструкции выполняются очень быстро;

   - упрощает сложные аппаратные задачи.


# Основные характеристики аппаратного обеспечения ПК

  

Основное аппаратное обеспечение ПК состоит из процессора, памяти и регистров. **Регистры** — это компоненты процессора, содержащие данные и их адреса в памяти. Чтобы выполнить программу, система копирует её с внешнего устройства в оперативную память. Затем процессор выполняет инструкции программы.

Данные в компьютере хранятся в битах: `1` (ВКЛ) или `0` (ВЫКЛ).

**Процессор поддерживает следующие размеры данных**:

   - **word** — 2-байтовый элемент данных;

   - **doubleword** — 4-байтовый (32-битный) элемент данных;

   - **quadword** — 8-байтовый (64-битный) элемент данных;

   - **paragraph** — 16-байтовая (128-битная) область;

   - **kilobyte** — 1024 байт;

   - **megabyte** — 1 048 576 байт.




# Адресация данных в памяти

Процесс, посредством которого процессор управляет выполнением инструкций, называется **циклом выполнения**, который состоит из трех последовательных шагов:

   _Шаг №1:_ Извлечение инструкции из памяти.

   _Шаг №2:_ Расшифровка или идентификация инструкции.

   _Шаг №3:_ Выполнение инструкции.

Процессор может одновременно обращаться к одному или нескольким байтам памяти. Например, рассмотрим шестнадцатеричное значение 0824H, которое занимает 2 байта памяти. Байт старшего разряда или старший значащий байт – 08, младший байт – 24.

Процессор хранит данные в обратной последовательности байтов, т.е. байт младшего разряда сохраняется в нижнем адресе памяти (слева), а байт старшего разряда – в верхнем адресе памяти (справа). Таким образом, если процессор перенесет значение 0824H из регистра в память, то 24 будет в начале строки, а 08 – в конце, при этом читать данные процессор будет справа налево, а не слева направо (помним, что процессор работает в бинарной системе счисления):

![[Pasted image 20220928044855.png]]


Когда процессор переносит данные из памяти в регистр, то он опять меняет местами байты (т.е. 08 опять будет слева, а 24 – справа).

Есть 2 вида адресов памяти:

   - **абсолютный адрес** — прямая ссылка на конкретное местоположение;

   - **сегментный адрес** (или _«**смещение**»_) — адрес сегмента памяти со значением смещения.


# ASCII

Как мы и сказали, компьютера и другие устройства понимают только двоичные данные, и тут мы задаемся вопросом – Как быть с буквами, Знаками и другими символами? Тут на приходить на помошь ASCII или же просто аский код. ASCII , сокращение от American Standard Code For Information Interchange , стандартный код передачи данных, который используется меньшими и менее мощными компьютерами для представления как текстовых данных (буквы, цифры и знаки препинания), так и команд, не связанных с устройством ввода (управляющие символы) . Как и другие системы кодирования, он преобразует информацию в стандартизованные цифровые форматы, которые позволяют компьютерам взаимодействовать друг с другом и эффективно обрабатывать и хранить Данные. То есть, каждому символу, знаку и др. Дали специальные нормера – последовательность битов в двоичном виде, который идентифицирует определённые символы.Код ASCII был первоначально разработан для телетайпов, но в конечном итоге нашел широкое применение в персональных компьютерах. Стандартный код ASCII использует семизначные двоичные числа ; т.е. числа, состоящие из различных последовательностей нулей и единиц. Код может представлять 128 различных символов, поскольку существует 128 различных возможных комбинаций семи нулей и единиц. Двоичная последовательность 1010000, например, представляет собой заглавную букву «Р», а последовательность 1110000 представляет собой строчную букву «р». Цифровые компьютеры используют двоичный код, который организован группами из восьми, а не из семи цифр или битов. Каждая такая группа из восьми цифр называется байтом . Поскольку цифровые компьютеры используют восемь-битовых байтов, код ASCII обычно встраивается в восемь-битовое поле состоящее из семи битов информации и четности бит который используется для целей проверки ошибок или для представления специальных символов. Использование восьмибитной системы увеличило количество символов, которые может представлять код, до 256. Восьмибитная система, известная как расширенный код ASCII, была введена в 1981 году Международной корпорацией бизнес-машин (IBM) для использования. со своей первой моделью персонального компьютера. Этот расширенный код ASCII вскоре стал отраслевым стандартом для персональных компьютеров. В нем 32 кодовые комбинации
используются для машинных и управляющих команд, таких как «начало текста», «возврат каретки» и «подача страницы». Следующая группа из 32 комбинаций используется для чисел и различных знаков пунктуации. Другая группа из 32 комбинаций используется для прописных букв и нескольких других знаков препинания, а последние 32 используются для строчных букв.

![[Pasted image 20221010041809.png]]


ASCII — это таблица кодировки символов, в которой каждой букве, числу или знаку соответствует определенное число. В стандартной таблице ASCII 128 символов, пронумерованных от 0 до 127. В них входят латинские буквы, цифры, знаки препинания и управляющие символы.

![[Pasted image 20221010042650.png]]

## Что такое ASCII

Таблицу разработали в Америке в 60-х, и ее название расшифровывается как American Standard Code for Information Interchange — Американская стандартная кодировка для обмена информацией. Аббревиатура читается как «аски».

Существуют национальные расширения ASCII, которые кодируют буквы и символы, принятые в других алфавитах. «Стандартная» таблица называется US-ASCII, или международной версией. В большинстве национальных расширений заменена только часть символов, например знак доллара на знак фунта. Но для языков, где используются нелатинские алфавиты, заменяется большинство символов. Русский относится к таким языкам.


## Для чего нужна таблица ASCII

Цифровое устройство по умолчанию не понимает символы — только числа. Поэтому буквы, цифры и знаки приходится кодировать, чтобы задавать компьютеру соответствие между определенным начертанием и числовым значением. Сейчас вариантов кодирования несколько, и ASCII — одна из наиболее ранних кодировок. Она задала стандарты для последующих решений.

Когда появилась эта кодировка, компьютеров в современном представлении еще не существовало. Ее разработали для телетайпов — устройств обмена информацией, похожих на телеграфы с печатной машинкой. Сейчас ими практически не пользуются, но некоторые стандарты остались с тех времен. В том числе набор ASCII, который теперь применяется для кодирования информации в компьютерах.

Сейчас с помощью ASCII кодируются данные в компьютерных устройствах, на ней основано несколько других кодировок, кроме того, ее используют в творчестве — создают с помощью символов картинки. Это называется ASCII art.

## Применение на практике

-   При разработке сайта или приложения разработчику может понадобиться пользоваться ASCII, чтобы закодировать символы, не входящие в национальную кодировку.
-   Можно сохранить документ или иной файл в формате ASCII — тогда все символы в нем будут закодированы этим набором. Такое может понадобиться, если человеку нужно передать информацию, которая будет читаться везде, — но некоторые функции форматирования в таком режиме будут недоступны.
-   Можно ввести код ASCII с клавиатуры напрямую: при зажатом Alt набрать числовое значение, которое соответствует тому или иному символу из таблицы. Так можно печатать и символы, которые есть в расширенных версиях набора: смайлики, иероглифы, буквы алфавитов других стран и так далее. Код для таких символов может быть намного длиннее, чем для стандартных 128 букв и цифр.

## Как устроена ASCII внутри

С помощью ASCII вводят, выводят и передают информацию, поэтому она должна описывать самые часто используемые символы и управляющие элементы (перенос, шаг назад и так далее). Таблица восьмибитная, а числа, которые соответствуют символам, переводятся в двоичный код, чтобы компьютер мог их распознавать. Десятичное же написание удобнее для людей. Еще используют шестнадцатеричное — с его помощью легче представить набор в виде таблицы.

Заглавные и строчные буквы в ASCII — это разные элементы. Причем в таблице строчные буквы расположены под заглавными, в том же столбце, но в разных строчках. Так набор оказывается нагляднее, а информацию легче проверять и работать с ней, например редактировать регистр с помощью автоматических команд.

## Как расположены символы в ASCII

-   Первые две строчки таблицы — управляющие символы: Backspace, перевод строки, начало и конец абзаца и прочие.
-   В третьей строке расположены знаки препинания и специальные символы, такие как процент % или астериск *.
-   Четвертая строка — числа и математические символы, а также двоеточие, точка с запятой и вопросительный знак.
-   Пятая и шестая строчка — заглавные буквы, а также некоторые другие особые символы.
-   Седьмая и восьмая строки описывают строчные буквы и еще несколько символов.

## Отличия от Unicode

Когда мы говорим о кодировании, сразу вспоминается система международной кодировки символов Unicode. Важно не путать ее с ASCII — эти понятия не идентичны.

ASCII появилась раньше и включает в себя меньше символов. В стандартной таблице их всего 128, если не считать расширений для других языков. А в «Юникоде», который реализуют кодировки UTF-8 и UTF-32, сейчас 2²¹ символов — это больше чем два миллиона. В набор входят практически все существующие сегодня символы, он очень широкий.

Unicode можно рассматривать как «продолжение», расширение ASCII. Первые 128 символов в «Юникоде» кодируются так же, как в ASCII, и это те же самые символы.