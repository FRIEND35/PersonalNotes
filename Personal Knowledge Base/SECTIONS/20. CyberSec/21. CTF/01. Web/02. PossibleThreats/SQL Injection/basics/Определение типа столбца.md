### Зачем нужен NULL

Значение NULL в запросе может использоваться для нескольких целей:

- NULL — специальное значение в SQL, которое обозначает отсутствие данных или неопределенное значение.
- Обеспечение соответствия столбцов: В запросе UNION количество столбцов и их типы данных должны совпадать между всеми объединяемыми запросами. Если в первом запросе два столбца, то и во втором запросе тоже должно быть два столбца. NULL можно использовать как placeholder, чтобы соответствовать требуемому количеству столбцов.
- Отсутствие значения: NULL явно показывает, что в этой позиции отсутствует значение. В данном случае это может быть полезно, если второй столбец важен для атаки, а первый не имеет значения.

NULL в SQL (Structured Query Language) - это специальное значение, которое представляет собой отсутствие значения или неизвестное значение. Оно отличается от пустой строки или нуля, которые являются действительными значениями.

NULL используется в следующих случаях:

 - Когда значение не известно или не применимо.
-  Когда значение отсутствует в базе данных.
 - Когда значение не может быть представлено в определенном столбце.

Например:

 - Столбец "имя" может содержать NULL для записей о людях, имена которых неизвестны.
 - Столбец "дата рождения" может содержать NULL для записей о людях, которые еще не родились.
 - Столбец "зарплата" может содержать NULL для записей о людях, которые не работают или чья зарплата неизвестна.

NULL имеет следующие свойства:

 - NULL не равен никакому другому значению, включая NULL.
 - Любое сравнение с NULL возвращает NULL.
 - Арифметические операции с NULL возвращают NULL.

При работе с NULL в SQL необходимо учитывать следующие моменты:

-  NULL не может использоваться в качестве ключа первичного или внешнего.
 - NULL может привести к неожиданным результатам при выполнении агрегатных функций (например, SUM, COUNT).
 - NULL может повлиять на индексы и производительность запросов.

Для обработки NULL в SQL используются специальные функции, такие как IS NULL, COALESCE и NVL.

### Определение типа столбца

Определение типа столбца в атаке SQL-инъекции (SQLi) может быть достигнуто с использованием различных техник. Одна из самых распространенных техник — это использование запроса `UNION SELECT`. Вот шаги, которые помогут определить тип столбца:

1. **Определение количества столбцов**:
    
    - Сначала необходимо узнать количество столбцов в целевой таблице. Это можно сделать с помощью последовательных `ORDER BY` запросов или путем проб и ошибок с `UNION SELECT`.
    - Пример: `SELECT column1 FROM table UNION SELECT NULL--` и увеличивать количество `NULL` до тех пор, пока не получите ошибку.
2. **Определение типа столбцов**:
    
    - После определения количества столбцов, можно использовать `UNION SELECT` с различными типами данных для определения типа каждого столбца.
    - Пример: `SELECT column1 FROM table UNION SELECT 1, 'a', NULL--` и так далее.
        - Если запрос успешен, значит столбец соответствует указанному типу данных.
        - Если возникает ошибка, измените тип данных и повторите запрос.

Примерный процесс может выглядеть следующим образом:

1. **Определить количество столбцов**:
```sql
SELECT column1 FROM table_name UNION SELECT NULL, NULL, NULL--
```

- Если три `NULL` не работают, пробуйте два или четыре и так далее, пока не получите корректный ответ.
    
2. **Определить тип данных**:
    
    - Предположим, что таблица имеет три столбца. Пробуйте разные типы данных для каждого столбца:
```sql
SELECT column1 FROM table_name UNION SELECT 1, 'a', NULL--
```

- Если запрос успешен, значит первый столбец — числовой, второй — строковый, а третий может быть любого типа (если `NULL` подходит).
    
- Если запрос не прошел, изменяйте тип данных и повторяйте:

```sql
SELECT column1 FROM table_name UNION SELECT 1, 2, 'a'--
SELECT column1 FROM table_name UNION SELECT 'a', 'b', 'c'--
```

Этот процесс может потребовать несколько итераций, но в конечном итоге он позволит определить типы данных каждого столбца в таблице.

Помните, что проведение SQL-инъекций без разрешения является незаконным и неэтичным. Такие техники должны использоваться только в целях легитимного тестирования безопасности с разрешения владельцев систем.