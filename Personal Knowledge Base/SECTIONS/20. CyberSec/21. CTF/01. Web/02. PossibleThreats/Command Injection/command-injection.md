
Описание:1

Командная инъекция - это атака, цель которой - выполнение произвольные команды в операционной системе хоста через уязвимый заявление.

Атаки с внедрением команд возможны, когда приложение передает небезопасные данные, предоставленные пользователем (формы, файлы cookie, заголовки HTTP и т. д.), в системная оболочка.

В этой атаке операционная система, предоставленная злоумышленником команды обычно выполняются с привилегиями уязвимых заявление. Атаки с внедрением команд возможны в основном из-за недостаточная проверка ввода.


Пример уязвимого кода:

```php
<?php
  print("Please specify the name of the file to delete");
  print("<p>");
  $file=$_GET['filename'];
  system("rm $file");
?>
```


Атака: http://127.0.0.1/?filename=bob.txt;ls


Способы инъекции команд ОС...

Windows-Unix: 

 - & 
 - && 
 - | 
 - ||


Как предотвратить атаки путем внедрения команд ОС:

Безусловно, наиболее эффективный способ предотвратить уязвимости, связанные с внедрением команд ОС, - это никогда не вызывать команды ОС из кода уровня приложения.
Практически в каждом случае есть альтернативные способы реализации требуемой функциональности с использованием более безопасных API-интерфейсов платформы.

Если вызов команд ОС с вводом, вводимым пользователем, считается неизбежным, необходимо выполнить строгую проверку ввода.
Вот несколько примеров эффективной проверки:

  - Проверка по белому списку разрешенных значений.
  - Подтверждение того, что введено число.
  - Проверка того, что входные данные содержат только буквенно-цифровые символы, никакого другого синтаксиса или пробелов.


Простыми словами не используйте не связывайти вводимые пользовательскте данные с системнными командами

RCE (Remote Code Execution) и command injection - это два различных типа уязвимостей веб-приложений, которые могут быть использованы злоумышленниками для выполнения нежелательного кода на сервере.

1. Remote Code Execution (RCE) - это уязвимость, которая позволяет злоумышленнику удаленно выполнять произвольный код на сервере. Это может привести к полному контролю над сервером, краже данных, установке вредоносного ПО и другим серьезным последствиям. Уязвимость RCE обычно возникает из-за недостаточной проверки входных данных или неправильной обработки пользовательского ввода.

2. Command Injection - это уязвимость, при которой злоумышленник может внедрить и выполнить команды системы на сервере через уязвимое приложение. Это позволяет злоумышленнику выполнять различные команды операционной системы, такие как удаление файлов, запуск вредоносных скриптов и т. д. Уязвимость command injection обычно возникает при передаче пользовательского ввода в командную строку без должной обработки или фильтрации.

Важно понимать разницу между этими уязвимостями, так как они могут иметь серьезные последствия для безопасности веб-приложений и серверов. Предотвращение и исправление этих уязвимостей требует тщательного анализа кода, правильной обработки пользовательского ввода и регулярного обновления безопасности приложений.