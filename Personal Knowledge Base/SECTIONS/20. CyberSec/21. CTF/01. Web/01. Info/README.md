
# Введение 

CTF означает «Захват флага». Это хакерское соревнование, в котором вы решаете задачу или взламываете что-то и в свою очередь получаете «флаг», представляющий собой специально отформатированный фрагмент текста. Возможно, вы слышали об этом в видеоиграх, которые в некоторой степени похожи. Во время живых соревнований CTF вы можете отправить этот флаг для получения очков, и побеждает игрок или команда, набравшая наибольшее количество очков.

CTF можно использовать для обучения или практики общих рисков безопасности и способов их смягчения. Это отличный способ практиковать свои хакерские навыки легальным и интересным способом. Конкурсы CTF также можно использовать как способ выявления талантливых специалистов в области безопасности для найма.

CTF обычно делятся на три основные категории: опасность, атака-защита и CTF смешанного типа.

В CTF в стиле **Jeopardy** вам нужно решить либо тест, либо множество задач и получить немного закодированной строки. Стиль Jeopardy охватывает любую из следующих областей: проблемы Интернета, криптографии, обратного проектирования, криминалистики и стеганографии.

В CTF в стиле **«Атака-Защита»** две группы соревнуются друг с другом, чтобы проникнуть в систему безопасности других групп и получить флаг, одновременно защищая вашу хост-машину от противников. Группы получают очки за проникновение, а также за защиту от атак противника. Она также известна как CTF Красная команда/Синяя команда.

Смешанный **стиль** представляет собой смесь CTF в стиле Jeopardy и в стиле Attack-Defense.

# **CTF для веб-хакинга**

CTF по веб-хакерству сосредоточены на поиске и использовании уязвимостей в веб-приложениях. Как объяснялось ранее, CTF для веб-хакерства относятся к категории стиля **Jeopardy** . Обычно вам необходимо найти флаг, воспользовавшись одной из распространенных уязвимостей веб-приложений. Это могут быть инъекции команд/кода, SQL-инъекции, обход каталогов, XSS-атаки и т. д.

В сфере информационной безопасности веб-хакерство может дать вам работу в области безопасности приложений, [поиска ошибок](https://en.wikipedia.org/wiki/Bug_bounty_program) или [пен-тестирования](https://en.wikipedia.org/wiki/Penetration_test) веб-приложений . Если вы веб-разработчик, навыки веб-хакинга могут помочь вам создавать более безопасные веб-приложения.

В следующем разделе мы обсудим некоторые из наиболее распространенных уязвимостей веб-приложений, которые также распространены в CTF веб-хакерства.

# **Уязвимости веб-приложений**

Уязвимость веб-сайта/веб-приложения — это слабость или неправильная конфигурация веб-сайта, которая позволяет злоумышленнику получить определенный уровень контроля над веб-сайтом и, возможно, над хост-сервером. Эксплуатация уязвимостей веб-приложений может привести к серьезным последствиям, таким как финансовые потери или раскрытие частной информации.

Ниже мы обсудим некоторые распространенные уязвимости веб-приложений и примеры реального использования этих уязвимостей.

## SQL-инъекция (SQLi)

**SQLi** — это уязвимость, при которой злоумышленник использует код приложения для доступа или изменения содержимого базы данных. В случае успеха злоумышленник может создавать, читать, обновлять, изменять или удалять данные, хранящиеся во внутренней базе данных. Это может привести к захвату учетных записей или краже конфиденциальных данных.

Реальный пример **SQLi** : хакеры из группы [APT Team](https://en.wikipedia.org/wiki/Advanced_persistent_threat) _GhostShell_ атаковали 53 университета, использующих **SQLi** . Они украли и опубликовали 36 000 личных записей, принадлежащих студентам, преподавателям и сотрудникам.

## Межсайтовый скриптинг (XSS)

**XSS-** уязвимость возникает, когда веб-приложения позволяют пользователям добавлять на веб-сайт собственный код, обычно JavaScript. Это позволяет хакерам запускать вредоносный код JavaScript в браузере жертвы.

Один из самых известных хаков **XSS** произошел с 19-летним хакером Сами, который подарил себе более миллиона друзей на Myspace, воспользовавшись **XSS-** уязвимостью на веб-сайте Myspace. Подробнее об этом можно прочитать здесь: [Червь MySpace, навсегда изменивший Интернет](https://www.vice.com/en/article/wnjwb4/the-myspace-worm-that-changed-the-internet-forever) .

## Нарушенная аутентификация и управление сеансами

Нарушение аутентификации и управления сеансами происходит, когда учетные данные аутентификации и идентификаторы сеансов не всегда защищены. Эти уязвимости могут предоставить злоумышленникам доступ к учетным записям пользователей и даже возможность скомпрометировать всю систему, используя учетную запись администратора.

В 2014 году _компания Gibson Security_ подробно описала уязвимости в сервисе Snapchat, в результате которых было обнаружено 4,6 миллиона имен пользователей и номеров телефонов. Вы можете прочитать об их выводах здесь: [Раскрытие информации о безопасности Snapchat.](https://gibsonsec.org/snapchat/)

## Небезопасные прямые ссылки на объекты (IDOR)

**IDOR** — это уязвимость, которая возникает, когда веб-приложение предоставляет ссылку на внутренний объект реализации, например файлы, записи базы данных, каталоги и ключи базы данных, что позволяет хакерам манипулировать ею для получения доступа к личным данным пользователя.

Вот описание IDOR в одном из приложений Google, за которое охотник за ошибками получил вознаграждение в размере **3133,70 долларов США:** [Google VRP — [ссылка на небезопасный прямой объект] $3133,70 | Цезарь Эван Сантосо | Октябрь 2022](https://caesarevan23.medium.com/google-vrp-insecure-direct-object-reference-3133-70-a0e37023a4c7) г.

## Неправильная настройка безопасности

Неправильная настройка безопасности часто является результатом использования конфигураций по умолчанию или отображения слишком подробных ошибок. Например, приложение может показывать пользователю слишком описательные ошибки, которые могут выявить уязвимости в приложении.

Исследователь безопасности [Авинаш Джайн (@logicbomb)](https://medium.com/u/ec4dca79620b?source=post_page-----9ef04e7c5df5--------------------------------) обнаружил неправильную настройку безопасности в инструменте для совместной работы JIRA, из-за которой многие компании из списка Fortune 500 (и NASA) стали уязвимыми для раскрытия личных и корпоративных данных. Вы можете прочитать больше об этом здесь: [Одна неправильная конфигурация (JIRA) для утечки информации обо всех, включая НАСА и сотни компаний из списка Fortune 500! | Авинаш Джайн (@logicbomb) | Середина](https://logicbomb.medium.com/one-misconfig-jira-to-leak-them-all-including-nasa-and-hundreds-of-fortune-500-companies-a70957ef03c7) .

## Подделка межсайтовых запросов (CSRF)

**CSRF** — это злонамеренная атака, при которой пользователя обманом заставляют выполнить действие, которое он не собирался делать. Например, сторонний веб-сайт отправит запрос в банковское веб-приложение, в котором пользователь уже прошел аутентификацию, и выполнит денежные переводы.

В 2020 году немецкий охотник за ошибками _Мухаммед Таскиран_ обнаружил конечную точку API TikTok, уязвимую для атак **CSRF** , которые позволяли менять пароли учетных записей для пользователей, которые зарегистрировались с помощью сторонних приложений. Награда принесла ему **3860 долларов.** Вы можете найти его отчет здесь: [https://hackerone.com/reports/968082](https://hackerone.com/reports/968082) .

## Обход каталога

Обход каталога — это тип уязвимости, которая используется злоумышленниками для получения несанкционированного доступа к ограниченным каталогам и файлам.

В 2019 году исследователи обнаружили уязвимость обхода каталогов в серверах Atlassian Jira Service Desk Server и Jira Service Desk Data Center, которая позволяла злоумышленникам получить доступ к информации, принадлежащей клиентам компании.

## Раскрытие конфиденциальных данных

Некоторые веб-приложения не защищают конфиденциальные данные, такие как финансовая информация и пароли, не полностью. Эти данные могут быть использованы в гнусных целях, если к ним получит доступ злоумышленник.

В 2017 году проект Google _Project Zero_ обнаружил на серверах Cloudflare проблему, которая позволяла сбрасывать память, потенциально содержащую конфиденциальные данные. Подробнее об этом можно прочитать здесь: [Обратные прокси Cloudflare сбрасывают неинициализированную память — project-zero](https://bugs.chromium.org/p/project-zero/issues/detail?id=1139) .

Вышеупомянутые уязвимости являются одними из наиболее распространенных, но, конечно, не единственными. Существует море уязвимостей, связанных с веб-приложениями. Вероятно, вы найдете хотя бы одно из вышеперечисленного в CTF веб-хакинга.

Теперь давайте взглянем на некоторые этапы, через которые мы проходим, участвуя в CTF по веб-хакерству.


# **Веб-хакинг Этапы CTF**

Этапы CTF веб-хакинга аналогичны шагам, которые предпринимаются при взломе веб-сайта. Это разведка, сканирование, получение доступа, повышение привилегий и поддержание доступа. Однако последний шаг не является обычным явлением в CTF веб-хакинга, поскольку после повышения привилегий вы, скорее всего, сможете получить доступ ко всем скрытым флагам.

## Разведка/сбор информации

Хакер собирает информацию о цели перед тем, как начать атаку.

**Типы собираемой информации:**

-   Внимательно читайте описание и название задачи
-   Часто обращайте внимение на адрес сайта (какие параметры передаётся и что меняется)
-   Внимательно осмотрите весь `html код`.
-   Обратите внимание, какие _cookie_ передаются.
-   Посмотрите, что происходит при работе с сайтом: что отправляется и что примается. Используйте встроенный в браузер `отладчик`.
-   Поиск скрытых каталогов.
-   Анализ HTTP-заголовка
-   Если вам необходимо отправить `POST` запрос с вашими параметрами или _cookies_, будет удобно использовать библиотеку `requests` в `python`.

- Диапазон IP-адресов цели
- сеть
- записи DNS
- используемые технологии
- поддомены
- файлы, не включенные в список
- каталоги

	Ищите сервисы, службы, подкаталоги, поддоменты, подкаталоги в найденных поддоменах - любая информацию может статать ключевым. Ищите название программы которые запушены на сервере. Всё это пригодиться в дальнейшей работы. 

**Инструменты разведки**

- [Nmap](https://github.com/nmap/nmap) — диапазон IP-адресов цели, сеть, записи DNS, используемые технологии.
- [Стук](https://github.com/guelfoweb/knock) — Поддомены
- [Dirb](https://github.com/v0re/dirb) , [Dirsearch](https://github.com/maurosoria/dirsearch) — файлы и каталоги, не включенные в список.

Вы также можете напрямую просматривать веб-сайт в поисках полезной информации, которую можно использовать для взлома.

## Сканирование

Хакер сканирует информацию, которая может позволить ему получить доступ к веб-сайту. Это может включать открытые порты, уязвимые службы, неправильные настройки сети и т. д.

**Виды сканирования**

- **Сканирование портов** : сканирование цели на наличие такой информации, как открытые порты, работающие системы и службы, работающие на хост-сервере веб-сайта.
- **Сканирование уязвимостей** : проверка цели на наличие слабых мест или уязвимостей, которыми можно воспользоваться. 
- **Сопоставление сети** : поиск топологии сети и информации о хостах.

Обращайте внимание на чем запущен сервер, какой ОС на нем и какие службы работают и их версии. Потом ищите уязвимости с соответсвии собранной информации.

**Инструменты сканирования**

- [Nmap](https://github.com/nmap/nmap) — Сетевое сканирование
- [Nikto](https://github.com/sullo/nikto) , [Wpscan](https://github.com/wpscanteam/wpscan) , [Burp Suite](https://portswigger.net/burp/documentation/desktop/getting-started) , [Sqlmap](https://github.com/sqlmapproject/sqlmap) — сканирование уязвимостей
- [Netdiscover](https://github.com/netdiscover-scanner/netdiscover) , [Wireshark](https://www.wireshark.org/) — Сканирование сети

## Получение доступа

Хакер взламывает веб-сайт, используя уязвимости или недостатки, обнаруженные на предыдущих этапах. Это достигается за счет создания обратной оболочки на сервере веб-сайта или использования уязвимостей, таких как [выполнение кода](https://en.wikipedia.org/wiki/Arbitrary_code_execution#:~:text=An%20arbitrary%20code%20execution%20vulnerability,an%20arbitrary%20code%20execution%20exploit.) или [включение файлов,](https://en.wikipedia.org/wiki/File_inclusion_vulnerability) для получения доступа.

**Получение инструментов доступа**

- [Weevely](https://github.com/epinna/weevely3) , [Metasploit](https://www.metasploit.com/) , [Netcat](https://nc110.sourceforge.io/) — получите удаленный доступ к оболочке.

## Повышение привилегий

Хакер использует ошибку, недостаток конструкции или недосмотр конфигурации операционной системы или программного обеспечения на серверах веб-сайта, чтобы получить расширенный доступ к ресурсам, обычно защищенным от веб-сайта или обычного пользователя.

Существуют различные методы, используемые для повышения привилегий. Эти методы в основном не требуют специальных инструментов для выполнения, но достаточно хорошее знание системы, в которой размещен веб-сайт, для выполнения повышения привилегий.

**Методы повышения привилегий**

- **Перечисление** . Хакер может собирать и использовать критически важную системную информацию, которая может помочь ему получить дополнительный уровень доступа к системе. Эта информация включает таблицы IPtables и таблицы маршрутизации, отключенные файловые системы и дополнительные диски, имена пользователей и пароли, конфигурации аудита, настройки служб, сведения DNS и SNMP, а также имена хостов.

- **Эксплойты ядра** . Некоторые устаревшие версии ядра Linux исключены из обновлений безопасности. Для обнаружения уязвимых версий ядра потребуется лишь скомпилировать и запустить эксплойт для получения дальнейшего доступа. Вот [список эксплойтов ядра.](https://github.com/lucyoa/kernel-exploits)
- **Использование прав SUDO** . Хакер может использовать доступ пользователя к SUDO в системах Linux, чтобы получить привилегии администратора учетной записи.

- **Манипулирование токенами доступа** . Системы Windows требуют, чтобы владельцы процессов аутентифицировали себя с помощью токенов доступа. Хакер может манипулировать токенами доступа несколькими распространенными способами, включая дублирование токенов доступа, создание новых процессов с дублированными токенами и создание токенов с использованием комбинаций имени пользователя и пароля.

- **Обход контроля учетных записей пользователей** . Система контроля учетных записей пользователей (UAC) отделяет администраторов от обычных пользователей в системах Windows. С помощью скомпрометированного UAC злоумышленники могут повысить привилегии для выполнения административных функций для полномасштабной системной атаки.

Стоит отметить, что приведенные выше этапы и инструменты носят обобщенный характер. Вы можете столкнуться с CTF веб-хакинга, которые являются более конкретными (нацелены на определенный тип уязвимости, например **XSS** ), и, следовательно, требуют более конкретных инструментов или методов для получения флагов CTF. Самый важный инструмент — это ваши знания о том, как работают веб-сайты, и об их распространенных уязвимостях. Это позволит любому хакеру понять, какие типы уязвимостей искать и где их искать.

Ниже мы рассмотрим другие навыки, которые помогут решить CTF веб-хакинга или выполнить веб-взлом в целом.

# Базовые навыки веб-хакинга

1. **Программирование**

Обучение программированию поможет вам автоматизировать многие задачи, выполнение которых обычно занимает много времени. Это также может помочь вам выявить и использовать ошибки программирования в приложениях, на которые вы будете ориентироваться. Вот несколько хороших курсов по введению в программирование веб-сайтов для начинающих:

- [Изучите веб-разработку](https://developer.mozilla.org/en-US/docs/Learn)
- [Компьютерное программирование — Академия Хана](https://www.khanacademy.org/computing/computer-programming)

**2. Линукс**

Большинство хакерских инструментов разработаны для Linux. Кроме того, большинство веб-сайтов размещаются на серверах Linux. Наличие навыков работы с Linux поможет вам выявить слабые места серверов Linux, такие как неправильная конфигурация, что является отличным способом взлома веб-сайтов. Вот хороший курс по Linux:

- [Введение в Linux](https://www.edx.org/course/introduction-to-linux)

**3. Нетворкинг**

Доступ к веб-сайтам осуществляется через Интернет, который представляет собой глобальную сеть взаимосвязанных компьютеров. Изучение сетевых технологий поможет вам понять потенциальные угрозы безопасности, с которыми могут столкнуться взаимосвязанные компьютеры, и способы их использования. Ознакомьтесь с этим курсом по сетям для начинающих:

- [Биты и байты компьютерных сетей](https://www.coursera.org/learn/computer-networking)

**4. База данных**

Веб-сайты хранят свои данные в базах данных. Примером является хранение имен пользователей и паролей для аутентификации. Изучение того, как работают базы данных, поможет выявить их слабые стороны и способы их использования. Ознакомьтесь с этими курсами по базе данных для начинающих:

- [Основы управления базами данных](https://www.coursera.org/learn/database-management)
- [Введение в базы данных](https://www.coursera.org/learn/introduction-to-databases)

**5. Настойчивость**

Хакер должен быть настойчивым. Если вы потерпите неудачу, попробуйте еще раз, придумайте другой подход, научитесь чему-то новому и приступайте к делу снова.

Кроме того, вот несколько хороших полных курсов по взлому веб-сайтов:

- [Взлом веб-приложений для начинающих (полный курс)](https://www.youtube.com/watch?v=24fHLWXGS-M)
- [Взлом веб-сайта/тестирование на проникновение](https://www.udemy.com/course/learn-website-hacking-penetration-testing-from-scratch/)

Вы также можете получить копию « [**Справочника хакера веб-приложений: поиск и использование недостатков безопасности, 2-е издание»**](https://www.amazon.com/Web-Application-Hackers-Handbook-Exploiting/dp/1118026470) **.**

# **Веб-хакинг Ведение заметок CTF**

Хорошей практикой при игре в CTF или проведении тестирования на проникновение является ведение заметок. Эти заметки служат хорошим ориентиром, поскольку собранная информация может оказаться бесполезной на момент сбора, но может пригодиться, когда вы узнаете более подробную информацию о цели.

Подойдет простой текстовый файл для хранения всей обнаруженной вами информации. Однако вы можете стать более организованным, используя приложения для заметок, такие как [Notion](https://www.notion.so/) .

# **Ссылки на CTF веб-хакерства**

Вот несколько хороших ресурсов CTF для начала:

- [Damn Vulnerable Web Application (DVWA)](https://docs.rapid7.com/metasploit/metasploitable-2/) : уязвимое веб-приложение, которое обеспечивает безопасное место для проведения тестов на проникновение и исследований безопасности.
- [Hackthebox](https://www.hackthebox.com/) : платформа CTF со множеством CTF, от простых до сложных уровней.
- [Overthewire](https://overthewire.org/) : Как только вы получите базовые навыки, это хорошая платформа CTF, чтобы начать практиковать CTF веб-хакинга.
- [Vulnhub](https://www.vulnhub.com/) : еще одна потрясающая платформа CTF, содержащая несколько CTF. Эта платформа позволяет загружать и настраивать CTF в вашей собственной виртуальной среде с помощью такого программного обеспечения, как [Virtual Box](https://www.virtualbox.org/) или [VMware](https://www.vmware.com/products/workstation-player.html) .
- [Hacker101](https://ctf.hacker101.com/) : Это обеспечивает ряд задач CTF, предоставляемых платформой охоты за ошибками [Hackerone .](https://www.hackerone.com/) Эти CTF особенно полезны для всех, кто хочет заняться поиском ошибок.

Новичкам я бы порекомендовал начать с [Mr Robot](https://www.vulnhub.com/entry/mr-robot-1,151/) , который представляет собой CTF для начинающих, основанный на хакерском шоу Mr. Robot.

# **Ресурсы для подражания**

Наконец, существует множество ресурсов, которые помогут вам узнать больше о веб-хакерстве и игре в CTF веб-хакинга. Некоторые из ресурсов включают в себя:

- **Прохождение CTF** . Если вы не можете решить CTF, выполните поиск в Google пошаговых руководств или описаний CTF.
- **Твиттер-аккаунты исследователей информационной безопасности** . Исследователи информационной безопасности часто делятся своими новыми исследованиями и хитростями на своих страницах в Твиттере.
- **Переполнение стека** . Найдите ответы на часто задаваемые вопросы о технологиях, которые вы пытаетесь взломать.

Вот и все, что касается этой статьи. Спасибо за чтение. Надеюсь, вы нашли информацию полезной. Пожалуйста, подпишитесь, поставьте 👏 и поделитесь.

[

Информационная безопасность

](https://medium.com/tag/infosec?source=post_page-----9ef04e7c5df5---------------infosec-----------------)

[

Веб-хакинг

](https://medium.com/tag/web-hacking?source=post_page-----9ef04e7c5df5---------------web_hacking-----------------)

[

КТФ

](https://medium.com/tag/ctf?source=post_page-----9ef04e7c5df5---------------ctf-----------------)

[  
](https://medium.com/tag/hacking?source=post_page-----9ef04e7c5df5---------------hacking-----------------)

