# Basic Tools

Такие инструменты, как `SSH`, `Netcat`, `Tmux`, и `Vim`необходимы и ежедневно используются большинством специалистов по информационной безопасности. Хотя эти инструменты не предназначены для тестирования на проникновение, они имеют решающее значение для процесса тестирования на проникновение, поэтому мы должны ими овладеть.

---

## Использование SSH

[Secure Shell (SSH)](https://en.wikipedia.org/wiki/SSH_(Secure_Shell)) — это сетевой протокол, работающий на порту `22`по умолчанию и предоставляет таким пользователям, как системные администраторы, безопасный способ удаленного доступа к компьютеру. SSH можно настроить с аутентификацией по паролю или без пароля с использованием [аутентификации с открытым ключом](https://serverpilot.io/docs/how-to-use-ssh-public-key-authentication/) с использованием пары открытого/закрытого ключей SSH. SSH можно использовать для удаленного доступа к системам в той же сети через Интернет, для облегчения подключения к ресурсам в других сетях с использованием переадресации портов/проксирования, а также для загрузки/выгрузки файлов в удаленные системы и из них.

SSH использует модель клиент-сервер, подключая пользователя, запускающего клиентское приложение SSH, такое как `OpenSSH`на SSH-сервер. При атаке на компьютер или во время реальной оценки мы часто получаем учетные данные в открытом виде или закрытый ключ SSH, который можно использовать для прямого подключения к системе через SSH. Соединение SSH обычно гораздо более стабильно, чем соединение с обратной оболочкой, и часто может использоваться в качестве «переходного хоста» для перебора и атаки других хостов в сети, передачи инструментов, настройки постоянства и т. д. Если мы получим набор учетных данных мы можем использовать SSH для удаленного входа на сервер, используя имя пользователя `@` IP-адрес удаленного сервера следующим образом:

Основные инструменты

```shell-session
Uliam@htb[/htb]$ ssh Bob@10.10.10.10

Bob@remotehost's password: *********

Bob@remotehost#
```

Также возможно прочитать локальные закрытые ключи в скомпрометированной системе или добавить наш открытый ключ, чтобы получить доступ SSH к конкретному пользователю, как мы обсудим в следующем разделе. Как мы видим, SSH — отличный инструмент для безопасного подключения к удаленной машине. Он также предоставляет возможность сопоставить локальные порты на удаленном компьютере с нашим локальным хостом, что иногда может оказаться полезным.

---
## Использование Netcat

[Неткэт](https://linux.die.net/man/1/nc) , `ncat`, или `nc`, — отличная сетевая утилита для взаимодействия с портами TCP/UDP. Его можно использовать для многих целей во время пентеста. Его основное использование — подключение к оболочкам, о чем мы поговорим позже в этом модуле. В дополнение к этому, `netcat`может использоваться для подключения к любому прослушиваемому порту и взаимодействия со службой, работающей на этом порту. Например, `SSH`запрограммирован на обработку соединений через порт 22 для отправки всех данных и ключей. Мы можем подключиться к TCP-порту 22 с помощью `netcat`:

Основные инструменты

```shell-session
Uliam@htb[/htb]$ netcat 10.10.10.10 22

SSH-2.0-OpenSSH_8.4p1 Debian-3
```

Как мы видим, порт 22 прислал нам свой баннер, в котором говорилось, что `SSH`работает на нем. Эта техника называется `Banner Grabbing`и может помочь определить, какая служба работает на определенном порту. `Netcat`поставляется предустановленным в большинстве дистрибутивов Linux. Мы также можем скачать копию для компьютеров с Windows по этой [ссылке](https://nmap.org/download.html) . Есть еще одна альтернатива Windows `netcat` закодированный в PowerShell под названием [PowerCat](https://github.com/besimorhino/powercat) . `Netcat` также может использоваться для передачи файлов между компьютерами, о чем мы поговорим позже.

Еще одна похожая сетевая утилита — [socat](https://linux.die.net/man/1/socat) , которая имеет несколько функций, которые `netcat` не поддерживает, например, переадресацию портов и подключение к последовательным устройствам. `Socat`также может использоваться для [обновления оболочки до полностью интерактивного TTY](https://blog.ropnop.com/upgrading-simple-shells-to-fully-interactive-ttys/#method-2-using-socat) . Мы увидим несколько примеров этого в следующем разделе. `Socat`— очень удобная утилита, которая должна быть частью инструментария каждого тестера на проникновение. файл [Автономный](https://github.com/andrew-d/static-binaries) двоичный `Socat` может быть перенесен в систему после получения удаленного выполнения кода, чтобы получить более стабильное обратное соединение оболочки.

---
## Использование Tmux

Терминальные мультиплексоры, такие как `tmux` или `Screen`, являются отличными утилитами для расширения функций стандартного терминала Linux, таких как наличие нескольких окон в одном терминале и переключение между ними. Давайте посмотрим несколько примеров использования `tmux`, который является более распространенным из двух.

---
## Использование Vim

[Vim](https://linuxcommand.org/lc3_man_pages/vim1.html) — отличный текстовый редактор, который можно использовать для написания кода или редактирования текстовых файлов в системах Linux. Одно из больших преимуществ использования `Vim`заключается в том, что он полностью полагается на клавиатуру, поэтому вам не нужно использовать мышь, что (как только мы ее овладеем) значительно повысит вашу производительность и эффективность при написании/редактировании кода. Обычно мы находим `Vim` или `Vi` установлен на взломанных системах Linux, поэтому изучение того, как его использовать, позволяет нам редактировать файлы даже в удаленных системах. `Vim`также имеет множество других функций, таких как расширения и плагины, которые могут значительно расширить его использование и сделать его отличным редактором кода. Давайте посмотрим на некоторые основы `Vim`.

---
# Дополнительные упражнения

Примените то, что вы узнали из этого раздела, чтобы получить баннер вышеуказанного сервера и отправить его в качестве ответа.

```
nc 94.237.53.113 41164  
SSH-2.0-OpenSSH_8.2p1 Ubuntu-4ubuntu0.1
```

Видимо это ssh сервер, в качестве ответа отправляем баннер.

---