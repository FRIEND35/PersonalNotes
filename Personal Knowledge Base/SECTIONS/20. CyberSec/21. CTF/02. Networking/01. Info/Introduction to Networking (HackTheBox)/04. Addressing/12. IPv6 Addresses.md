# IPv6 Addresses

---

`IPv6` является преемником IPv4. В отличие от IPv4, `IPv6` адрес `128` немного долго. `prefix` идентифицирует хост и части сети. Управление по присвоению номеров в Интернете ( `IANA`) отвечает за назначение адресов IPv4 и IPv6 и связанных с ними частей сети. В долгосрочной перспективе `IPv6` Ожидается, что он полностью заменит IPv4, который до сих пор преимущественно используется в Интернете. Однако в принципе IPv4 и IPv6 могут быть доступны одновременно ( `Dual Stack`).

IPv6 последовательно следует `end-to-end` принципу и предоставляет общедоступные IP-адреса для любых конечных устройств без необходимости использования NAT. Следовательно, интерфейс может иметь несколько адресов IPv6, и существуют специальные адреса IPv6, которым назначено несколько интерфейсов.

`IPv6` — это протокол со множеством новых функций, который также имеет множество других преимуществ по сравнению с IPv4:

- Больше адресного пространства
- Самоконфигурация адреса (SLAAC)
- Несколько адресов IPv6 на интерфейс
- Более быстрая маршрутизация
- Сквозное шифрование (IPsec)
- Пакеты данных до 4 ГБ

| **Функции**            | **IPv4**        | **IPv6**                     |
| ---------------------- | --------------- | ---------------------------- |
| Длина бита             | 32-битный       | 128 бит                      |
| Уровень OSI            | Сетевой уровень | Сетевой уровень              |
| Диапазон адресации     | ~ 4,3 миллиарда | ~ 340 ундециллионов          |
| Представительство      | Двоичный        | Шестнадцатеричный            |
| Префиксная запись      | 10.10.10.0/24   | fe80::dd80:b1a9:6687:2d3b/64 |
| Динамическая адресация | DHCP            | СЛААК/DHCPv6                 |
| IPsec                  | Необязательный  | Обязательный                 |

---

Существует четыре различных типа адресов IPv6:

|**Тип**|**Описание**|
|---|---|
|`Unicast`|Адреса для одного интерфейса.|
|`Anycast`|Адреса для нескольких интерфейсов, где только один из них получает пакет.|
|`Multicast`|Адреса для нескольких интерфейсов, где все получают один и тот же пакет.|
|`Broadcast`|Не существует и реализуется с помощью групповых адресов.|

---

## Hexadecimal System

The `hexadecimal system` ( `hex`) используется, чтобы сделать двоичное представление более читабельным и понятным. Мы можем только показать `10` ( `0-9`) штаты с десятичной системой и `2` ( `0` / `1`) в двоичной системе, используя один символ. В отличие от двоичной и десятичной системы, мы можем использовать шестнадцатеричную систему для отображения. `16` ( `0-F`) состояния с одним символом.

| **Десятичный** | **Шестнадцатеричный** | **Двоичный** |
| -------------- | --------------------- | ------------ |
| 1              | 1                     | 0001         |
| 2              | 2                     | 0010         |
| 3              | 3                     | 0011         |
| 4              | 4                     | 0100         |
| 5              | 5                     | 0101         |
| 6              | 6                     | 0110         |
| 7              | 7                     | 0111         |
| 8              | 8                     | 1000         |
| 9              | 9                     | 1001         |
| 10             | А                     | 1010         |
| 11             | Б                     | 1011         |
| 12             | С                     | 1100         |
| 13             | D                     | 1101         |
| 14             | E                     | 1110         |
| 15             | F                     | 1111         |

Давайте посмотрим на примере IPv4, как адрес IPv4 ( `192.168.12.160`) будет выглядеть в шестнадцатеричном представлении.

|**Представительство**|**1-й октет**|**2-й октет**|**3-й октет**|**4-й октет**|
|---|---|---|---|---|
|Двоичный|1100 0000|1010 1000|0000 1100|1010 0000|
|`Hex`|`C0`|`A8`|`0C`|`A0`|
|Десятичный|192|168|12|160|

---

Всего IPv6-адрес состоит из `16 bytes`. Благодаря своей длине, `IPv6` адрес представлен в виде `hexadecimal` обозначения. Поэтому `128 bits` делятся на `8 blocks` умноженное на 16 бит (или `4 hex` цифры). Все четыре шестнадцатеричных числа сгруппированы и разделены двоеточием ( `:`) вместо простой точки ( `.`), как в IPv4. Для упрощения обозначений опустим ведущее не менее `4` нули в блоках, и мы можем заменить их двумя двоеточиями ( `::`).

Адрес IPv6 может выглядеть так:

- Полный IPv6: `fe80:0000:0000:0000:dd80:b1a9:6687:2d3b/64`
- Короткий IPv6: `fe80::dd80:b1a9:6687:2d3b/64`

Адрес IPv6 состоит из двух частей:

- `Network Prefix` (сетевая часть)
- `Interface Identifier` также называется `Suffix` (ведущая часть)

The `Network Prefix` идентифицирует сеть, подсеть или диапазон адресов. `Interface Identifier` формируется из `48-bit MAC` адрес (о котором мы поговорим позже) интерфейса и преобразуется в `64-bit address` в процессе. Длина префикса по умолчанию равна `/64`. Однако другие типичные префиксы `/32`, `/48`, и `/56`. Если мы хотим использовать наши сети, мы получаем более короткий префикс (например, `/56`) чем `/64` от нашего провайдера.

В RFC 5952 было определено вышеупомянутое обозначение адреса IPv6:

- Все алфавитные символы всегда пишутся строчными буквами.
- Все ведущие нули блока всегда опускаются.
- Один или несколько последовательных блоков `4 zeros` (шестнадцатеричные) сокращаются на два двоеточия ( `::`).
- Сокращение до двух двоеточий ( `::`) может выполняться только `once` начиная слева.