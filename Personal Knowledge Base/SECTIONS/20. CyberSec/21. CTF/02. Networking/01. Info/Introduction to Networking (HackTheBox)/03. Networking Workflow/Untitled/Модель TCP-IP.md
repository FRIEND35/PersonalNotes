### Основные уровни модели TCP/IP

Модель TCP/IP, или модель DoD (Department of Defense), включает в себя четыре основных уровня:

1. **Канальный уровень (Link Layer)**
2. **Интернет-уровень (Internet Layer)**
3. **Транспортный уровень (Transport Layer)**
4. **Прикладной уровень (Application Layer)**

### 3.2 Протоколы на каждом уровне

#### Канальный уровень (Link Layer)

На этом уровне данные передаются по физическим сетям. Примеры протоколов:

- **Ethernet**: Стандарт для сетей локальной передачи данных.
- **ARP (Address Resolution Protocol)**: Протокол для сопоставления IP-адресов с MAC-адресами.

#### Интернет-уровень (Internet Layer)

Этот уровень отвечает за маршрутизацию данных через сети. Примеры протоколов:

- **IP (Internet Protocol)**: Основной протокол который идентифицирует устройство в Интернете или локальной сети.
- **ICMP (Internet Control Message Protocol)**: Используется для передачи диагностической информации и сообщений об ошибках.
- **IPsec (Internet Protocol Security)**: Протокол для обеспечения безопасности на интернет-уровне.

#### Транспортный уровень (Transport Layer)

Этот уровень отвечает за надежную передачу данных между узлами. Примеры протоколов:

- **TCP (Transmission Control Protocol)**: Протокол с установлением соединения, обеспечивающий надежную доставку данных.
- **UDP (User Datagram Protocol)**: Протокол без установления соединения, обеспечивающий быструю передачу данных.

#### Прикладной уровень (Application Layer)

Этот уровень обеспечивает взаимодействие приложений и сетевых сервисов. Примеры протоколов:

- **HTTP (HyperText Transfer Protocol)**: Протокол для передачи гипертекстовых документов (веб-страниц).
- **FTP (File Transfer Protocol)**: Протокол для передачи файлов.
- **DNS (Domain Name System)**: Протокол для преобразования доменных имен в IP-адреса.
- **SMTP (Simple Mail Transfer Protocol)**: Протокол для передачи электронной почты.

### 3.3 Процесс передачи данных в модели TCP/IP

#### IP-адресация

IP-адресация используется для уникальной идентификации узлов в сети. Каждый узел в сети TCP/IP имеет уникальный IP-адрес, который состоит из двух частей: сетевого адреса и адреса узла.

- **IPv4-адреса**: Состоит из 32 бит и обычно записывается в виде четырех десятичных чисел, разделенных точками (например, 192.168.1.1).
- **IPv6-адреса**: Состоит из 128 бит и обычно записывается в виде восьми групп шестнадцатеричных чисел, разделенных двоеточиями (например, 2001:0db8:85a3:0000:0000:8a2e:0370:7334).

#### Сетевые маски и подсети

Сетевые маски используются для определения, какая часть IP-адреса относится к сети, а какая - к узлу. Маска подсети разделяет адрес на две части: адрес сети и адрес узла в этой сети.

- **Сетевые маски**: Записываются в том же формате, что и IP-адреса. Например, маска подсети 255.255.255.0 для IPv4.
- **Подсети**: Разделение одной сети на более мелкие сети. Например, сеть 192.168.1.0/24 может быть разделена на две подсети: 192.168.1.0/25 и 192.168.1.128/25.

#### Процесс передачи данных

1. **Прикладной уровень**: Приложение генерирует данные и передает их в стек протоколов.
2. **Транспортный уровень**: Данные инкапсулируются в сегменты TCP или датаграммы UDP.
3. **Интернет-уровень**: Сегменты TCP или датаграммы UDP инкапсулируются в IP-пакеты. IP-адресация и маршрутизация выполняются на этом уровне.
4. **Канальный уровень**: IP-пакеты инкапсулируются в фреймы канального уровня (например, Ethernet). Фреймы передаются по физической среде (например, по кабелю Ethernet).
5. **Передача данных**: Фреймы передаются от источника к назначению через одну или несколько сетей. На каждом промежуточном маршрутизаторе выполняется деинкапсуляция до уровня IP для принятия решения о маршрутизации, затем пакеты снова инкапсулируются в новые фреймы для передачи дальше.
6. **Прием данных**: На узле-получателе процесс происходит в обратном порядке: фреймы деинкапсулируются до уровня IP, затем до уровня TCP/UDP, и наконец, данные передаются приложению.

