
### Уровни Модели OSI

#### 1. Физический Уровень (Physical Layer)

**Функции**:

- Определяет механические, электрические, функциональные и процедурные характеристики для активации, поддержания и деактивации физического канала для передачи данных.
- Управляет передатчиками и приемниками, физическими средами передачи (кабели, радиоволны и т.д.).

**Протоколы и службы**:

- Не использует протоколов в традиционном понимании, так как работает с необработанными битами.
- Примеры технологий: Ethernet (физическая часть), USB, DSL, Bluetooth, RS-232.

**Примеры использования и задачи**:

- Передача сигналов по медным и оптоволоконным кабелям.
- Обеспечение физической связи между устройствами.

#### 2. Канальный Уровень (Data Link Layer)

**Функции**:

- Обеспечивает надежную передачу данных через физический канал.
- Разделяет данные на кадры и управляет доступом к физической среде.
- Обнаруживает и исправляет ошибки на уровне кадров.

**Протоколы и службы**:

- Ethernet, PPP (Point-to-Point Protocol), Frame Relay, HDLC (High-Level Data Link Control).
- Уровень MAC (Media Access Control) и LLC (Logical Link Control).

**Примеры использования и задачи**:

- Управление доступом к общим средам (например, Ethernet).
- Обеспечение надежности передачи данных между соседними узлами.

#### 3. Сетевой Уровень (Network Layer)

**Функции**:

- Определяет путь (маршрутизацию) для передачи данных между узлами в разных сетях.
- Управляет логической адресацией (IP-адресация) и сегментацией сети.

**Протоколы и службы**:

- IP (Internet Protocol), ICMP (Internet Control Message Protocol), OSPF (Open Shortest Path First), BGP (Border Gateway Protocol).

**Примеры использования и задачи**:

- Маршрутизация пакетов через интернет.
- Обеспечение маршрутизации и пересылки пакетов между разными сетями.

#### 4. Транспортный Уровень (Transport Layer)

**Функции**:

- Обеспечивает надежную передачу данных между хостами, контроль потока, управление перегрузками.
- Разделяет данные на сегменты и обеспечивает их повторную сборку.

**Протоколы и службы**:

- TCP (Transmission Control Protocol), UDP (User Datagram Protocol), SCTP (Stream Control Transmission Protocol).

**Примеры использования и задачи**:

- Обеспечение надежной доставки данных для приложений.
- Управление сессиями передачи данных.

#### 5. Сеансовый Уровень (Session Layer)

**Функции**:

- Управляет установлением, поддержанием и завершением сеансов связи между приложениями.
- Синхронизирует диалог между двумя сторонами и управляет обменом данными.

**Протоколы и службы**:

- NetBIOS, PPTP (Point-to-Point Tunneling Protocol), RPC (Remote Procedure Call).

**Примеры использования и задачи**:

- Управление сессиями для передачи данных между клиентом и сервером.
- Установка и завершение сеансов связи.

#### 6. Представительский Уровень (Presentation Layer)

**Функции**:

- Обеспечивает преобразование данных между форматом, используемым приложением, и форматом, используемым для передачи данных.
- Шифрует и сжимает данные.

**Протоколы и службы**:

- SSL/TLS (Secure Sockets Layer/Transport Layer Security), JPEG (Joint Photographic Experts Group), GIF (Graphics Interchange Format).

**Примеры использования и задачи**:

- Шифрование данных для безопасной передачи.
- Конвертация данных в совместимые форматы (например, кодировка текстов).

#### 7. Прикладной Уровень (Application Layer)

**Функции**:

- Предоставляет сетевые услуги напрямую приложениям и пользователям.
- Обеспечивает доступ к сетевым ресурсам и передачу данных.

**Протоколы и службы**:

- HTTP (Hypertext Transfer Protocol), FTP (File Transfer Protocol), SMTP (Simple Mail Transfer Protocol), DNS (Domain Name System).

**Примеры использования и задачи**:

- Обеспечение передачи данных в интернете.
- Доступ к удаленным файловым системам и обмен сообщениями.

### Процесс Инкапсуляции и Деинкапсуляции Данных

#### Инкапсуляция Данных

**Инкапсуляция** — это процесс добавления заголовков данных к исходному пакету на каждом уровне модели OSI. Каждому уровню добавляется свой заголовок, который содержит информацию, необходимую для обработки данных на этом уровне.

1. **Прикладной уровень**:
    - Создает данные для передачи (например, текст письма, веб-страница).
2. **Представительский уровень**:
    - Преобразует данные в нужный формат (например, сжатие, шифрование).
3. **Сеансовый уровень**:
    - Устанавливает сеанс и добавляет заголовки для управления сеансом.
4. **Транспортный уровень**:
    - Делит данные на сегменты и добавляет заголовок с номером порта и контрольной суммой.
5. **Сетевой уровень**:
    - Добавляет IP-заголовок, содержащий IP-адреса отправителя и получателя.
6. **Канальный уровень**:
    - Разделяет данные на кадры и добавляет MAC-адреса.
7. **Физический уровень**:
    - Конвертирует кадры в электрические или оптические сигналы для передачи по физической среде.

**Пример**:

- Веб-браузер (прикладной уровень) запрашивает страницу. Этот запрос проходит через все уровни, добавляя заголовки, пока не достигает физического уровня для передачи по сети.

#### Деинкапсуляция Данных

**Деинкапсуляция** — это процесс удаления заголовков данных на каждом уровне при получении пакета данных. Данные проходят через уровни в обратном порядке, начиная с физического уровня и заканчивая прикладным.

1. **Физический уровень**:
    - Принимает электрические или оптические сигналы и преобразует их в битовый поток.
2. **Канальный уровень**:
    - Извлекает кадры и проверяет MAC-адреса.
3. **Сетевой уровень**:
    - Извлекает IP-пакеты и проверяет IP-адреса.
4. **Транспортный уровень**:
    - Извлекает сегменты и проверяет порты и контрольные суммы.
5. **Сеансовый уровень**:
    - Управляет сеансом и обеспечивает синхронизацию.
6. **Представительский уровень**:
    - Преобразует данные в нужный формат.
7. **Прикладной уровень**:
    - Доставляет данные приложению или пользователю.

**Пример**:

- Сервер отправляет веб-страницу в ответ на запрос. Страница проходит через все уровни OSI на сервере, затем через интернет, и на компьютере пользователя процесс деинкапсуляции восстанавливает исходные данные для отображения страницы.

### Визуализация Инкапсуляции и Деинкапсуляции

**Пример передачи данных**:

1. **Инкапсуляция**:
    
    - **Прикладной уровень**: Генерирует HTTP-запрос.
    - **Представительский уровень**: Преобразует запрос в формат для передачи.
    - **Сеансовый уровень**: Устанавливает сеанс.
    - **Транспортный уровень**: Делит запрос на сегменты, добавляет номер порта.
    - **Сетевой уровень**: Добавляет IP-адреса.
    - **Канальный уровень**: Добавляет MAC-адреса.
    - **Физический уровень**: Преобразует в сигналы и отправляет по сети.
2. **Деинкапсуляция**:
    
    - **Физический уровень**: Принимает сигналы и преобразует их в битовый поток.
    - **Канальный уровень**: Проверяет и удаляет MAC-заголовок.
    - **Сетевой уровень**: Проверяет и удаляет IP-заголовок.
    - **Транспортный уровень**: Проверяет и удаляет транспортный заголовок.
    - **Сеансовый уровень**: Управляет сеансом.
    - **Представительский уровень**: Преобразует данные в нужный формат.
    - **Прикладной уровень**: Доставляет HTTP-запрос приложению.

Таким образом, инкапсуляция и деинкапсуляция обеспечивают надежную и эффективную передачу данных через сложные сети, разделяя функции между разными уровнями модели OSI.

Когда устройство получает сетевой пакет, процесс извлечения данных из него включает несколько шагов, которые проходят через различные уровни сетевой модели OSI (или TCP/IP). Каждый уровень отвечает за разбор и обработку своего сегмента данных. Рассмотрим этот процесс подробно.

### Процесс извлечения данных из пакета

#### 1. Физический уровень

На физическом уровне данные поступают в виде электрических сигналов, радиоволн или оптических сигналов. Сетевой интерфейс (например, сетевой адаптер) преобразует эти сигналы в цифровые данные, которые могут быть обработаны устройством.

#### 2. Канальный уровень (Data Link Layer)

На канальном уровне устройство принимает кадровые данные (фреймы) и извлекает из них сетевые пакеты. Этот процесс включает проверку и разбор заголовка канального уровня.

- **Прием фрейма**: Сетевой интерфейс принимает фрейм (например, Ethernet-фрейм).
- **Проверка контрольной суммы**: Проверяется целостность фрейма с помощью контрольной суммы (CRC).
- **Извлечение полезной нагрузки**: Заголовок канального уровня удаляется, и извлекается полезная нагрузка, которая обычно является сетевым пакетом (например, IP-пакетом).

#### 3. Сетевой уровень (Network Layer)

На сетевом уровне обрабатывается IP-пакет. Этот процесс включает проверку и разбор заголовка сетевого уровня.

- **Прием IP-пакета**: Извлекается IP-пакет из полезной нагрузки фрейма.
- **Проверка контрольной суммы**: Проверяется контрольная сумма заголовка IP для проверки целостности.
- **Маршрутизация**: Если устройство является промежуточным маршрутизатором, оно определяет следующий маршрут для передачи пакета. Если устройство является конечным получателем, пакет передается на следующий уровень.
- **Извлечение полезной нагрузки**: Заголовок сетевого уровня удаляется, и извлекается полезная нагрузка, которая обычно является сегментом транспортного уровня (например, TCP или UDP).

#### 4. Транспортный уровень (Transport Layer)

На транспортном уровне обрабатывается TCP или UDP сегмент. Этот процесс включает проверку и разбор заголовка транспортного уровня.

- **Прием транспортного сегмента**: Извлекается транспортный сегмент из полезной нагрузки IP-пакета.
- **Проверка контрольной суммы**: Проверяется контрольная сумма заголовка транспортного уровня.
- **Управление соединением**: В случае TCP, проверяются и обрабатываются флаги соединения (например, SYN, ACK, FIN).
- **Извлечение данных**: Заголовок транспортного уровня удаляется, и извлекается полезная нагрузка, которая является данными прикладного уровня (например, HTTP-запрос или ответ).

#### 5. Прикладной уровень (Application Layer)

На прикладном уровне данные передаются соответствующему приложению, которое их обрабатывает и использует.

- **Прием данных**: Данные прикладного уровня передаются приложению (например, веб-браузеру, почтовому клиенту).
- **Обработка данных**: Приложение обрабатывает полученные данные, например, отображает веб-страницу или сохраняет файл.

### Пример извлечения данных из HTTP-запроса

Рассмотрим пример, когда устройство получает HTTP-запрос:

1. **Физический уровень**: Сетевой интерфейс принимает электрические сигналы и преобразует их в цифровые данные.
2. **Канальный уровень**: Сетевой адаптер принимает Ethernet-фрейм, проверяет его целостность и извлекает IP-пакет.
3. **Сетевой уровень**: IP-пакет проверяется на целостность, определяется, что его получатель — текущее устройство, и извлекается TCP-сегмент.
4. **Транспортный уровень**: TCP-сегмент проверяется, подтверждается соединение (если необходимо), и извлекаются данные HTTP-запроса.
5. **Прикладной уровень**: Данные HTTP-запроса передаются веб-серверу, который их обрабатывает и возвращает HTTP-ответ.

Таким образом, процесс извлечения данных из сетевого пакета включает несколько шагов на разных уровнях модели OSI, начиная от физического приема данных и заканчивая передачей полезной нагрузки приложению для дальнейшей обработки.


Процесс отправки данных через сеть также проходит через несколько уровней модели OSI (или TCP/IP). Данные проходят от прикладного уровня до физического, при этом каждый уровень добавляет свои заголовки и, возможно, трейлеры. Рассмотрим этот процесс подробно.

### Пример отправки HTTP-запроса

Рассмотрим пример отправки HTTP-запроса:

1. **Прикладной уровень**:
    
    - Приложение (веб-браузер) создает HTTP-запрос и передает его транспортному уровню.
2. **Транспортный уровень**:
    
    - Протокол TCP разбивает HTTP-запрос на сегменты, если он слишком большой.
    - К каждому сегменту добавляется заголовок TCP с портами, номерами последовательности и подтверждения, контрольной суммой и флагами.
    - TCP-сегменты передаются сетевому уровню.
3. **Сетевой уровень**:
    
    - К каждому TCP-сегменту добавляется заголовок IPv4 с IP-адресами отправителя и получателя, временем жизни и другими параметрами.
    - IP-пакеты передаются канальному уровню.
4. **Канальный уровень**:
    
    - К каждому IP-пакету добавляется заголовок Ethernet с MAC-адресами отправителя и получателя, типом Ethernet и контрольной суммой.
    - Ethernet-фреймы передаются физическому уровню.
5. **Физический уровень**:
    
    - Ethernet-фреймы преобразуются в электрические сигналы и передаются через кабель или беспроводное соединение к следующему сетевому устройству (например, коммутатору или маршрутизатору).

Каждое сетевое устройство на пути маршрутизации данных повторяет процесс обработки на сетевом и канальном уровнях, пока данные не достигнут конечного получателя, где процесс извлечения данных происходит в обратном порядке.

4o

---

Если вы отправляете файл другу через сеть, например, по электронной почте или с помощью мессенджера, то этот процесс включает несколько шагов и проходит через все уровни модели OSI. Рассмотрим пример отправки файла через мессенджер. Мы рассмотрим процесс инкапсуляции и деинкапсуляции данных на каждом уровне OSI.

### Процесс отправки данных

#### 1. Прикладной уровень (Application Layer)

На прикладном уровне данные создаются и передаются соответствующему протоколу для отправки.

- **Создание данных**: Приложение (например, веб-браузер, почтовый клиент) создает данные, которые нужно отправить (например, HTTP-запрос).
- **Передача данных транспортному уровню**: Данные передаются транспортному уровню.

#### 2. Транспортный уровень (Transport Layer)

На транспортном уровне данные разбиваются на сегменты и добавляется заголовок транспортного уровня (например, TCP или UDP).

- **Разбиение данных**: Данные прикладного уровня разбиваются на сегменты (если они слишком большие).
- **Добавление заголовка**: К каждому сегменту добавляется заголовок транспортного уровня, содержащий информацию о портах, номерах последовательности, контрольных суммах и других параметрах.
    - **TCP**: Если используется TCP, то добавляются такие поля, как номера последовательности, подтверждения, флаги (SYN, ACK, FIN) и т. д.
    - **UDP**: Если используется UDP, то добавляются порты отправителя и получателя, длина и контрольная сумма.
- **Передача данных сетевому уровню**: Сегменты с заголовками транспортного уровня передаются сетевому уровню.

#### 3. Сетевой уровень (Network Layer)

На сетевом уровне к сегментам добавляется заголовок IP (IPv4 или IPv6), и данные превращаются в IP-пакеты.

- **Добавление заголовка IP**: К каждому сегменту добавляется заголовок IP, содержащий IP-адреса отправителя и получателя, время жизни (TTL) и другие параметры.
    - **IPv4**: Поля заголовка включают версию, длину заголовка, общий размер пакета, идентификацию, флаги, смещение фрагмента, TTL, протокол, контрольную сумму, IP-адрес отправителя и получателя, опции (если есть).
    - **IPv6**: Поля заголовка включают версию, класс трафика, метку потока, длину полезной нагрузки, следующий заголовок, лимит переходов, IP-адрес отправителя и получателя.
- **Передача данных канальному уровню**: IP-пакеты передаются канальному уровню.

#### 4. Канальный уровень (Data Link Layer)

На канальном уровне к IP-пакетам добавляется заголовок канального уровня (например, Ethernet-фрейм), и данные превращаются в кадры.

- **Добавление заголовка канального уровня**: К каждому IP-пакету добавляется заголовок канального уровня, содержащий MAC-адреса отправителя и получателя, тип протокола и другие параметры.
    - **Ethernet**: Поля заголовка включают MAC-адреса отправителя и получателя, тип Ethernet (например, IPv4, IPv6), контрольную сумму (CRC).
- **Добавление трейлера**: В некоторых случаях также добавляется трейлер для проверки целостности данных.
- **Передача данных физическому уровню**: Кадры передаются физическому уровню.

#### 5. Физический уровень (Physical Layer)

На физическом уровне кадры преобразуются в электрические сигналы, радиоволны или оптические сигналы для передачи через физическую среду (например, медные провода, волоконно-оптические кабели, радиоволны).

- **Преобразование данных**: Кадры преобразуются в соответствующие сигналы.
- **Передача данных**: Сигналы передаются через физическую среду к следующему сетевому устройству (например, коммутатору, маршрутизатору) или конечному получателю.

### Пример: Отправка Файла Через Мессенджер

#### 1. **Прикладной Уровень (Application Layer)**

- **Функции**: Мессенджер инициирует отправку файла.
- **Процесс**: Вы выбираете файл в приложении мессенджера и нажимаете «Отправить». Приложение начинает процесс отправки файла.
- **Протоколы**: Например, может использоваться протокол HTTPS для передачи данных.
- **Данные**: Файл в его исходном формате (например, .jpg, .pdf).

**Пример инкапсуляции**:

Мессенджер может добавить метаданные, такие как имя файла, тип файла и размер, и отправить их вместе с файлом.

#### 2. **Представительский Уровень (Presentation Layer)**

- **Функции**: Форматирует данные для передачи.
- **Процесс**: Файл может быть сжат или зашифрован для передачи.
- **Протоколы**: TLS/SSL может использоваться для шифрования данных, чтобы защитить их от перехвата.
- **Данные**: Сжатый и/или зашифрованный файл.

**Пример инкапсуляции**:

Файл может быть зашифрован с использованием TLS, что добавляет шифрование и метаданные шифрования.

#### 3. **Сеансовый Уровень (Session Layer)**

- **Функции**: Управляет установкой, поддержанием и завершением сеанса.
- **Процесс**: Мессенджер устанавливает сессию с сервером мессенджера или с другом.
- **Протоколы**: NetBIOS, TLS для шифрования сессии.
- **Данные**: Информация о сессии.

**Пример инкапсуляции**:

Создается сеанс связи между вашим устройством и сервером мессенджера, добавляются заголовки для управления сессией.

#### 4. **Транспортный Уровень (Transport Layer)**

- **Функции**: Делит данные на сегменты, обеспечивает надежную передачу.
- **Процесс**: Файл разбивается на более мелкие части (сегменты), каждый из которых получает контрольную сумму для проверки целостности.
- **Протоколы**: TCP (Transmission Control Protocol) для надежной передачи.
- **Данные**: Сегменты файла.

**Пример инкапсуляции**:

Каждый сегмент данных получает заголовок TCP, содержащий порты отправителя и получателя, а также контрольную сумму.

#### 5. **Сетевой Уровень (Network Layer)**

- **Функции**: Обеспечивает маршрутизацию данных.
- **Процесс**: К каждому сегменту добавляется IP-заголовок с IP-адресами отправителя и получателя.
- **Протоколы**: IP (Internet Protocol), ICMP.
- **Данные**: IP-пакеты.

**Пример инкапсуляции**:

Каждому сегменту данных добавляется IP-заголовок с информацией о маршрутизации, что позволяет пакету найти путь через сеть к получателю.

#### 6. **Канальный Уровень (Data Link Layer)**

- **Функции**: Передача данных по физическому каналу.
- **Процесс**: IP-пакеты инкапсулируются в кадры, содержащие MAC-адреса отправителя и получателя.
- **Протоколы**: Ethernet, Wi-Fi.
- **Данные**: Кадры.

**Пример инкапсуляции**:

К каждому IP-пакету добавляется кадр Ethernet, который включает в себя MAC-адреса устройств отправителя и получателя.

#### 7. **Физический Уровень (Physical Layer)**

- **Функции**: Передача битов данных по физическому носителю.
- **Процесс**: Кадры данных преобразуются в электрические или оптические сигналы для передачи по проводам или радиоволнам.
- **Протоколы**: Используются электрические сигналы для медных кабелей, световые импульсы для оптоволокна.
- **Данные**: Сигналы (биты).

**Пример инкапсуляции**:

Биты данных передаются по физической среде, например, по Ethernet-кабелю или через Wi-Fi.

### Процесс инкапсуляции

**Инкапсуляция** — это процесс, при котором данные проходят через различные уровни сетевой модели (например, модели OSI или TCP/IP), и на каждом уровне добавляются заголовки и иногда трейлеры, которые содержат служебную информацию, необходимую для передачи данных. В конечном итоге получается пакет, готовый для отправки по сети.

Пример инкапсуляции в модели OSI:

1. **Уровень приложения (Application Layer)**: Создаются данные.
2. **Транспортный уровень (Transport Layer)**: Добавляется заголовок транспортного протокола (например, TCP или UDP), образуя сегмент.
3. **Сетевой уровень (Network Layer)**: Добавляется заголовок IP, образуя датаграмму или пакет.
4. **Канальный уровень (Data Link Layer)**: Добавляются заголовки и трейлеры канального уровня (например, Ethernet), образуя фрейм.
5. **Физический уровень (Physical Layer)**: Фрейм преобразуется в битовый поток для передачи по физической среде.

### Инкапсуляция: Отправка Файла

1. **Прикладной уровень**: Генерация файла и добавление метаданных мессенджером.
2. **Представительский уровень**: Шифрование файла с помощью TLS.
3. **Сеансовый уровень**: Установление и поддержание сеанса с сервером мессенджера.
4. **Транспортный уровень**: Разбиение файла на сегменты и добавление TCP-заголовков.
5. **Сетевой уровень**: Добавление IP-заголовков к сегментам, создание IP-пакетов.
6. **Канальный уровень**: Инкапсуляция IP-пакетов в кадры Ethernet, добавление MAC-адресов.
7. **Физический уровень**: Преобразование кадров в электрические сигналы для передачи по кабелю или Wi-Fi.

### Процесс деинкапсуляции

**Деинкапсуляция** — это процесс обратный инкапсуляции. Данные, поступающие от сети, проходят через различные уровни, где удаляются заголовки и трейлеры, чтобы извлечь полезные данные.

### Деинкапсуляция: Получение Файла Другом

#### 1. **Физический Уровень (Physical Layer)**

- **Процесс**: Другой компьютер получает электрические или оптические сигналы и преобразует их в битовый поток.

#### 2. **Канальный Уровень (Data Link Layer)**

- **Процесс**: Преобразует битовый поток в кадры, проверяет MAC-адреса, если они совпадают, передает данные дальше.

#### 3. **Сетевой Уровень (Network Layer)**

- **Процесс**: Преобразует кадры в IP-пакеты, проверяет IP-адреса, передает данные дальше, если адреса совпадают.

#### 4. **Транспортный Уровень (Transport Layer)**

- **Процесс**: Преобразует IP-пакеты в сегменты, проверяет целостность данных по контрольным суммам, объединяет сегменты в исходный файл.

#### 5. **Сеансовый Уровень (Session Layer)**

- **Процесс**: Управляет сессией передачи данных, обеспечивает корректное завершение сеанса.

#### 6. **Представительский Уровень (Presentation Layer)**

- **Процесс**: Расшифровывает и декомпрессирует данные, преобразует их в нужный формат.

#### 7. **Прикладной Уровень (Application Layer)**

- **Процесс**: Мессенджер получает и отображает файл для вашего друга, файл готов к использованию.

### Роль компьютера и маршрутизатора

#### Компьютер

Когда данные поступают на компьютер (например, на сетевой интерфейс), он выполняет процесс деинкапсуляции:

1. **Физический уровень**: Приём битового потока и преобразование его в фреймы канального уровня.
2. **Канальный уровень**: Удаление заголовков и трейлеров, извлечение пакетов сетевого уровня.
3. **Сетевой уровень**: Удаление IP-заголовков и извлечение транспортных сегментов.
4. **Транспортный уровень**: Удаление заголовков транспортного уровня и извлечение данных, которые передаются на уровень приложения.

Компьютер сам выполняет деинкапсуляцию, извлекая данные на каждом уровне и передавая их на более высокий уровень.

#### Маршрутизатор

Маршрутизатор выполняет несколько иную роль:

1. **Получение данных**: Маршрутизатор получает данные на одном из своих интерфейсов, которые представлены в виде фреймов канального уровня.
2. **Деинкапсуляция на канальном уровне**: Маршрутизатор извлекает сетевые пакеты, удаляя заголовки и трейлеры канального уровня.
3. **Анализ IP-заголовка**: Маршрутизатор анализирует IP-заголовок для определения адреса назначения.
4. **Инкапсуляция на канальном уровне**: Маршрутизатор добавляет новые заголовки и трейлеры канального уровня, соответствующие следующему участку сети, и отправляет пакет дальше по назначению.

Маршрутизатор не извлекает данные, чтобы передать их на уровни выше сетевого (например, на транспортный или прикладной уровень). Он работает только с IP-пакетами, обеспечивая их пересылку между различными сетями.

### Визуализация Процесса Инкапсуляции и Деинкапсуляции

Таким образом, каждый уровень модели OSI выполняет свою функцию, добавляя или удаляя заголовки данных, что обеспечивает надежную передачу файла от вас к вашему другу через сеть.

Когда данные передаются по сети, происходит процесс инкапсуляции и деинкапсуляции. Разберём, как это работает в контексте компьютеров и маршрутизаторов, чтобы понять, как данные обрабатываются при их передаче.

### Итог

- **Компьютер** выполняет полный процесс деинкапсуляции, чтобы извлечь данные из пакета на каждом уровне и передать их к приложению.
- **Маршрутизатор** выполняет деинкапсуляцию только до сетевого уровня, чтобы переслать пакеты дальше, изменяя их заголовки на канальном уровне для передачи в другие сегменты сети.

Это различие важно для понимания того, как данные обрабатываются на разных устройствах в сети.