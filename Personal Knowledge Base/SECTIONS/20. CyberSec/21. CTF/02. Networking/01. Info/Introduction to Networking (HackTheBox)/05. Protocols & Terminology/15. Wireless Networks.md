
# Wireless Networks

---

Беспроводные сети — это компьютерные сети, которые используют беспроводные соединения для передачи данных между сетевыми узлами. Эти сети позволяют таким устройствам, как ноутбуки, смартфоны и планшеты, взаимодействовать друг с другом и с Интернетом без необходимости физических соединений, таких как кабели.

Беспроводные сети используют радиочастоту ( `RF`) технология передачи данных между устройствами. Каждое устройство в беспроводной сети имеет беспроводной адаптер, который преобразует данные в радиочастотные сигналы и отправляет их по беспроводной сети. Другие устройства в сети получают эти сигналы с помощью своих собственных беспроводных адаптеров, а затем данные преобразуются обратно в пригодную для использования форму. Они могут работать в различных диапазонах, в зависимости от используемой технологии. Например, локальная сеть (LAN), охватывающая небольшую территорию, например дом или небольшой офис, может использовать беспроводную технологию, называемую `WiFi`, радиус действия которого составляет несколько сотен футов. С другой стороны, беспроводная глобальная сеть ( `WWAN`) может использовать технологии мобильной связи, такие как сотовые данные ( `3G`, `4G LTE`, `5G`), который может охватывать гораздо большую территорию, например целый город или регион.

Таким образом, для подключения к беспроводной сети устройство должно находиться в зоне действия сети и иметь правильные сетевые настройки, такие как имя сети и пароль. После подключения устройства могут взаимодействовать друг с другом и с Интернетом, позволяя пользователям получать доступ к онлайн-ресурсам и обмениваться данными.

Связь между устройствами происходит по радиочастотному каналу. `2.4 GHz` или `5 GHz` диапазоны в сети Wi-Fi. Когда какое-либо устройство, например ноутбук, хочет отправить данные по сети, оно сначала связывается с [точкой беспроводного доступа](https://en.wikipedia.org/wiki/Wireless_access_point) ( `WAP`), чтобы запросить разрешение на передачу. WAP — это центральное устройство, подобное маршрутизатору, которое соединяет беспроводную сеть с проводной сетью и контролирует доступ к сети. Как только WAP предоставляет разрешение, передающее устройство отправляет данные в виде радиочастотных сигналов, которые принимаются беспроводными адаптерами других устройств в сети. Затем данные преобразуются обратно в удобную форму и передаются соответствующему приложению или системе.

На силу радиочастотного сигнала и расстояние, которое он может преодолеть, влияют такие факторы, как мощность передатчика, наличие препятствий и плотность радиочастотного шума в окружающей среде. Таким образом, чтобы обеспечить надежную связь, сети Wi-Fi используют такие методы, как передача с расширенным спектром и коррекция ошибок, чтобы преодолеть эти проблемы.

---

## WiFi Connection

В устройстве также необходимо настроить правильные сетевые параметры, такие как имя сети/ [идентификатор набора служб](https://www.geeksforgeeks.org/service-set-identifier-ssid-in-computer-network/) ( `SSID`) и `password`. Итак, для подключения к роутеру ноутбук использует протокол беспроводной сети под названием [IEEE 802.11](https://en.wikipedia.org/wiki/IEEE_802.11) . Этот протокол определяет технические детали того, как беспроводные устройства взаимодействуют друг с другом и с WAP. Когда устройство хочет подключиться к сети Wi-Fi, оно отправляет запрос на WAP, чтобы инициировать процесс подключения. Этот запрос известен как `connection request frame` или `association request` и отправляется с помощью `IEEE 802.11` протокол беспроводной сети. Кадр запроса на соединение содержит различные поля информации, включая, помимо прочего:

|                                |                                                                                                 |
| ------------------------------ | ----------------------------------------------------------------------------------------------- |
| `MAC address`                  | Уникальный идентификатор беспроводного адаптера устройства.                                     |
| `SSID`                         | Имя сети, также известное как `Service Set Identifier` сети Wi-Fi.                              |
| `Supported data rates`         | Список скоростей передачи данных, которые может передавать устройство.                          |
| `Supported channels`           | Список `channels` (частоты), на которых устройство может обмениваться данными.                  |
| `Supported security protocols` | Список протоколов безопасности, которые может использовать устройство, например `WPA2`/ `WPA3`. |

Затем устройство использует эту информацию для настройки беспроводного адаптера и подключения к WAP. Как только соединение будет установлено, устройство сможет взаимодействовать с WAP и другими сетевыми устройствами. Он также может получить доступ к Интернету и другим онлайн-ресурсам через WAP, который действует как шлюз к проводной сети. Однако `SSID` можно скрыть, отключив трансляцию. Это означает, что устройства, выполняющие поиск этой конкретной WAP, не смогут идентифицировать ее. `SSID`. Тем не менее, `SSID` все еще можно найти в пакете аутентификации.

В дополнение к `IEEE 802.11` В сети Wi-Fi также могут использоваться другие сетевые протоколы и технологии, такие как TCP/IP, DHCP и WPA2, для выполнения таких задач, как назначение IP-адресов устройствам, маршрутизация трафика между устройствами и обеспечение безопасности.

#### WEP Challenge-Response Handshake

Подтверждение запроса-ответа — это процесс установления безопасного соединения между WAP и клиентским устройством в беспроводной сети, использующей протокол безопасности WEP. Это включает обмен пакетами между WAP и клиентским устройством для аутентификации устройства и установления безопасного соединения.

|**Шаг**|**ВОЗ**|**Описание**|
|---|---|---|
|1|`Client`|Отправляет пакет запроса ассоциации на WAP, запрашивая доступ.|
|2|`WAP`|Отвечает клиенту ответным пакетом ассоциации, который включает строку запроса.|
|3|`Client`|Вычисляет ответ на строку запроса и общий секретный ключ и отправляет его обратно на WAP.|
|4|`WAP`|Вычисляет ожидаемый ответ на запрос с тем же общим секретным ключом и отправляет клиенту ответный пакет аутентификации.|

Тем не менее, некоторые пакеты могут потеряться, поэтому так называемая `CRC` контрольная сумма интегрирована. [Циклическая проверка избыточностью](https://en.wikipedia.org/wiki/Cyclic_redundancy_check) ( `CRC`) — это механизм обнаружения ошибок, используемый в протоколе WEP для защиты от повреждения данных в беспроводной связи. Значение CRC рассчитывается для каждого пакета, передаваемого по беспроводной сети, на основе данных пакета. Он используется для проверки целостности данных. Когда устройство назначения получает пакет, значение CRC пересчитывается и сравнивается с исходным значением. Если значения совпадают, данные переданы успешно и без ошибок. Однако если значения не совпадают, данные повреждены и их необходимо передать повторно.

Дизайн `CRC` механизм имеет недостаток, который позволяет нам расшифровать один пакет `without` зная `encryption key`. Это потому, что `CRC` значение рассчитывается с использованием `plaintext` данные в пакете, а не зашифрованные данные. В WEP значение CRC включается в заголовок пакета вместе с зашифрованными данными. Когда устройство назначения получает пакет, `CRC` значение пересчитывается и сравнивается с исходным, чтобы гарантировать успешную передачу данных без каких-либо ошибок. Однако мы можем использовать `CRC` для определения данных открытого текста в пакете, даже если данные зашифрованы.

---

## Security Features

Сети Wi-Fi имеют несколько функций безопасности для защиты от несанкционированного доступа и обеспечения конфиденциальности и целостности данных, передаваемых по сети. Некоторые из ведущих функций безопасности включают, помимо прочего:

- Шифрование
- Контроль доступа
- Брандмауэр

#### Encryption

Мы можем использовать различные алгоритмы шифрования для защиты конфиденциальности данных, передаваемых по беспроводным сетям. Наиболее распространенными алгоритмами шифрования в сетях Wi-Fi являются [проводной эквивалент конфиденциальности](https://en.wikipedia.org/wiki/Wired_Equivalent_Privacy) ( `WEP`), [Защищенный доступ Wi-Fi 2](https://en.wikipedia.org/wiki/Wi-Fi_Protected_Access#WPA2) ( `WPA2`) и [защищенный доступ Wi-Fi 3](https://en.wikipedia.org/wiki/Wi-Fi_Protected_Access#WPA3) ( `WPA3`).

#### #### Access Control

Сети Wi-Fi по умолчанию настроены таким образом, чтобы разрешить авторизованным устройствам подключаться к сети с использованием определенных методов аутентификации. Однако эти методы можно изменить, потребовав пароль или уникальный идентификатор (например, MAC-адрес) для идентификации авторизованных устройств.

#### Firewall

Брандмауэр — это система безопасности, которая контролирует входящий и исходящий сетевой трафик на основе заранее определенных правил безопасности. Например, Wi-Fi-маршрутизаторы часто имеют встроенные межсетевые экраны, которые могут блокировать входящий трафик из Интернета и защищать от различных типов киберугроз.

---

## Encryption Protocols

[Проводной эквивалент конфиденциальности](https://en.wikipedia.org/wiki/Wired_Equivalent_Privacy) ( `WEP`) и [защищенный доступ Wi-Fi](https://en.wikipedia.org/wiki/Wi-Fi_Protected_Access) ( `WPA`) — это протоколы шифрования, обеспечивающие защиту данных, передаваемых по сети Wi-Fi. WPA может использовать различные алгоритмы шифрования, включая [Advanced Encryption Standard](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard) ( `AES`).

#### WEP

`WEP` использует `40-bit` или `104-bit` ключ для шифрования данных, в то время как `WPA using AES` использует `128-bit` ключ. Более длинные ключи обеспечивают более надежное шифрование и более устойчивы к атакам. Однако он уязвим для различных атак, которые могут позволить злоумышленнику расшифровать данные, передаваемые по сети. Кроме того, WEP несовместим с новыми устройствами и операционными системами и, как правило, больше не считается безопасным. Окончательно, `WEP` использует `RC4 cipher` алгоритм шифрования, что делает его уязвимым для атак.

Однако WEP использует `shared key` для аутентификации, что означает, что для шифрования и аутентификации используется один и тот же ключ. Существует две версии протокола WEP:

- `WEP-40`/ `WEP-64`
- `WEP-104`

`WEP-40`, также известный как `WEP-64`, использует `40-bit` (секретный) ключ, в то время как `WEP-104` использует `104-bit` ключ. Ключ разделен на [вектор инициализации](https://en.wikipedia.org/wiki/Initialization_vector) ( `IV`) и `secret key`.

The `IV` — это небольшое значение, включенное в заголовок пакета вместе с зашифрованными данными и используемое для создания ключа для обоих `WEP-40` и `WEP-104` и включен для обеспечения уникальности каждого ключа. Секретный ключ представляет собой серию случайных битов, используемых для шифрования данных. Однако `WEP-104` имеет `80-bits` длинный `secret key`. Давайте посмотрим на следующую таблицу, чтобы ясно увидеть различия:

|**Протокол**|**IV**|**Секретный ключ**|
|---|---|---|
|`WEP-40`/ `WEP-64`|24-битный|40-битный|
|`WEP-104`|24-битный|80-битный|

Однако, поскольку IV в WEP относительно невелик, мы можем перебрать его, попробовать все возможные комбинации символов и определить правильное значение. После этого мы можем использовать его для расшифровки данных в пакете. Это позволяет нам получить доступ к данным, передаваемым по беспроводной сети, и потенциально поставить под угрозу безопасность сети.

#### WPA

`WPA` обеспечивает высочайший уровень безопасности и не подвержен тем же типам атак, что и WEP. Кроме того, WPA использует более безопасные методы аутентификации, такие как [предварительный общий ключ](https://en.wikipedia.org/wiki/Pre-shared_key) ( `PSK`) или сервер аутентификации 802.1X, которые обеспечивают более надежную защиту от несанкционированного доступа. Хотя старые устройства могут не поддерживать WPA, он совместим с большинством устройств и операционных систем. Все беспроводные сети, особенно в критически важных инфраструктурах, таких как офисы, обычно должны реализовывать как минимум `WPA2` или даже `WPA3` шифрование.

---

## Authentication Protocols

[Облегченный расширяемый протокол аутентификации](https://en.wikipedia.org/wiki/Lightweight_Extensible_Authentication_Protocol) ( `LEAP`) и [Защищенный расширяемый протокол аутентификации](https://en.wikipedia.org/wiki/Protected_Extensible_Authentication_Protocol) ( `PEAP`) — это протоколы аутентификации, используемые для защиты беспроводных сетей для обеспечения безопасного метода аутентификации устройств в беспроводной сети и часто используемые в сочетании с WEP или WPA для обеспечения дополнительного уровня безопасности.

LEAP и PEAP основаны на [расширяемом протоколе аутентификации](https://en.wikipedia.org/wiki/Extensible_Authentication_Protocol) ( `EAP`), инфраструктура аутентификации, используемая в различных сетевых контекстах. Однако одно ключевое различие между `LEAP` и `PEAP` это то, как они защищают процесс аутентификации.

- `LEAP` использует `shared key` для аутентификации, что означает, что `same key` используется для `encryption and authentication`.

Это может значительно облегчить нам доступ к сети, если ключ скомпрометирован.

Однако, `PEAP` использует более безопасный метод аутентификации, называемый туннелированной [безопасностью транспортного уровня](https://en.wikipedia.org/wiki/Transport_Layer_Security) ( `TLS`). Этот метод устанавливает безопасное соединение между устройством и WAP с помощью `digital certificate`, а зашифрованный туннель защищает процесс аутентификации. Это обеспечивает более надежную защиту от несанкционированного доступа и более устойчиво к атакам.

---

## TACACS+

В беспроводной сети, когда точка беспроводного доступа (WAP) отправляет запрос аутентификации в [систему контроля доступа контроллера доступа к терминалу Plus](https://www.ciscopress.com/articles/article.asp?p=422947&seqNum=4) ( `TACACS+`) сервер, вполне вероятно, что `entire request packet` будут зашифрованы для защиты конфиденциальности и целостности запроса.

`TACACS+` — это протокол, используемый для аутентификации и авторизации пользователей, имеющих доступ к сетевым устройствам, таким как маршрутизаторы и коммутаторы. Когда WAP отправляет запрос аутентификации на `TACACS+` серверу запрос обычно включает учетные данные пользователя и другую информацию о сеансе.

Шифрование запроса аутентификации помогает гарантировать, что эта конфиденциальная информация не будет видна неавторизованным лицам, которые могут перехватить запрос. В то же время он передается по сети. Это также помогает предотвратить подделку запроса или замену его собственным вредоносным запросом.

Для шифрования запроса аутентификации можно использовать несколько методов шифрования, например: `SSL`/ `TLS` или `IPSec`. Конкретный используемый метод шифрования может зависеть от конфигурации `TACACS+` сервера и возможности WAP.

---

## Disassociation Attack

– [Атака диссоциации](https://www.makeuseof.com/what-are-disassociation-attacks/) это разновидность `all` Атака на беспроводную сеть, целью которой является нарушение связи между WAP и ее клиентами путем отправки кадров диссоциации одному или нескольким клиентам.

WAP использует кадры разъединения для отключения клиента от сети. Когда WAP отправляет клиенту кадр разъединения, клиент отключается от сети и ему придется повторно подключиться, чтобы продолжить использование сети.

Мы можем начать атаку с `within` или `outside` сети в зависимости от нашего местоположения и мер сетевой безопасности. Целью этой атаки является нарушение связи между WAP и ее клиентами, что приведет к отключению клиентов и, возможно, причинит неудобства или сбои в работе пользователей. Мы также можем использовать его в качестве предшественника других атак, таких как MITM-атака, заставляя клиентов повторно подключаться к сети и потенциально подвергая их дальнейшим атакам.

---

## Wireless Hardening

Существует множество различных способов защиты беспроводных сетей. Однако следует рассмотреть некоторые примеры, позволяющие значительно повысить безопасность беспроводных сетей. Это следующее, но не ограничивается:

- Отключение трансляции
- Защищенный доступ Wi-Fi
- MAC-фильтрация
- Развертывание EAP-TLS

#### Disabling Broadcasting

Отключение широковещательной передачи SSID — это мера безопасности, которая может помочь укрепить WAP, затруднив его обнаружение и подключение к сети. Когда SSID транслируется, он включается в кадры маяков, регулярно передаваемые WAP, чтобы объявить о доступности сети. Отключив трансляцию SSID, WAP не будет передавать кадры маяка, и сеть не будет видна устройствам, которые еще не подключены к сети.

#### WPA

Опять же, WPA обеспечивает надежное шифрование и аутентификацию для беспроводной связи, помогая защитить от несанкционированного доступа к сети и перехвата конфиденциальных данных. WPA включает две основные версии:

1. WPA-Персональный
2. WPA-предприятие

WPA-Personal, предназначенный для домашних сетей и сетей малого бизнеса, и WPA-Enterprise, предназначенный для крупных организаций и использующий централизованный сервер аутентификации (например, RADIUS или TACACS+) для проверки личности клиентов.

#### MAC Filtering

Фильтрация MAC-адресов — это мера безопасности, которая позволяет WAP принимать или отклонять соединения от определенных устройств на основе их MAC-адресов. Настроив WAP на прием подключений только от устройств с утвержденными MAC-адресами, можно предотвратить подключение неавторизованных устройств к сети.

#### Deploying EAP-TLS

EAP-TLS — это протокол безопасности, используемый для аутентификации и шифрования беспроводной связи. Он использует цифровые сертификаты и PKI для проверки личности клиентов и установления безопасных соединений. Развертывание EAP-TLS может помочь укрепить WAP, обеспечив надежную аутентификацию и шифрование для беспроводной связи, что может защитить от несанкционированного доступа к сети и перехвата конфиденциальных данных.